"use strict";var Kre=Object.defineProperty,Qre=Object.defineProperties,Jre=Object.getOwnPropertyDescriptors,KH=Object.getOwnPropertySymbols,Xre=Object.prototype.hasOwnProperty,ese=Object.prototype.propertyIsEnumerable,QH=(wt,Oe,G)=>Oe in wt?Kre(wt,Oe,{enumerable:!0,configurable:!0,writable:!0,value:G}):wt[Oe]=G,JH=(wt,Oe)=>{for(var G in Oe||(Oe={}))Xre.call(Oe,G)&&QH(wt,G,Oe[G]);if(KH)for(var G of KH(Oe))ese.call(Oe,G)&&QH(wt,G,Oe[G]);return wt},XH=(wt,Oe)=>Qre(wt,Jre(Oe));(self.webpackChunkpokemon_api_app=self.webpackChunkpokemon_api_app||[]).push([[179],{2011:(wt,Oe,G)=>{G.d(Oe,{hO:()=>_t,xv:()=>le,Dh:()=>we,GT:()=>Re,cc:()=>Ze,on:()=>de,pX:()=>Ae});var o=G(5e3),ee=G(127),H=G(7937);wt=G.hmd(wt);const Ne=["ngOnDestroy"],Ae=(qe,Et,yt,We={})=>new Proxy(qe,{get:(Ge,Ve)=>yt.runOutsideAngular(()=>{var gt;if(qe[Ve])return(null===(gt=null==We?void 0:We.spy)||void 0===gt?void 0:gt.get)&&We.spy.get(Ve,qe[Ve]),qe[Ve];if(Ne.indexOf(Ve)>-1)return()=>{};const De=Et.toPromise().then(ke=>{const se=ke&&ke[Ve];return"function"==typeof se?se.bind(ke):se&&se.then?se.then(ye=>yt.run(()=>ye)):yt.run(()=>se)});return new Proxy(()=>{},{get:(ke,se)=>De[se],apply:(ke,se,ye)=>De.then(Ee=>{var Ce;const Ue=Ee&&Ee(...ye);return(null===(Ce=null==We?void 0:We.spy)||void 0===Ce?void 0:Ce.apply)&&We.spy.apply(Ve,ye,Ue),Ue})})})}),Re=(qe,Et)=>{Et.forEach(yt=>{Object.getOwnPropertyNames(yt.prototype||yt).forEach(We=>{Object.defineProperty(qe.prototype,We,Object.getOwnPropertyDescriptor(yt.prototype||yt,We))})})};class be{constructor(Et){return Et}}const we=new o.OlP("angularfire2.app.options"),le=new o.OlP("angularfire2.app.name");function de(qe,Et,yt){const Ge="object"==typeof yt&&yt||{};Ge.name=Ge.name||"string"==typeof yt&&yt||"[DEFAULT]";const gt=ee.Z.apps.filter(De=>De&&De.name===Ge.name)[0]||Et.runOutsideAngular(()=>ee.Z.initializeApp(qe,Ge));try{JSON.stringify(qe)!==JSON.stringify(gt.options)&&ne("error",`${gt.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(De){}return new be(gt)}const ne=(qe,...Et)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[qe](...Et)},Se={provide:be,useFactory:de,deps:[we,o.R0b,[new o.FiY,le]]};let _t=(()=>{class qe{constructor(yt){ee.Z.registerVersion("angularfire",H.q4.full,"core"),ee.Z.registerVersion("angularfire",H.q4.full,"app-compat"),ee.Z.registerVersion("angular",o.q4F.full,yt.toString())}static initializeApp(yt,We){return{ngModule:qe,providers:[{provide:we,useValue:yt},{provide:le,useValue:We}]}}}return qe.\u0275fac=function(yt){return new(yt||qe)(o.LFG(o.Lbi))},qe.\u0275mod=o.oAB({type:qe}),qe.\u0275inj=o.cJS({providers:[Se]}),qe})();function Ze(qe,Et,yt,We,Ge){const[,Ve,gt]=globalThis.\u0275AngularfireInstanceCache.find(De=>De[0]===qe)||[];if(Ve)return function Qe(qe,Et){try{return qe.toString()===Et.toString()}catch(yt){return qe===Et}}(Ge,gt)||($e("error",`${Et} was already initialized on the ${yt} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),$e("warn",{is:Ge,was:gt})),Ve;{const De=We();return globalThis.\u0275AngularfireInstanceCache.push([qe,De,Ge]),De}}const mt=!!wt.hot,$e=(qe,...Et)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[qe](...Et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7937:(wt,Oe,G)=>{G.d(Oe,{q4:()=>Dw,iC:()=>Ng,fc:()=>Wv,HU:()=>ys,vb:()=>Pg,JM:()=>Gv});var o=G(5e3),ee=G(5867),H=G(5861),Ne=G(9206);function Ce(){return"object"==typeof indexedDB}function Ue(){return new Promise((g,f)=>{try{let _=!0;const I="validate-browser-context-for-indexeddb-analytics-module",C=self.indexedDB.open(I);C.onsuccess=()=>{C.result.close(),_||self.indexedDB.deleteDatabase(I),g(!0)},C.onupgradeneeded=()=>{_=!1},C.onerror=()=>{var F;f((null===(F=C.error)||void 0===F?void 0:F.message)||"")}}catch(_){f(_)}})}class Wn extends Error{constructor(f,_,I){super(_),this.code=f,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(f,_,I){this.service=f,this.serviceName=_,this.errors=I}create(f,..._){const I=_[0]||{},C=`${this.service}/${f}`,F=this.errors[f],q=F?function Pt(g,f){return g.replace(Zi,(_,I)=>{const C=f[I];return null!=C?String(C):`<${I}?>`})}(F,I):"Error";return new Wn(C,`${this.serviceName}: ${q} (${C}).`,I)}}const Zi=/\{\$([^}]+)}/g;function ie(g,f=1e3,_=2){const I=f*Math.pow(_,g),C=Math.round(.5*I*(Math.random()-.5)*2);return Math.min(144e5,I+C)}class ge{constructor(f,_,I){this.name=f,this.instanceFactory=_,this.type=I,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}const ti=[];var It=(()=>{return(g=It||(It={}))[g.DEBUG=0]="DEBUG",g[g.VERBOSE=1]="VERBOSE",g[g.INFO=2]="INFO",g[g.WARN=3]="WARN",g[g.ERROR=4]="ERROR",g[g.SILENT=5]="SILENT",It;var g})();const Ki={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},$r=It.INFO,Lo={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},Va=(g,f,..._)=>{if(f<g.logLevel)return;const I=(new Date).toISOString(),C=Lo[f];if(!C)throw new Error(`Attempted to log a message with an invalid logType (value: ${f})`);console[C](`[${I}]  ${g.name}:`,..._)};class ni{constructor(f){this.name=f,this._logLevel=$r,this._logHandler=Va,this._userLogHandler=null,ti.push(this)}get logLevel(){return this._logLevel}set logLevel(f){if(!(f in It))throw new TypeError(`Invalid value "${f}" assigned to \`logLevel\``);this._logLevel=f}setLogLevel(f){this._logLevel="string"==typeof f?Ki[f]:f}get logHandler(){return this._logHandler}set logHandler(f){if("function"!=typeof f)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=f}get userLogHandler(){return this._userLogHandler}set userLogHandler(f){this._userLogHandler=f}debug(...f){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...f),this._logHandler(this,It.DEBUG,...f)}log(...f){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...f),this._logHandler(this,It.VERBOSE,...f)}info(...f){this._userLogHandler&&this._userLogHandler(this,It.INFO,...f),this._logHandler(this,It.INFO,...f)}warn(...f){this._userLogHandler&&this._userLogHandler(this,It.WARN,...f),this._logHandler(this,It.WARN,...f)}error(...f){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...f),this._logHandler(this,It.ERROR,...f)}}class Ri extends Error{constructor(f,_,I){super(_),this.code=f,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ci.prototype.create)}}class ci{constructor(f,_,I){this.service=f,this.serviceName=_,this.errors=I}create(f,..._){const I=_[0]||{},C=`${this.service}/${f}`,F=this.errors[f],q=F?function Pi(g,f){return g.replace(_a,(_,I)=>{const C=f[I];return null!=C?String(C):`<${I}?>`})}(F,I):"Error";return new Ri(C,`${this.serviceName}: ${q} (${C}).`,I)}}const _a=/\{\$([^}]+)}/g;class R{constructor(f,_,I){this.name=f,this.instanceFactory=_,this.type=I,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}var St=G(8766);const un="@firebase/installations",$t="0.5.12",qn=`w:${$t}`,gn="FIS_v2",ds=new ci("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fo(g){return g instanceof Ri&&g.code.includes("request-failed")}function tr({projectId:g}){return`https://firebaseinstallations.googleapis.com/v1/projects/${g}/installations`}function Ha(g){return{token:g.token,requestStatus:2,expiresIn:Lu(g.expiresIn),creationTime:Date.now()}}function po(g,f){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,H.Z)(function*(g,f){const I=(yield f.json()).error;return ds.create("request-failed",{requestName:g,serverCode:I.code,serverMessage:I.message,serverStatus:I.status})})).apply(this,arguments)}function ks({apiKey:g}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":g})}function za(g,{refreshToken:f}){const _=ks(g);return _.append("Authorization",function Nc(g){return`${gn} ${g}`}(f)),_}function ya(g){return jt.apply(this,arguments)}function jt(){return(jt=(0,H.Z)(function*(g){const f=yield g();return f.status>=500&&f.status<600?g():f})).apply(this,arguments)}function Lu(g){return Number(g.replace("s","000"))}function Nf(g,f){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,H.Z)(function*({appConfig:g,heartbeatServiceProvider:f},{fid:_}){const I=tr(g),C=ks(g),F=f.getImmediate({optional:!0});if(F){const Ke=yield F.getHeartbeatsHeader();Ke&&C.append("x-firebase-client",Ke)}const he={method:"POST",headers:C,body:JSON.stringify({fid:_,authVersion:gn,appId:g.appId,sdkVersion:qn})},Pe=yield ya(()=>fetch(I,he));if(Pe.ok){const Ke=yield Pe.json();return{fid:Ke.fid||_,registrationStatus:2,refreshToken:Ke.refreshToken,authToken:Ha(Ke.authToken)}}throw yield po("Create Installation",Pe)})).apply(this,arguments)}function oh(g){return new Promise(f=>{setTimeout(f,g)})}const Um=/^[cdef][\w-]{21}$/;function mn(){try{const g=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(g),g[0]=112+g[0]%16;const _=function lh(g){return function ah(g){return btoa(String.fromCharCode(...g)).replace(/\+/g,"-").replace(/\//g,"_")}(g).substr(0,22)}(g);return Um.test(_)?_:""}catch(g){return""}}function zn(g){return`${g.appName}!${g.appId}`}const Ys=new Map;function Ll(g,f){const _=zn(g);Bu(_,f),function Ff(g,f){const _=function Lc(){return!va&&"BroadcastChannel"in self&&(va=new BroadcastChannel("[Firebase] FID Change"),va.onmessage=g=>{Bu(g.data.key,g.data.fid)}),va}();_&&_.postMessage({key:g,fid:f}),function $a(){0===Ys.size&&va&&(va.close(),va=null)}()}(_,f)}function Bu(g,f){const _=Ys.get(g);if(_)for(const I of _)I(f)}let va=null;const ba="firebase-installations-store";let mo=null;function Qs(){return mo||(mo=(0,St.X3)("firebase-installations-database",1,{upgrade:(g,f)=>{0===f&&g.createObjectStore(ba)}})),mo}function Bl(g,f){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,H.Z)(function*(g,f){const _=zn(g),C=(yield Qs()).transaction(ba,"readwrite"),F=C.objectStore(ba),q=yield F.get(_);return yield F.put(f,_),yield C.done,(!q||q.fid!==f.fid)&&Ll(g,f.fid),f})).apply(this,arguments)}function Bc(g){return uh.apply(this,arguments)}function uh(){return(uh=(0,H.Z)(function*(g){const f=zn(g),I=(yield Qs()).transaction(ba,"readwrite");yield I.objectStore(ba).delete(f),yield I.done})).apply(this,arguments)}function Ho(g,f){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,H.Z)(function*(g,f){const _=zn(g),C=(yield Qs()).transaction(ba,"readwrite"),F=C.objectStore(ba),q=yield F.get(_),he=f(q);return void 0===he?yield F.delete(_):yield F.put(he,_),yield C.done,he&&(!q||q.fid!==he.fid)&&Ll(g,he.fid),he})).apply(this,arguments)}function Vc(g){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,H.Z)(function*(g){let f;const _=yield Ho(g.appConfig,I=>{const C=Uy(I),F=Lf(g,C);return f=F.registrationPromise,F.installationEntry});return""===_.fid?{installationEntry:yield f}:{installationEntry:_,registrationPromise:f}})).apply(this,arguments)}function Uy(g){return jl(g||{fid:mn(),registrationStatus:0})}function Lf(g,f){if(0===f.registrationStatus){if(!navigator.onLine)return{installationEntry:f,registrationPromise:Promise.reject(ds.create("app-offline"))};const _={fid:f.fid,registrationStatus:1,registrationTime:Date.now()},I=function Ul(g,f){return Uu.apply(this,arguments)}(g,_);return{installationEntry:_,registrationPromise:I}}return 1===f.registrationStatus?{installationEntry:f,registrationPromise:Ga(g)}:{installationEntry:f}}function Uu(){return(Uu=(0,H.Z)(function*(g,f){try{const _=yield Nf(g,f);return Bl(g.appConfig,_)}catch(_){throw fo(_)&&409===_.customData.serverCode?yield Bc(g.appConfig):yield Bl(g.appConfig,{fid:f.fid,registrationStatus:0}),_}})).apply(this,arguments)}function Ga(g){return ju.apply(this,arguments)}function ju(){return(ju=(0,H.Z)(function*(g){let f=yield Bf(g.appConfig);for(;1===f.registrationStatus;)yield oh(100),f=yield Bf(g.appConfig);if(0===f.registrationStatus){const{installationEntry:_,registrationPromise:I}=yield Vc(g);return I||_}return f})).apply(this,arguments)}function Bf(g){return Ho(g,f=>{if(!f)throw ds.create("installation-not-found");return jl(f)})}function jl(g){return function wa(g){return 1===g.registrationStatus&&g.registrationTime+1e4<Date.now()}(g)?{fid:g.fid,registrationStatus:0}:g}function jm(g,f){return nr.apply(this,arguments)}function nr(){return(nr=(0,H.Z)(function*({appConfig:g,heartbeatServiceProvider:f},_){const I=zo(g,_),C=za(g,_),F=f.getImmediate({optional:!0});if(F){const Ke=yield F.getHeartbeatsHeader();Ke&&C.append("x-firebase-client",Ke)}const he={method:"POST",headers:C,body:JSON.stringify({installation:{sdkVersion:qn,appId:g.appId}})},Pe=yield ya(()=>fetch(I,he));if(Pe.ok)return Ha(yield Pe.json());throw yield po("Generate Auth Token",Pe)})).apply(this,arguments)}function zo(g,{fid:f}){return`${tr(g)}/${f}/authTokens:generate`}function ri(g){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,H.Z)(function*(g,f=!1){let _;const I=yield Ho(g.appConfig,F=>{if(!Hl(F))throw ds.create("not-registered");const q=F.authToken;if(!f&&$o(q))return F;if(1===q.requestStatus)return _=H0(g,f),F;{if(!navigator.onLine)throw ds.create("app-offline");const he=dh(F);return _=z0(g,he),he}});return _?yield _:I.authToken})).apply(this,arguments)}function H0(g,f){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,H.Z)(function*(g,f){let _=yield Hm(g.appConfig);for(;1===_.authToken.requestStatus;)yield oh(100),_=yield Hm(g.appConfig);const I=_.authToken;return 0===I.requestStatus?ri(g,f):I})).apply(this,arguments)}function Hm(g){return Ho(g,f=>{if(!Hl(f))throw ds.create("not-registered");return function zm(g){return 1===g.requestStatus&&g.requestTime+1e4<Date.now()}(f.authToken)?Object.assign(Object.assign({},f),{authToken:{requestStatus:0}}):f})}function z0(g,f){return jf.apply(this,arguments)}function jf(){return(jf=(0,H.Z)(function*(g,f){try{const _=yield jm(g,f),I=Object.assign(Object.assign({},f),{authToken:_});return yield Bl(g.appConfig,I),_}catch(_){if(!fo(_)||401!==_.customData.serverCode&&404!==_.customData.serverCode){const I=Object.assign(Object.assign({},f),{authToken:{requestStatus:0}});yield Bl(g.appConfig,I)}else yield Bc(g.appConfig);throw _}})).apply(this,arguments)}function Hl(g){return void 0!==g&&2===g.registrationStatus}function $o(g){return 2===g.requestStatus&&!function jc(g){const f=Date.now();return f<g.creationTime||g.creationTime+g.expiresIn<f+36e5}(g)}function dh(g){const f={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},g),{authToken:f})}function Go(){return(Go=(0,H.Z)(function*(g){const f=g,{installationEntry:_,registrationPromise:I}=yield Vc(f);return I?I.catch(console.error):ri(f).catch(console.error),_.fid})).apply(this,arguments)}function Hu(){return(Hu=(0,H.Z)(function*(g,f=!1){const _=g;return yield Hy(_),(yield ri(_,f)).token})).apply(this,arguments)}function Hy(g){return Os.apply(this,arguments)}function Os(){return(Os=(0,H.Z)(function*(g){const{registrationPromise:f}=yield Vc(g);f&&(yield f)})).apply(this,arguments)}function si(g){return ds.create("missing-app-config-values",{valueName:g})}const hh="installations",Gl=g=>{const f=g.getProvider("app").getImmediate(),_=function ir(g){if(!g||!g.options)throw si("App Configuration");if(!g.name)throw si("App Name");const f=["projectId","apiKey","appId"];for(const _ of f)if(!g.options[_])throw si(_);return{appName:g.name,projectId:g.options.projectId,apiKey:g.options.apiKey,appId:g.options.appId}}(f);return{app:f,appConfig:_,heartbeatServiceProvider:(0,Ne._getProvider)(f,"heartbeat"),_delete:()=>Promise.resolve()}},ji=g=>{const f=g.getProvider("app").getImmediate(),_=(0,Ne._getProvider)(f,hh).getImmediate();return{getId:()=>function jy(g){return Go.apply(this,arguments)}(_),getToken:C=>function zl(g){return Hu.apply(this,arguments)}(_,C)}};(function qa(){(0,Ne._registerComponent)(new R(hh,Gl,"PUBLIC")),(0,Ne._registerComponent)(new R("installations-internal",ji,"PRIVATE"))})(),(0,Ne.registerVersion)(un,$t),(0,Ne.registerVersion)(un,$t,"esm2017");const Za="@firebase/remote-config",rr=new Mt("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qu{constructor(f,_,I,C){this.client=f,this.storage=_,this.storageCache=I,this.logger=C}isCachedDataFresh(f,_){if(!_)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const I=Date.now()-_,C=I<=f;return this.logger.debug(`Config fetch cache check. Cache age millis: ${I}. Cache max age millis (minimumFetchIntervalMillis setting): ${f}. Is cache hit: ${C}.`),C}fetch(f){var _=this;return(0,H.Z)(function*(){const[I,C]=yield Promise.all([_.storage.getLastSuccessfulFetchTimestampMillis(),_.storage.getLastSuccessfulFetchResponse()]);if(C&&_.isCachedDataFresh(f.cacheMaxAgeMillis,I))return C;f.eTag=C&&C.eTag;const F=yield _.client.fetch(f),q=[_.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===F.status&&q.push(_.storage.setLastSuccessfulFetchResponse(F)),yield Promise.all(q),F})()}}function yi(g=navigator){return g.languages&&g.languages[0]||g.language}class zi{constructor(f,_,I,C,F,q){this.firebaseInstallations=f,this.sdkVersion=_,this.namespace=I,this.projectId=C,this.apiKey=F,this.appId=q}fetch(f){var _=this;return(0,H.Z)(function*(){var I,C,F;const[q,he]=yield Promise.all([_.firebaseInstallations.getId(),_.firebaseInstallations.getToken()]),Ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${_.projectId}/namespaces/${_.namespace}:fetch?key=${_.apiKey}`,pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":f.eTag||"*"},me={sdk_version:_.sdkVersion,app_instance_id:q,app_instance_id_token:he,app_id:_.appId,language_code:yi()},Vt={method:"POST",headers:pt,body:JSON.stringify(me)},Sn=fetch(Ke,Vt),vs=new Promise((gd,To)=>{f.signal.addEventListener(()=>{const Fg=new Error("The operation was aborted.");Fg.name="AbortError",To(Fg)})});let cu;try{yield Promise.race([Sn,vs]),cu=yield Sn}catch(gd){let To="fetch-client-network";throw"AbortError"===(null===(I=gd)||void 0===I?void 0:I.name)&&(To="fetch-timeout"),rr.create(To,{originalErrorMessage:null===(C=gd)||void 0===C?void 0:C.message})}let Us=cu.status;const Mp=cu.headers.get("ETag")||void 0;let Ir,pl;if(200===cu.status){let gd;try{gd=yield cu.json()}catch(To){throw rr.create("fetch-client-parse",{originalErrorMessage:null===(F=To)||void 0===F?void 0:F.message})}Ir=gd.entries,pl=gd.state}if("INSTANCE_STATE_UNSPECIFIED"===pl?Us=500:"NO_CHANGE"===pl?Us=304:("NO_TEMPLATE"===pl||"EMPTY_CONFIG"===pl)&&(Ir={}),304!==Us&&200!==Us)throw rr.create("fetch-status",{httpStatus:Us});return{status:Us,eTag:Mp,config:Ir}})()}}class Rs{constructor(f,_){this.client=f,this.storage=_}fetch(f){var _=this;return(0,H.Z)(function*(){const I=(yield _.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return _.attemptFetch(f,I)})()}attemptFetch(f,{throttleEndTimeMillis:_,backoffCount:I}){var C=this;return(0,H.Z)(function*(){yield function Ni(g,f){return new Promise((_,I)=>{const C=Math.max(f-Date.now(),0),F=setTimeout(_,C);g.addEventListener(()=>{clearTimeout(F),I(rr.create("fetch-throttle",{throttleEndTimeMillis:f}))})})}(f.signal,_);try{const F=yield C.client.fetch(f);return yield C.storage.deleteThrottleMetadata(),F}catch(F){if(!function ql(g){if(!(g instanceof Wn&&g.customData))return!1;const f=Number(g.customData.httpStatus);return 429===f||500===f||503===f||504===f}(F))throw F;const q={throttleEndTimeMillis:Date.now()+ie(I),backoffCount:I+1};return yield C.storage.setThrottleMetadata(q),C.attemptFetch(f,q)}})()}}class vi{constructor(f,_,I,C,F){this.app=f,this._client=_,this._storageCache=I,this._storage=C,this._logger=F,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ca(g,f){var _;const I=g.target.error||void 0;return rr.create(f,{originalErrorMessage:I&&(null===(_=I)||void 0===_?void 0:_.message)})}const Xs="app_namespace_store";class $y{constructor(f,_,I,C=function Gm(){return new Promise((g,f)=>{var _;try{const I=indexedDB.open("firebase_remote_config",1);I.onerror=C=>{f(Ca(C,"storage-open"))},I.onsuccess=C=>{g(C.target.result)},I.onupgradeneeded=C=>{0===C.oldVersion&&C.target.result.createObjectStore(Xs,{keyPath:"compositeKey"})}}catch(I){f(rr.create("storage-open",{originalErrorMessage:null===(_=I)||void 0===_?void 0:_.message}))}})}()){this.appId=f,this.appName=_,this.namespace=I,this.openDbPromise=C}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(f){return this.set("last_fetch_status",f)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(f){return this.set("last_successful_fetch_timestamp_millis",f)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(f){return this.set("last_successful_fetch_response",f)}getActiveConfig(){return this.get("active_config")}setActiveConfig(f){return this.set("active_config",f)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(f){return this.set("active_config_etag",f)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(f){return this.set("throttle_metadata",f)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(f){var _=this;return(0,H.Z)(function*(){const I=yield _.openDbPromise;return new Promise((C,F)=>{var q;const Pe=I.transaction([Xs],"readonly").objectStore(Xs),Ke=_.createCompositeKey(f);try{const pt=Pe.get(Ke);pt.onerror=me=>{F(Ca(me,"storage-get"))},pt.onsuccess=me=>{const Vt=me.target.result;C(Vt?Vt.value:void 0)}}catch(pt){F(rr.create("storage-get",{originalErrorMessage:null===(q=pt)||void 0===q?void 0:q.message}))}})})()}set(f,_){var I=this;return(0,H.Z)(function*(){const C=yield I.openDbPromise;return new Promise((F,q)=>{var he;const Ke=C.transaction([Xs],"readwrite").objectStore(Xs),pt=I.createCompositeKey(f);try{const me=Ke.put({compositeKey:pt,value:_});me.onerror=Vt=>{q(Ca(Vt,"storage-set"))},me.onsuccess=()=>{F()}}catch(me){q(rr.create("storage-set",{originalErrorMessage:null===(he=me)||void 0===he?void 0:he.message}))}})})()}delete(f){var _=this;return(0,H.Z)(function*(){const I=yield _.openDbPromise;return new Promise((C,F)=>{var q;const Pe=I.transaction([Xs],"readwrite").objectStore(Xs),Ke=_.createCompositeKey(f);try{const pt=Pe.delete(Ke);pt.onerror=me=>{F(Ca(me,"storage-delete"))},pt.onsuccess=()=>{C()}}catch(pt){F(rr.create("storage-delete",{originalErrorMessage:null===(q=pt)||void 0===q?void 0:q.message}))}})})()}createCompositeKey(f){return[this.appId,this.appName,this.namespace,f].join()}}class Zl{constructor(f){this.storage=f}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var f=this;return(0,H.Z)(function*(){const _=f.storage.getLastFetchStatus(),I=f.storage.getLastSuccessfulFetchTimestampMillis(),C=f.storage.getActiveConfig(),F=yield _;F&&(f.lastFetchStatus=F);const q=yield I;q&&(f.lastSuccessfulFetchTimestampMillis=q);const he=yield C;he&&(f.activeConfig=he)})()}setLastFetchStatus(f){return this.lastFetchStatus=f,this.storage.setLastFetchStatus(f)}setLastSuccessfulFetchTimestampMillis(f){return this.lastSuccessfulFetchTimestampMillis=f,this.storage.setLastSuccessfulFetchTimestampMillis(f)}setActiveConfig(f){return this.activeConfig=f,this.storage.setActiveConfig(f)}}function el(){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,H.Z)(function*(){if(!Ce())return!1;try{return yield Ue()}catch(g){return!1}})).apply(this,arguments)}!function sr(){(0,Ne._registerComponent)(new ge("remote-config",function g(f,{instanceIdentifier:_}){const I=f.getProvider("app").getImmediate(),C=f.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw rr.create("registration-window");if(!Ce())throw rr.create("indexed-db-unavailable");const{projectId:F,apiKey:q,appId:he}=I.options;if(!F)throw rr.create("registration-project-id");if(!q)throw rr.create("registration-api-key");if(!he)throw rr.create("registration-app-id");const Pe=new $y(he,I.name,_=_||"firebase"),Ke=new Zl(Pe),pt=new ni(Za);pt.logLevel=It.ERROR;const me=new zi(C,Ne.SDK_VERSION,_,F,q,he),Vt=new Rs(me,Pe),Sn=new qu(Vt,Pe,Ke,pt),vs=new vi(I,Sn,Ke,Pe,pt);return function Hc(g){const f=function Fe(g){return g&&g._delegate?g._delegate:g}(g);f._initializePromise||(f._initializePromise=f._storageCache.loadFromStorage().then(()=>{f._isInitializationComplete=!0}))}(vs),vs},"PUBLIC").setMultipleInstances(!0)),(0,Ne.registerVersion)(Za,"0.3.11"),(0,Ne.registerVersion)(Za,"0.3.11","esm2017")}();function Yu(){return"object"==typeof indexedDB}function Ym(){return new Promise((g,f)=>{try{let _=!0;const I="validate-browser-context-for-indexeddb-analytics-module",C=self.indexedDB.open(I);C.onsuccess=()=>{C.result.close(),_||self.indexedDB.deleteDatabase(I),g(!0)},C.onupgradeneeded=()=>{_=!1},C.onerror=()=>{var F;f((null===(F=C.error)||void 0===F?void 0:F.message)||"")}}catch(_){f(_)}})}function di(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class qo extends Error{constructor(f,_,I){super(_),this.code=f,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,il.prototype.create)}}class il{constructor(f,_,I){this.service=f,this.serviceName=_,this.errors=I}create(f,..._){const I=_[0]||{},C=`${this.service}/${f}`,F=this.errors[f],q=F?function rl(g,f){return g.replace(Km,(_,I)=>{const C=f[I];return null!=C?String(C):`<${I}?>`})}(F,I):"Error";return new qo(C,`${this.serviceName}: ${q} (${C}).`,I)}}const Km=/\{\$([^}]+)}/g;class Yf{constructor(f,_,I){this.name=f,this.instanceFactory=_,this.type=I,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}const td="/firebase-messaging-sw.js",Ch="/firebase-cloud-messaging-push-scope",vo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Qf="google.c.a.c_id",Kc="google.c.a.c_l",ng="google.c.a.ts",ig="google.c.a.e";var Zr=(()=>{return(g=Zr||(Zr={})).PUSH_RECEIVED="push-received",g.NOTIFICATION_CLICKED="notification-clicked",Zr;var g})();function br(g){const f=new Uint8Array(g);return btoa(String.fromCharCode(...f)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ih(g){const _=(g+"=".repeat((4-g.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),I=atob(_),C=new Uint8Array(I.length);for(let F=0;F<I.length;++F)C[F]=I.charCodeAt(F);return C}const Qc="fcm_token_details_db",id="fcm_token_object_Store";function Th(g){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,H.Z)(function*(g){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(F=>F.name).includes(Qc))return null;let f=null;return(yield(0,St.X3)(Qc,5,{upgrade:(I=(0,H.Z)(function*(C,F,q,he){var Pe;if(F<2||!C.objectStoreNames.contains(id))return;const Ke=he.objectStore(id),pt=yield Ke.index("fcmSenderId").get(g);if(yield Ke.clear(),pt)if(2===F){const me=pt;if(!me.auth||!me.p256dh||!me.endpoint)return;f={token:me.fcmToken,createTime:null!==(Pe=me.createTime)&&void 0!==Pe?Pe:Date.now(),subscriptionOptions:{auth:me.auth,p256dh:me.p256dh,endpoint:me.endpoint,swScope:me.swScope,vapidKey:"string"==typeof me.vapidKey?me.vapidKey:br(me.vapidKey)}}}else if(3===F){const me=pt;f={token:me.fcmToken,createTime:me.createTime,subscriptionOptions:{auth:br(me.auth),p256dh:br(me.p256dh),endpoint:me.endpoint,swScope:me.swScope,vapidKey:br(me.vapidKey)}}}else if(4===F){const me=pt;f={token:me.fcmToken,createTime:me.createTime,subscriptionOptions:{auth:br(me.auth),p256dh:br(me.p256dh),endpoint:me.endpoint,swScope:me.swScope,vapidKey:br(me.vapidKey)}}}}),function(F,q,he,Pe){return I.apply(this,arguments)})})).close(),yield(0,St.Lj)(Qc),yield(0,St.Lj)("fcm_vapid_details_db"),yield(0,St.Lj)("undefined"),Xf(f)?f:null;var I}),Jc.apply(this,arguments)}function Xf(g){if(!g||!g.subscriptionOptions)return!1;const{subscriptionOptions:f}=g;return"number"==typeof g.createTime&&g.createTime>0&&"string"==typeof g.token&&g.token.length>0&&"string"==typeof f.auth&&f.auth.length>0&&"string"==typeof f.p256dh&&f.p256dh.length>0&&"string"==typeof f.endpoint&&f.endpoint.length>0&&"string"==typeof f.swScope&&f.swScope.length>0&&"string"==typeof f.vapidKey&&f.vapidKey.length>0}const wo="firebase-messaging-store";let sg=null;function D(){return sg||(sg=(0,St.X3)("firebase-messaging-database",1,{upgrade:(g,f)=>{0===f&&g.createObjectStore(wo)}})),sg}function b(g){return w.apply(this,arguments)}function w(){return(w=(0,H.Z)(function*(g){const f=Be(g),I=yield(yield D()).transaction(wo).objectStore(wo).get(f);if(I)return I;{const C=yield Th(g.appConfig.senderId);if(C)return yield A(g,C),C}})).apply(this,arguments)}function A(g,f){return V.apply(this,arguments)}function V(){return(V=(0,H.Z)(function*(g,f){const _=Be(g),C=(yield D()).transaction(wo,"readwrite");return yield C.objectStore(wo).put(f,_),yield C.done,f})).apply(this,arguments)}function W(g){return pe.apply(this,arguments)}function pe(){return(pe=(0,H.Z)(function*(g){const f=Be(g),I=(yield D()).transaction(wo,"readwrite");yield I.objectStore(wo).delete(f),yield I.done})).apply(this,arguments)}function Be({appConfig:g}){return g.appId}const vt=new il("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Kt(g,f){return Un.apply(this,arguments)}function Un(){return(Un=(0,H.Z)(function*(g,f){var _;const I=yield sd(g),C=rc(f),F={method:"POST",headers:I,body:JSON.stringify(C)};let q;try{q=yield(yield fetch(Eo(g.appConfig),F)).json()}catch(he){throw vt.create("token-subscribe-failed",{errorInfo:null===(_=he)||void 0===_?void 0:_.toString()})}if(q.error)throw vt.create("token-subscribe-failed",{errorInfo:q.error.message});if(!q.token)throw vt.create("token-subscribe-no-token");return q.token})).apply(this,arguments)}function Fs(g,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,H.Z)(function*(g,f){var _;const I=yield sd(g),C=rc(f.subscriptionOptions),F={method:"PATCH",headers:I,body:JSON.stringify(C)};let q;try{q=yield(yield fetch(`${Eo(g.appConfig)}/${f.token}`,F)).json()}catch(he){throw vt.create("token-update-failed",{errorInfo:null===(_=he)||void 0===_?void 0:_.toString()})}if(q.error)throw vt.create("token-update-failed",{errorInfo:q.error.message});if(!q.token)throw vt.create("token-update-no-token");return q.token})).apply(this,arguments)}function rd(g,f){return cl.apply(this,arguments)}function cl(){return(cl=(0,H.Z)(function*(g,f){var _;const C={method:"DELETE",headers:yield sd(g)};try{const q=yield(yield fetch(`${Eo(g.appConfig)}/${f}`,C)).json();if(q.error)throw vt.create("token-unsubscribe-failed",{errorInfo:q.error.message})}catch(F){throw vt.create("token-unsubscribe-failed",{errorInfo:null===(_=F)||void 0===_?void 0:_.toString()})}})).apply(this,arguments)}function Eo({projectId:g}){return`https://fcmregistrations.googleapis.com/v1/projects/${g}/registrations`}function sd(g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,H.Z)(function*({appConfig:g,installations:f}){const _=yield f.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":g.apiKey,"x-goog-firebase-installations-auth":`FIS ${_}`})})).apply(this,arguments)}function rc({p256dh:g,auth:f,endpoint:_,vapidKey:I}){const C={web:{endpoint:_,auth:f,p256dh:g}};return I!==vo&&(C.web.applicationPubKey=I),C}const tp=6048e5;function od(g){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,H.Z)(function*(g){const f=yield ld(g.swRegistration,g.vapidKey),_={vapidKey:g.vapidKey,swScope:g.swRegistration.scope,endpoint:f.endpoint,auth:br(f.getKey("auth")),p256dh:br(f.getKey("p256dh"))},I=yield b(g.firebaseDependencies);if(I){if(W0(I.subscriptionOptions,_))return Date.now()>=I.createTime+tp?eu(g,{token:I.token,createTime:Date.now(),subscriptionOptions:_}):I.token;try{yield rd(g.firebaseDependencies,I.token)}catch(C){console.warn(C)}return og(g.firebaseDependencies,_)}return og(g.firebaseDependencies,_)})).apply(this,arguments)}function ad(g){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,H.Z)(function*(g){const f=yield b(g.firebaseDependencies);f&&(yield rd(g.firebaseDependencies,f.token),yield W(g.firebaseDependencies));const _=yield g.swRegistration.pushManager.getSubscription();return!_||_.unsubscribe()})).apply(this,arguments)}function eu(g,f){return yn.apply(this,arguments)}function yn(){return(yn=(0,H.Z)(function*(g,f){try{const _=yield Fs(g.firebaseDependencies,f),I=Object.assign(Object.assign({},f),{token:_,createTime:Date.now()});return yield A(g.firebaseDependencies,I),_}catch(_){throw yield ad(g),_}})).apply(this,arguments)}function og(g,f){return np.apply(this,arguments)}function np(){return(np=(0,H.Z)(function*(g,f){const I={token:yield Kt(g,f),createTime:Date.now(),subscriptionOptions:f};return yield A(g,I),I.token})).apply(this,arguments)}function ld(g,f){return tu.apply(this,arguments)}function tu(){return(tu=(0,H.Z)(function*(g,f){return(yield g.pushManager.getSubscription())||g.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ih(f)})})).apply(this,arguments)}function W0(g,f){return f.vapidKey===g.vapidKey&&f.endpoint===g.endpoint&&f.auth===g.auth&&f.p256dh===g.p256dh}function Ky(g){const f={from:g.from,collapseKey:g.collapse_key,messageId:g.fcmMessageId};return function q0(g,f){if(!f.notification)return;g.notification={};const _=f.notification.title;_&&(g.notification.title=_);const I=f.notification.body;I&&(g.notification.body=I);const C=f.notification.image;C&&(g.notification.image=C)}(f,g),function Z0(g,f){!f.data||(g.data=f.data)}(f,g),function ip(g,f){var _,I,C,F,q;if(!f.fcmOptions&&!(null===(_=f.notification)||void 0===_?void 0:_.click_action))return;g.fcmOptions={};const he=null!==(C=null===(I=f.fcmOptions)||void 0===I?void 0:I.link)&&void 0!==C?C:null===(F=f.notification)||void 0===F?void 0:F.click_action;he&&(g.fcmOptions.link=he);const Pe=null===(q=f.fcmOptions)||void 0===q?void 0:q.analytics_label;Pe&&(g.fcmOptions.analyticsLabel=Pe)}(f,g),f}function Y0(g){return"object"==typeof g&&!!g&&Qf in g}function Qy(g,f){const _=[];for(let I=0;I<g.length;I++)_.push(g.charAt(I)),I<f.length&&_.push(f.charAt(I));return _.join("")}function wr(g){return vt.create("missing-app-config-values",{valueName:g})}Qy("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qy("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class nu{constructor(f,_,I){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const C=function sc(g){if(!g||!g.options)throw wr("App Configuration Object");if(!g.name)throw wr("App Name");const f=["projectId","apiKey","appId","messagingSenderId"],{options:_}=g;for(const I of f)if(!_[I])throw wr(I);return{appName:g.name,projectId:_.projectId,apiKey:_.apiKey,appId:_.appId,senderId:_.messagingSenderId}}(f);this.firebaseDependencies={app:f,appConfig:C,installations:_,analyticsProvider:I}}_delete(){return Promise.resolve()}}function rp(g){return sp.apply(this,arguments)}function sp(){return(sp=(0,H.Z)(function*(g){var f;try{g.swRegistration=yield navigator.serviceWorker.register(td,{scope:Ch}),g.swRegistration.update().catch(()=>{})}catch(_){throw vt.create("failed-service-worker-registration",{browserErrorMessage:null===(f=_)||void 0===f?void 0:f.message})}})).apply(this,arguments)}function Yr(g,f){return iu.apply(this,arguments)}function iu(){return(iu=(0,H.Z)(function*(g,f){if(!f&&!g.swRegistration&&(yield rp(g)),f||!g.swRegistration){if(!(f instanceof ServiceWorkerRegistration))throw vt.create("invalid-sw-registration");g.swRegistration=f}})).apply(this,arguments)}function ag(g,f){return lg.apply(this,arguments)}function lg(){return(lg=(0,H.Z)(function*(g,f){f?g.vapidKey=f:g.vapidKey||(g.vapidKey=vo)})).apply(this,arguments)}function ap(){return(ap=(0,H.Z)(function*(g,f){if(!navigator)throw vt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vt.create("permission-blocked");return yield ag(g,null==f?void 0:f.vapidKey),yield Yr(g,null==f?void 0:f.serviceWorkerRegistration),od(g)})).apply(this,arguments)}function Jy(g,f,_){return ru.apply(this,arguments)}function ru(){return(ru=(0,H.Z)(function*(g,f,_){const I=K0(f);(yield g.firebaseDependencies.analyticsProvider.get()).logEvent(I,{message_id:_[Qf],message_name:_[Kc],message_time:_[ng],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function K0(g){switch(g){case Zr.NOTIFICATION_CLICKED:return"notification_open";case Zr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function cd(){return(cd=(0,H.Z)(function*(g,f){const _=f.data;if(!_.isFirebaseMessaging)return;g.onMessageHandler&&_.messageType===Zr.PUSH_RECEIVED&&("function"==typeof g.onMessageHandler?g.onMessageHandler(Ky(_)):g.onMessageHandler.next(Ky(_)));const I=_.data;Y0(I)&&"1"===I[ig]&&(yield Jy(g,_.messageType,I))})).apply(this,arguments)}const ev="@firebase/messaging",Q0=g=>{const f=new nu(g.getProvider("app").getImmediate(),g.getProvider("installations-internal").getImmediate(),g.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",_=>function Xy(g,f){return cd.apply(this,arguments)}(f,_)),f},J0=g=>{const f=g.getProvider("messaging").getImmediate();return{getToken:I=>function op(g,f){return ap.apply(this,arguments)}(f,I)}};function tv(){return cg.apply(this,arguments)}function cg(){return(cg=(0,H.Z)(function*(){try{yield Ym()}catch(g){return!1}return"undefined"!=typeof window&&Yu()&&di()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function su(){(0,Ne._registerComponent)(new Yf("messaging",Q0,"PUBLIC")),(0,Ne._registerComponent)(new Yf("messaging-internal",J0,"PRIVATE")),(0,Ne.registerVersion)(ev,"0.9.16"),(0,Ne.registerVersion)(ev,"0.9.16","esm2017")}();const hg=[];var Xn=(()=>{return(g=Xn||(Xn={}))[g.DEBUG=0]="DEBUG",g[g.VERBOSE=1]="VERBOSE",g[g.INFO=2]="INFO",g[g.WARN=3]="WARN",g[g.ERROR=4]="ERROR",g[g.SILENT=5]="SILENT",Xn;var g})();const nv={debug:Xn.DEBUG,verbose:Xn.VERBOSE,info:Xn.INFO,warn:Xn.WARN,error:Xn.ERROR,silent:Xn.SILENT},nw=Xn.INFO,iw={[Xn.DEBUG]:"log",[Xn.VERBOSE]:"log",[Xn.INFO]:"info",[Xn.WARN]:"warn",[Xn.ERROR]:"error"},iv=(g,f,..._)=>{if(f<g.logLevel)return;const I=(new Date).toISOString(),C=iw[f];if(!C)throw new Error(`Attempted to log a message with an invalid logType (value: ${f})`);console[C](`[${I}]  ${g.name}:`,..._)};function hp(){const g="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof g&&void 0!==g.id}function Ah(){return"object"==typeof indexedDB}function ou(){return new Promise((g,f)=>{try{let _=!0;const I="validate-browser-context-for-indexeddb-analytics-module",C=self.indexedDB.open(I);C.onsuccess=()=>{C.result.close(),_||self.indexedDB.deleteDatabase(I),g(!0)},C.onupgradeneeded=()=>{_=!1},C.onerror=()=>{var F;f((null===(F=C.error)||void 0===F?void 0:F.message)||"")}}catch(_){f(_)}})}function gg(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class fd extends Error{constructor(f,_,I){super(_),this.code=f,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,fd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yg.prototype.create)}}class yg{constructor(f,_,I){this.service=f,this.serviceName=_,this.errors=I}create(f,..._){const I=_[0]||{},C=`${this.service}/${f}`,F=this.errors[f],q=F?function uv(g,f){return g.replace(fp,(_,I)=>{const C=f[I];return null!=C?String(C):`<${I}?>`})}(F,I):"Error";return new fd(C,`${this.serviceName}: ${q} (${C}).`,I)}}const fp=/\{\$([^}]+)}/g;function yv(g,f=1e3,_=2){const I=f*Math.pow(_,g),C=Math.round(.5*I*(Math.random()-.5)*2);return Math.min(144e5,I+C)}class _p{constructor(f,_,I){this.name=f,this.instanceFactory=_,this.type=I,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}const Ph="analytics",Cv="firebase_id",Iv="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tv="https://www.googletagmanager.com/gtag/js",Cr=new class oT{constructor(f){this.name=f,this._logLevel=nw,this._logHandler=iv,this._userLogHandler=null,hg.push(this)}get logLevel(){return this._logLevel}set logLevel(f){if(!(f in Xn))throw new TypeError(`Invalid value "${f}" assigned to \`logLevel\``);this._logLevel=f}setLogLevel(f){this._logLevel="string"==typeof f?nv[f]:f}get logHandler(){return this._logHandler}set logHandler(f){if("function"!=typeof f)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=f}get userLogHandler(){return this._userLogHandler}set userLogHandler(f){this._userLogHandler=f}debug(...f){this._userLogHandler&&this._userLogHandler(this,Xn.DEBUG,...f),this._logHandler(this,Xn.DEBUG,...f)}log(...f){this._userLogHandler&&this._userLogHandler(this,Xn.VERBOSE,...f),this._logHandler(this,Xn.VERBOSE,...f)}info(...f){this._userLogHandler&&this._userLogHandler(this,Xn.INFO,...f),this._logHandler(this,Xn.INFO,...f)}warn(...f){this._userLogHandler&&this._userLogHandler(this,Xn.WARN,...f),this._logHandler(this,Xn.WARN,...f)}error(...f){this._userLogHandler&&this._userLogHandler(this,Xn.ERROR,...f),this._logHandler(this,Xn.ERROR,...f)}}("@firebase/analytics");function Oa(g){return Promise.all(g.map(f=>f.catch(_=>_)))}function wg(g,f){const _=document.createElement("script");_.src=`${Tv}?l=${g}&id=${f}`,_.async=!0,document.head.appendChild(_)}function Eg(g,f,_,I,C,F){return Dv.apply(this,arguments)}function Dv(){return(Dv=(0,H.Z)(function*(g,f,_,I,C,F){const q=I[C];try{if(q)yield f[q];else{const Pe=(yield Oa(_)).find(Ke=>Ke.measurementId===C);Pe&&(yield f[Pe.appId])}}catch(he){Cr.error(he)}g("config",C,F)})).apply(this,arguments)}function mw(g,f,_,I,C){return xv.apply(this,arguments)}function xv(){return(xv=(0,H.Z)(function*(g,f,_,I,C){try{let F=[];if(C&&C.send_to){let q=C.send_to;Array.isArray(q)||(q=[q]);const he=yield Oa(_);for(const Pe of q){const Ke=he.find(me=>me.measurementId===Pe),pt=Ke&&f[Ke.appId];if(!pt){F=[];break}F.push(pt)}}0===F.length&&(F=Object.values(f)),yield Promise.all(F),g("event",I,C||{})}catch(F){Cr.error(F)}})).apply(this,arguments)}function Av(){const g=window.document.getElementsByTagName("script");for(const f of Object.values(g))if(f.src&&f.src.includes(Tv))return f;return null}const gs=new yg("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),kv=new class _w{constructor(f={},_=1e3){this.throttleMetadata=f,this.intervalMillis=_}getThrottleMetadata(f){return this.throttleMetadata[f]}setThrottleMetadata(f,_){this.throttleMetadata[f]=_}deleteThrottleMetadata(f){delete this.throttleMetadata[f]}};function Ov(g){return new Headers({Accept:"application/json","x-goog-api-key":g})}function yw(g){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,H.Z)(function*(g){var f;const{appId:_,apiKey:I}=g,C={method:"GET",headers:Ov(I)},F=Iv.replace("{app-id}",_),q=yield fetch(F,C);if(200!==q.status&&304!==q.status){let he="";try{const Pe=yield q.json();(null===(f=Pe.error)||void 0===f?void 0:f.message)&&(he=Pe.error.message)}catch(Pe){}throw gs.create("config-fetch-failed",{httpStatus:q.status,responseMessage:he})}return q.json()})).apply(this,arguments)}function mT(g){return vw.apply(this,arguments)}function vw(){return(vw=(0,H.Z)(function*(g,f=kv,_){const{appId:I,apiKey:C,measurementId:F}=g.options;if(!I)throw gs.create("no-app-id");if(!C){if(F)return{measurementId:F,appId:I};throw gs.create("no-api-key")}const q=f.getThrottleMetadata(I)||{backoffCount:0,throttleEndTimeMillis:Date.now()},he=new vM;return setTimeout((0,H.Z)(function*(){he.abort()}),void 0!==_?_:6e4),Rv({appId:I,apiKey:C,measurementId:F},q,he,f)})).apply(this,arguments)}function Rv(g,f,_){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,H.Z)(function*(g,{throttleEndTimeMillis:f,backoffCount:_},I,C=kv){var F,q;const{appId:he,measurementId:Pe}=g;try{yield gT(I,f)}catch(Ke){if(Pe)return Cr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pe} provided in the "measurementId" field in the local Firebase config. [${null===(F=Ke)||void 0===F?void 0:F.message}]`),{appId:he,measurementId:Pe};throw Ke}try{const Ke=yield yw(g);return C.deleteThrottleMetadata(he),Ke}catch(Ke){const pt=Ke;if(!Pv(pt)){if(C.deleteThrottleMetadata(he),Pe)return Cr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pe} provided in the "measurementId" field in the local Firebase config. [${null==pt?void 0:pt.message}]`),{appId:he,measurementId:Pe};throw Ke}const me=503===Number(null===(q=null==pt?void 0:pt.customData)||void 0===q?void 0:q.httpStatus)?yv(_,C.intervalMillis,30):yv(_,C.intervalMillis),Vt={throttleEndTimeMillis:Date.now()+me,backoffCount:_+1};return C.setThrottleMetadata(he,Vt),Cr.debug(`Calling attemptFetch again in ${me} millis`),Rv(g,Vt,I,C)}})).apply(this,arguments)}function gT(g,f){return new Promise((_,I)=>{const C=Math.max(f-Date.now(),0),F=setTimeout(_,C);g.addEventListener(()=>{clearTimeout(F),I(gs.create("fetch-throttle",{throttleEndTimeMillis:f}))})})}function Pv(g){if(!(g instanceof fd&&g.customData))return!1;const f=Number(g.customData.httpStatus);return 429===f||500===f||503===f||504===f}class vM{constructor(){this.listeners=[]}addEventListener(f){this.listeners.push(f)}abort(){this.listeners.forEach(f=>f())}}let bw,Dg;function Sg(){return(Sg=(0,H.Z)(function*(g,f,_,I,C){if(C&&C.global)g("event",_,I);else{const F=yield f;g("event",_,Object.assign(Object.assign({},I),{send_to:F}))}})).apply(this,arguments)}function Fh(g){Dg=g}function xg(g){bw=g}function wp(){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,H.Z)(function*(){var g;if(!Ah())return Cr.warn(gs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ou()}catch(f){return Cr.warn(gs.create("indexeddb-unavailable",{errorInfo:null===(g=f)||void 0===g?void 0:g.toString()}).message),!1}return!0})).apply(this,arguments)}function ul(){return(ul=(0,H.Z)(function*(g,f,_,I,C,F,q){var he;const Pe=mT(g);Pe.then(Sn=>{_[Sn.measurementId]=Sn.appId,g.options.measurementId&&Sn.measurementId!==g.options.measurementId&&Cr.warn(`The measurement ID in the local Firebase config (${g.options.measurementId}) does not match the measurement ID fetched from the server (${Sn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Sn=>Cr.error(Sn)),f.push(Pe);const Ke=wp().then(Sn=>{if(Sn)return I.getId()}),[pt,me]=yield Promise.all([Pe,Ke]);Av()||wg(F,pt.measurementId),Dg&&(C("consent","default",Dg),Fh(void 0)),C("js",new Date);const Vt=null!==(he=null==q?void 0:q.config)&&void 0!==he?he:{};return Vt.origin="firebase",Vt.update=!0,null!=me&&(Vt[Cv]=me),C("config",pt.measurementId,Vt),bw&&(C("set",bw),xg(void 0)),pt.measurementId})).apply(this,arguments)}class Iw{constructor(f){this.app=f}_delete(){return delete lc[this.app.options.appId],Promise.resolve()}}let lc={},Ag=[];const Nv={};let Lv,Io,Lh="dataLayer",lu=!1;function Bh(g,f,_){!function Si(){const g=[];if(hp()&&g.push("This is a browser extension environment."),gg()||g.push("Cookies are not available."),g.length>0){const f=g.map((I,C)=>`(${C+1}) ${I}`).join(" "),_=gs.create("invalid-analytics-context",{errorInfo:f});Cr.warn(_.message)}}();const I=g.options.appId;if(!I)throw gs.create("no-app-id");if(!g.options.apiKey){if(!g.options.measurementId)throw gs.create("no-api-key");Cr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${g.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lc[I])throw gs.create("already-exists",{id:I});if(!lu){!function Sv(g){let f=[];Array.isArray(window[g])?f=window[g]:window[g]=f}(Lh);const{wrappedGtag:F,gtagCore:q}=function Cg(g,f,_,I,C){let F=function(...q){window[I].push(arguments)};return window[C]&&"function"==typeof window[C]&&(F=window[C]),window[C]=function vp(g,f,_,I){function F(){return(F=(0,H.Z)(function*(q,he,Pe){try{"event"===q?yield mw(g,f,_,he,Pe):"config"===q?yield Eg(g,f,_,I,he,Pe):"consent"===q?g("consent","update",Pe):g("set",he)}catch(Ke){Cr.error(Ke)}})).apply(this,arguments)}return function C(q,he,Pe){return F.apply(this,arguments)}}(F,g,f,_),{gtagCore:F,wrappedGtag:window[C]}}(lc,Ag,Nv,Lh,"gtag");Io=F,Lv=q,lu=!0}return lc[I]=function yT(g,f,_,I,C,F,q){return ul.apply(this,arguments)}(g,Ag,Nv,f,Lv,Lh,_),new Iw(g)}function Vv(){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,H.Z)(function*(){if(hp()||!gg()||!Ah())return!1;try{return yield ou()}catch(g){return!1}})).apply(this,arguments)}const Mg="@firebase/analytics";!function bT(){(0,Ne._registerComponent)(new _p(Ph,(f,{options:_})=>Bh(f.getProvider("app").getImmediate(),f.getProvider("installations-internal").getImmediate(),_),"PUBLIC")),(0,Ne._registerComponent)(new _p("analytics-internal",function g(f){try{const _=f.getProvider(Ph).getImmediate();return{logEvent:(I,C,F)=>function Uv(g,f,_,I){g=function pw(g){return g&&g._delegate?g._delegate:g}(g),function _T(g,f,_,I,C){return Sg.apply(this,arguments)}(Io,lc[g.app.options.appId],f,_,I).catch(C=>Cr.error(C))}(_,I,C,F)}}catch(_){throw gs.create("interop-component-reg-failed",{reason:_})}},"PRIVATE")),(0,Ne.registerVersion)(Mg,"0.8.0"),(0,Ne.registerVersion)(Mg,"0.8.0","esm2017")}();var Hv=G(4408),xt=G(7565);const en=new class _s extends xt.v{}(class dl extends Hv.o{constructor(f,_){super(f,_),this.scheduler=f,this.work=_}schedule(f,_=0){return _>0?super.schedule(f,_):(this.delay=_,this.state=f,this.scheduler.flush(this),this)}execute(f,_){return _>0||this.closed?super.execute(f,_):this._execute(f,_)}requestAsyncId(f,_,I=0){return null!=I&&I>0||null==I&&this.delay>0?super.requestAsyncId(f,_,I):f.flush(this)}});var zv=G(4986),Sp=G(8505),Og=G(5363),$v=G(9468);const Dw=new o.GfV("7.3.0"),Vh="__angularfire_symbol__analyticsIsSupportedValue",Dp="__angularfire_symbol__analyticsIsSupported",or="__angularfire_symbol__remoteConfigIsSupportedValue",md="__angularfire_symbol__remoteConfigIsSupported",ar="__angularfire_symbol__messagingIsSupportedValue",Jo="__angularfire_symbol__messagingIsSupported";function Gv(g,f,_){if(f){if(1===f.length)return f[0];const F=f.filter(q=>q.app===_);if(1===F.length)return F[0]}return _.container.getProvider(g).getImmediate({optional:!0})}globalThis[Dp]||(globalThis[Dp]=Vv().then(g=>globalThis[Vh]=g).catch(()=>globalThis[Vh]=!1)),globalThis[Jo]||(globalThis[Jo]=tv().then(g=>globalThis[ar]=g).catch(()=>globalThis[ar]=!1)),globalThis[md]||(globalThis[md]=el().then(g=>globalThis[or]=g).catch(()=>globalThis[or]=!1));const Pg=(g,f)=>{const _=f?[f]:(0,ee.C6)(),I=[];return _.forEach(C=>{C.container.getProvider(g).instances.forEach(q=>{I.includes(q)||I.push(q)})}),I};function cc(){}class Bs{constructor(f,_=en){this.zone=f,this.delegate=_}now(){return this.delegate.now()}schedule(f,_,I){const C=this.zone;return this.delegate.schedule(function(q){C.runGuarded(()=>{f.apply(this,[q])})},_,I)}}class xp{constructor(f){this.zone=f,this.task=null}call(f,_){const I=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cc,{},cc,cc)),_.pipe((0,Sp.b)({next:I,complete:I,error:I})).subscribe(f).add(I)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ys=(()=>{class g{constructor(_){this.ngZone=_,this.outsideAngular=_.runOutsideAngular(()=>new Bs(Zone.current)),this.insideAngular=_.run(()=>new Bs(Zone.current,zv.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return g.\u0275fac=function(_){return new(_||g)(o.LFG(o.R0b))},g.\u0275prov=o.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function hl(){const g=globalThis.\u0275AngularFireScheduler;if(!g)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return g}function Wv(g){return g.pipe((0,Og.Q)(hl().outsideAngular))}function Ng(g){return hl(),function Ap(g){return function(_){return(_=_.lift(new xp(g.ngZone))).pipe((0,$v.R)(g.outsideAngular),(0,Og.Q)(g.insideAngular))}}(hl())(g)}},6457:(wt,Oe,G)=>{G.d(Oe,{$:()=>za,A:()=>ne,B:()=>Ze,G:()=>ce,H:()=>Nt,J:()=>mr,L:()=>ut,M:()=>us,N:()=>Ms,P:()=>gh,Q:()=>jo,R:()=>yo,T:()=>Oc,U:()=>yr,V:()=>Z,W:()=>B,X:()=>z,Y:()=>Nu,Z:()=>fo,_:()=>Ha,a:()=>ir,a0:()=>Nf,a1:()=>oh,a2:()=>Um,a3:()=>mn,a4:()=>zn,a5:()=>Ll,a6:()=>ch,a7:()=>Bu,a8:()=>va,a9:()=>Lc,aA:()=>Ju,aB:()=>Wc,aC:()=>Ku,aD:()=>Km,aE:()=>L,aI:()=>$l,aL:()=>Ii,aa:()=>ba,ab:()=>Qs,ac:()=>Vu,af:()=>Vl,ag:()=>Uc,ah:()=>Uy,ak:()=>St,al:()=>nr,an:()=>dh,ao:()=>Hy,ap:()=>pr,aq:()=>se,ar:()=>Bn,as:()=>ni,at:()=>yt,au:()=>bo,av:()=>Wf,aw:()=>We,ax:()=>De,ay:()=>Ee,az:()=>Ln,b:()=>Dt,c:()=>$0,d:()=>Zm,e:()=>qy,f:()=>Jm,g:()=>al,h:()=>_n,i:()=>Ea,j:()=>wh,k:()=>Qc,l:()=>Gc,m:()=>Th,o:()=>we,r:()=>Wm,s:()=>wi,u:()=>Kl});var o=G(5861),ee=G(1683),H=G(9206),Ne=G(655),Ae=G(1791),Re=G(7172);const we={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ze=function Se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Qe=function _t(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mt=new ee.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new Ae.Yd("@firebase/auth");function Et(D,...b){qe.logLevel<=Ae.in.ERROR&&qe.error(`Auth (${H.SDK_VERSION}): ${D}`,...b)}function yt(D,...b){throw gt(D,...b)}function We(D,...b){return gt(D,...b)}function Ge(D,b,w){const A=Object.assign(Object.assign({},Qe()),{[b]:w});return new ee.LL("auth","Firebase",A).create(b,{appName:D.name})}function Ve(D,b,w){if(!(b instanceof w))throw w.name!==b.constructor.name&&yt(D,"argument-error"),Ge(D,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gt(D,...b){if("string"!=typeof D){const w=b[0],A=[...b.slice(1)];return A[0]&&(A[0].appName=D.name),D._errorFactory.create(w,...A)}return mt.create(D,...b)}function De(D,b,...w){if(!D)throw gt(b,...w)}function ke(D){const b="INTERNAL ASSERTION FAILED: "+D;throw Et(b),new Error(b)}function se(D,b){D||ke(b)}const ye=new Map;function Ee(D){se(D instanceof Function,"Expected a class definition");let b=ye.get(D);return b?(se(b instanceof D,"Instance stored in cache mismatched with class"),b):(b=new D,ye.set(D,b),b)}function ve(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Lt(){return"http:"===Jt()||"https:"===Jt()}function Jt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Pt{constructor(b,w){this.shortDelay=b,this.longDelay=w,se(w>b,"Short delay should be less than long delay!"),this.isMobile=(0,ee.uI)()||(0,ee.b$)()}get(){return function Wn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Lt()||(0,ee.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zi(D,b){se(D.emulator,"Emulator should always be set here");const{url:w}=D.emulator;return b?`${w}${b.startsWith("/")?b.slice(1):b}`:w}class Qn{static initialize(b,w,A){this.fetchImpl=b,w&&(this.headersImpl=w),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Mn=new Pt(3e4,6e4);function kn(D,b){return D.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:D.tenantId}):b}function Fn(D,b,w,A){return hi.apply(this,arguments)}function hi(){return(hi=(0,o.Z)(function*(D,b,w,A,V={}){return Ro(D,V,(0,o.Z)(function*(){let W={},pe={};A&&("GET"===b?pe=A:W={body:JSON.stringify(A)});const Be=(0,ee.xO)(Object.assign({key:D.config.apiKey},pe)).slice(1),ct=yield D._getAdditionalHeaders();return ct["Content-Type"]="application/json",D.languageCode&&(ct["X-Firebase-Locale"]=D.languageCode),Qn.fetch()(qs(D,D.config.apiHost,w,Be),Object.assign({method:b,headers:ct,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Ro(D,b,w){return Po.apply(this,arguments)}function Po(){return(Po=(0,o.Z)(function*(D,b,w){D._canInitEmulator=!1;const A=Object.assign(Object.assign({},oo),b);try{const V=new No(D),W=yield Promise.race([w(),V.promise]);V.clearNetworkTimeout();const pe=yield W.json();if("needConfirmation"in pe)throw Hr(D,"account-exists-with-different-credential",pe);if(W.ok&&!("errorMessage"in pe))return pe;{const Be=W.ok?pe.errorMessage:pe.error.message,[ct,vt]=Be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw Hr(D,"credential-already-in-use",pe);if("EMAIL_EXISTS"===ct)throw Hr(D,"email-already-in-use",pe);if("USER_DISABLED"===ct)throw Hr(D,"user-disabled",pe);const Kt=A[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(vt)throw Ge(D,Kt,vt);yt(D,Kt)}}catch(V){if(V instanceof ee.ZR)throw V;yt(D,"network-request-failed")}})).apply(this,arguments)}function ki(D,b,w,A){return ma.apply(this,arguments)}function ma(){return(ma=(0,o.Z)(function*(D,b,w,A,V={}){const W=yield Fn(D,b,w,A,V);return"mfaPendingCredential"in W&&yt(D,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function qs(D,b,w,A){const V=`${b}${w}?${A}`;return D.config.emulator?Zi(D.config,V):`${D.config.apiScheme}://${V}`}class No{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((w,A)=>{this.timer=setTimeout(()=>A(We(this.auth,"network-request-failed")),Mn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hr(D,b,w){const A={appName:D.name};w.email&&(A.email=w.email),w.phoneNumber&&(A.phoneNumber=w.phoneNumber);const V=We(D,b,A);return V.customData._tokenResponse=w,V}function Rt(){return(Rt=(0,o.Z)(function*(D,b){return Fn(D,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function Ba(D,b){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,o.Z)(function*(D,b){return Fn(D,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function xr(D,b){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,o.Z)(function*(D,b){return Fn(D,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function ss(D){if(D)try{const b=new Date(Number(D));if(!isNaN(b.getTime()))return b.toUTCString()}catch(b){}}function Ss(){return(Ss=(0,o.Z)(function*(D,b=!1){const w=(0,ee.m9)(D),A=yield w.getIdToken(b),V=pn(A);De(V&&V.exp&&V.auth_time&&V.iat,w.auth,"internal-error");const W="object"==typeof V.firebase?V.firebase:void 0,pe=null==W?void 0:W.sign_in_provider;return{claims:V,token:A,authTime:ss(Ac(V.auth_time)),issuedAtTime:ss(Ac(V.iat)),expirationTime:ss(Ac(V.exp)),signInProvider:pe||null,signInSecondFactor:(null==W?void 0:W.sign_in_second_factor)||null}})).apply(this,arguments)}function Ac(D){return 1e3*Number(D)}function pn(D){var b;const[w,A,V]=D.split(".");if(void 0===w||void 0===A||void 0===V)return Et("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,ee.tV)(A);return W?JSON.parse(W):(Et("Failed to decode base64 JWT payload"),null)}catch(W){return Et("Caught error parsing JWT payload as JSON",null===(b=W)||void 0===b?void 0:b.toString()),null}}function zt(D,b){return ga.apply(this,arguments)}function ga(){return(ga=(0,o.Z)(function*(D,b,w=!1){if(w)return b;try{return yield b}catch(A){throw A instanceof ee.ZR&&Fo(A)&&D.auth.currentUser===D&&(yield D.auth.signOut()),A}})).apply(this,arguments)}function Fo({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class hn{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var w;if(b){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const V=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(b=!1){var w=this;if(!this.isRunning)return;const A=this.getInterval(b);this.timerId=setTimeout((0,o.Z)(function*(){yield w.iteration()}),A)}iteration(){var b=this;return(0,o.Z)(function*(){var w;try{yield b.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(w=A)||void 0===w?void 0:w.code)&&b.schedule(!0))}b.schedule()})()}}class Yi{constructor(b,w){this.createdAt=b,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=ss(this.lastLoginAt),this.creationTime=ss(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Oi(D){return os.apply(this,arguments)}function os(){return(os=(0,o.Z)(function*(D){var b;const w=D.auth,A=yield D.getIdToken(),V=yield zt(D,xr(w,{idToken:A}));De(null==V?void 0:V.users.length,w,"internal-error");const W=V.users[0];D._notifyReloadListener(W);const pe=(null===(b=W.providerUserInfo)||void 0===b?void 0:b.length)?te(W.providerUserInfo):[],Be=ie(D.providerData,pe),Kt=!!D.isAnonymous&&!(D.email&&W.passwordHash||(null==Be?void 0:Be.length)),Un={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:Be,metadata:new Yi(W.createdAt,W.lastLoginAt),isAnonymous:Kt};Object.assign(D,Un)})).apply(this,arguments)}function zr(){return(zr=(0,o.Z)(function*(D){const b=(0,ee.m9)(D);yield Oi(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function ie(D,b){return[...D.filter(A=>!b.some(V=>V.providerId===A.providerId)),...b]}function te(D){return D.map(b=>{var{providerId:w}=b,A=(0,Ne._T)(b,["providerId"]);return{providerId:w,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Fe(){return(Fe=(0,o.Z)(function*(D,b){const w=yield Ro(D,{},(0,o.Z)(function*(){const A=(0,ee.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:V,apiKey:W}=D.config,pe=qs(D,V,"/v1/token",`key=${W}`),Be=yield D._getAdditionalHeaders();return Be["Content-Type"]="application/x-www-form-urlencoded",Qn.fetch()(pe,{method:"POST",headers:Be,body:A})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){De(b.idToken,"internal-error"),De(void 0!==b.idToken,"internal-error"),De(void 0!==b.refreshToken,"internal-error");const w="expiresIn"in b&&void 0!==b.expiresIn?Number(b.expiresIn):function Bt(D){const b=pn(D);return De(b,"internal-error"),De(void 0!==b.exp,"internal-error"),De(void 0!==b.iat,"internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,w)}getToken(b,w=!1){var A=this;return(0,o.Z)(function*(){return De(!A.accessToken||A.refreshToken,b,"user-token-expired"),w||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(b,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,w){var A=this;return(0,o.Z)(function*(){const{accessToken:V,refreshToken:W,expiresIn:pe}=yield function ue(D,b){return Fe.apply(this,arguments)}(b,w);A.updateTokensAndExpiration(V,W,Number(pe))})()}updateTokensAndExpiration(b,w,A){this.refreshToken=w||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(b,w){const{refreshToken:A,accessToken:V,expirationTime:W}=w,pe=new ge;return A&&(De("string"==typeof A,"internal-error",{appName:b}),pe.refreshToken=A),V&&(De("string"==typeof V,"internal-error",{appName:b}),pe.accessToken=V),W&&(De("number"==typeof W,"internal-error",{appName:b}),pe.expirationTime=W),pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new ge,this.toJSON())}_performRefresh(){return ke("not implemented")}}function lt(D,b){De("string"==typeof D||void 0===D,"internal-error",{appName:b})}class Ct{constructor(b){var{uid:w,auth:A,stsTokenManager:V}=b,W=(0,Ne._T)(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=A,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new Yi(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(b){var w=this;return(0,o.Z)(function*(){const A=yield zt(w,w.stsTokenManager.getToken(w.auth,b));return De(A,w.auth,"internal-error"),w.accessToken!==A&&(w.accessToken=A,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),A})()}getIdTokenResult(b){return function Ui(D){return Ss.apply(this,arguments)}(this,b)}reload(){return function Ut(D){return zr.apply(this,arguments)}(this)}_assign(b){this!==b&&(De(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(w=>Object.assign({},w)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new Ct(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,w=!1){var A=this;return(0,o.Z)(function*(){let V=!1;b.idToken&&b.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(b),V=!0),w&&(yield Oi(A)),yield A.auth._persistUserIfCurrent(A),V&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var b=this;return(0,o.Z)(function*(){const w=yield b.getIdToken();return yield zt(b,function Mu(D,b){return Rt.apply(this,arguments)}(b.auth,{idToken:w})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,w){var A,V,W,pe,Be,ct,vt,Kt;const Un=null!==(A=w.displayName)&&void 0!==A?A:void 0,Fs=null!==(V=w.email)&&void 0!==V?V:void 0,Ls=null!==(W=w.phoneNumber)&&void 0!==W?W:void 0,rd=null!==(pe=w.photoURL)&&void 0!==pe?pe:void 0,cl=null!==(Be=w.tenantId)&&void 0!==Be?Be:void 0,Eo=null!==(ct=w._redirectEventId)&&void 0!==ct?ct:void 0,sd=null!==(vt=w.createdAt)&&void 0!==vt?vt:void 0,Aa=null!==(Kt=w.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:rc,emailVerified:tp,isAnonymous:od,providerData:Ko,stsTokenManager:ad}=w;De(rc&&ad,b,"internal-error");const Xc=ge.fromJSON(this.name,ad);De("string"==typeof rc,b,"internal-error"),lt(Un,b.name),lt(Fs,b.name),De("boolean"==typeof tp,b,"internal-error"),De("boolean"==typeof od,b,"internal-error"),lt(Ls,b.name),lt(rd,b.name),lt(cl,b.name),lt(Eo,b.name),lt(sd,b.name),lt(Aa,b.name);const eu=new Ct({uid:rc,auth:b,email:Fs,emailVerified:tp,displayName:Un,isAnonymous:od,photoURL:rd,phoneNumber:Ls,tenantId:cl,stsTokenManager:Xc,createdAt:sd,lastLoginAt:Aa});return Ko&&Array.isArray(Ko)&&(eu.providerData=Ko.map(yn=>Object.assign({},yn))),Eo&&(eu._redirectEventId=Eo),eu}static _fromIdTokenResponse(b,w,A=!1){return(0,o.Z)(function*(){const V=new ge;V.updateFromServerResponse(w);const W=new Ct({uid:w.localId,auth:b,stsTokenManager:V,isAnonymous:A});return yield Oi(W),W})()}}const ut=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(w,A){var V=this;return(0,o.Z)(function*(){V.storage[w]=A})()}_get(w){var A=this;return(0,o.Z)(function*(){const V=A.storage[w];return void 0===V?null:V})()}_remove(w){var A=this;return(0,o.Z)(function*(){delete A.storage[w]})()}_addListener(w,A){}_removeListener(w,A){}}return D.type="NONE",D})();function Ln(D,b,w){return`firebase:${D}:${b}:${w}`}class ti{constructor(b,w,A){this.persistence=b,this.auth=w,this.userKey=A;const{config:V,name:W}=this.auth;this.fullUserKey=Ln(this.userKey,V.apiKey,W),this.fullPersistenceKey=Ln("persistence",V.apiKey,W),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,o.Z)(function*(){const w=yield b.persistence._get(b.fullUserKey);return w?Ct._fromJSON(b.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var w=this;return(0,o.Z)(function*(){if(w.persistence===b)return;const A=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=b,A?w.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,w,A="authUser"){return(0,o.Z)(function*(){if(!w.length)return new ti(Ee(ut),b,A);const V=(yield Promise.all(w.map(function(){var vt=(0,o.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return vt.apply(this,arguments)}}()))).filter(vt=>vt);let W=V[0]||Ee(ut);const pe=Ln(A,b.config.apiKey,b.name);let Be=null;for(const vt of w)try{const Kt=yield vt._get(pe);if(Kt){const Un=Ct._fromJSON(b,Kt);vt!==W&&(Be=Un),W=vt;break}}catch(Kt){}const ct=V.filter(vt=>vt._shouldAllowMigration);return W._shouldAllowMigration&&ct.length?(W=ct[0],Be&&(yield W._set(pe,Be.toJSON())),yield Promise.all(w.map(function(){var vt=(0,o.Z)(function*(Kt){if(Kt!==W)try{yield Kt._remove(pe)}catch(Un){}});return function(Kt){return vt.apply(this,arguments)}}())),new ti(W,b,A)):new ti(W,b,A)})()}}function It(D){const b=D.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(Va(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(Ki(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(as(b))return"Blackberry";if(Mr(b))return"Webos";if($r(b))return"Safari";if((b.includes("chrome/")||Lo(b))&&!b.includes("edge/"))return"Chrome";if(ni(b))return"Android";{const A=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function Ki(D=(0,ee.z$)()){return/firefox\//i.test(D)}function $r(D=(0,ee.z$)()){const b=D.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function Lo(D=(0,ee.z$)()){return/crios\//i.test(D)}function Va(D=(0,ee.z$)()){return/iemobile/i.test(D)}function ni(D=(0,ee.z$)()){return/android/i.test(D)}function as(D=(0,ee.z$)()){return/blackberry/i.test(D)}function Mr(D=(0,ee.z$)()){return/webos/i.test(D)}function Bn(D=(0,ee.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function pr(D=(0,ee.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function kr(D=(0,ee.z$)()){return Bn(D)||ni(D)||Mr(D)||as(D)||/windows phone/i.test(D)||Va(D)}function fi(D,b=[]){let w;switch(D){case"Browser":w=It((0,ee.z$)());break;case"Worker":w=`${It((0,ee.z$)())}-${D}`;break;default:w=D}const A=b.length?b.join(","):"FirebaseCore-web";return`${w}/JsCore/${H.SDK_VERSION}/${A}`}class Bo{constructor(b){this.auth=b,this.queue=[]}pushCallback(b,w){const A=W=>new Promise((pe,Be)=>{try{pe(b(W))}catch(ct){Be(ct)}});A.onAbort=w,this.queue.push(A);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(b){var w=this;return(0,o.Z)(function*(){var A;if(w.auth.currentUser===b)return;const V=[];try{for(const W of w.queue)yield W(b),W.onAbort&&V.push(W.onAbort)}catch(W){V.reverse();for(const pe of V)try{pe()}catch(Be){}throw w.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=W)||void 0===A?void 0:A.message})}})()}}class X{constructor(b,w,A){this.app=b,this.heartbeatServiceProvider=w,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q(this),this.idTokenSubscription=new Q(this),this.beforeStateQueue=new Bo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(b,w){var A=this;return w&&(this._popupRedirectResolver=Ee(w)),this._initializationPromise=this.queue((0,o.Z)(function*(){var V,W;if(!A._deleted&&(A.persistenceManager=yield ti.create(A,b),!A._deleted)){if(null===(V=A._popupRedirectResolver)||void 0===V?void 0:V._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(pe){}yield A.initializeCurrentUser(w),A.lastNotifiedUid=(null===(W=A.currentUser)||void 0===W?void 0:W.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,o.Z)(function*(){if(b._deleted)return;const w=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||w){if(b.currentUser&&w&&b.currentUser.uid===w.uid)return b._currentUser._assign(w),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(w,!0)}})()}initializeCurrentUser(b){var w=this;return(0,o.Z)(function*(){var A;const V=yield w.assertedPersistence.getCurrentUser();let W=V,pe=!1;if(b&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const Be=null===(A=w.redirectUser)||void 0===A?void 0:A._redirectEventId,ct=null==W?void 0:W._redirectEventId,vt=yield w.tryRedirectSignIn(b);(!Be||Be===ct)&&(null==vt?void 0:vt.user)&&(W=vt.user,pe=!0)}if(!W)return w.directlySetCurrentUser(null);if(!W._redirectEventId){if(pe)try{yield w.beforeStateQueue.runMiddleware(W)}catch(Be){W=V,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(Be))}return W?w.reloadAndSetCurrentUserOrClear(W):w.directlySetCurrentUser(null)}return De(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===W._redirectEventId?w.directlySetCurrentUser(W):w.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(b){var w=this;return(0,o.Z)(function*(){let A=null;try{A=yield w._popupRedirectResolver._completeRedirectFn(w,b,!0)}catch(V){yield w._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(b){var w=this;return(0,o.Z)(function*(){var A;try{yield Oi(b)}catch(V){if("auth/network-request-failed"!==(null===(A=V)||void 0===A?void 0:A.code))return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function Mt(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var b=this;return(0,o.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var w=this;return(0,o.Z)(function*(){const A=b?(0,ee.m9)(b):null;return A&&De(A.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(A&&A._clone(w))})()}_updateCurrentUser(b,w=!1){var A=this;return(0,o.Z)(function*(){if(!A._deleted)return b&&De(A.tenantId===b.tenantId,A,"tenant-id-mismatch"),w||(yield A.beforeStateQueue.runMiddleware(b)),A.queue((0,o.Z)(function*(){yield A.directlySetCurrentUser(b),A.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,o.Z)(function*(){return yield b.beforeStateQueue.runMiddleware(null),(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null,!0)})()}setPersistence(b){var w=this;return this.queue((0,o.Z)(function*(){yield w.assertedPersistence.setPersistence(Ee(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new ee.LL("auth","Firebase",b())}onAuthStateChanged(b,w,A){return this.registerStateListener(this.authStateSubscription,b,w,A)}beforeAuthStateChanged(b,w){return this.beforeStateQueue.pushCallback(b,w)}onIdTokenChanged(b,w,A){return this.registerStateListener(this.idTokenSubscription,b,w,A)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,w){var A=this;return(0,o.Z)(function*(){const V=yield A.getOrInitRedirectPersistenceManager(w);return null===b?V.removeCurrentUser():V.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var w=this;return(0,o.Z)(function*(){if(!w.redirectPersistenceManager){const A=b&&Ee(b)||w._popupRedirectResolver;De(A,w,"argument-error"),w.redirectPersistenceManager=yield ti.create(w,[Ee(A._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(b){var w=this;return(0,o.Z)(function*(){var A,V;return w._isInitialized&&(yield w.queue((0,o.Z)(function*(){}))),(null===(A=w._currentUser)||void 0===A?void 0:A._redirectEventId)===b?w._currentUser:(null===(V=w.redirectUser)||void 0===V?void 0:V._redirectEventId)===b?w.redirectUser:null})()}_persistUserIfCurrent(b){var w=this;return(0,o.Z)(function*(){if(b===w.currentUser)return w.queue((0,o.Z)(function*(){return w.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(w=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,w,A,V){if(this._deleted)return()=>{};const W="function"==typeof w?w:w.next.bind(w),pe=this._isInitialized?Promise.resolve():this._initializationPromise;return De(pe,this,"internal-error"),pe.then(()=>W(this.currentUser)),"function"==typeof w?b.addObserver(w,A,V):b.addObserver(w)}directlySetCurrentUser(b){var w=this;return(0,o.Z)(function*(){w.currentUser&&w.currentUser!==b&&(w._currentUser._stopProactiveRefresh(),b&&w.isProactiveRefreshEnabled&&b._startProactiveRefresh()),w.currentUser=b,b?yield w.assertedPersistence.setCurrentUser(b):yield w.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=fi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var b=this;return(0,o.Z)(function*(){var w;const A={"X-Client-Version":b.clientVersion};b.app.options.appId&&(A["X-Firebase-gmpid"]=b.app.options.appId);const V=yield null===(w=b.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();return V&&(A["X-Firebase-Client"]=V),A})()}}function L(D){return(0,ee.m9)(D)}class Q{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,ee.ne)(w=>this.observer=w)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ce(D,b,w){const A=L(D);De(A._canInitEmulator,A,"emulator-config-failed"),De(/^https?:\/\//.test(b),A,"invalid-emulator-scheme");const V=!!(null==w?void 0:w.disableWarnings),W=ae(b),{host:pe,port:Be}=function tt(D){const b=ae(D),w=/(\/\/)?([^?#/]+)/.exec(D.substr(b.length));if(!w)return{host:"",port:null};const A=w[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(A);if(V){const W=V[1];return{host:W,port:ft(A.substr(W.length+1))}}{const[W,pe]=A.split(":");return{host:W,port:ft(pe)}}}(b);A.config.emulator={url:`${W}//${pe}${null===Be?"":`:${Be}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:pe,port:Be,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function an(){function D(){const b=document.createElement("p"),w=b.style;b.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",b.classList.add("firebase-emulator-warning"),document.body.appendChild(b)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function ae(D){const b=D.indexOf(":");return b<0?"":D.substr(0,b+1)}function ft(D){if(!D)return null;const b=Number(D);return isNaN(b)?null:b}class Nt{constructor(b,w){this.providerId=b,this.signInMethod=w}toJSON(){return ke("not implemented")}_getIdTokenResponse(b){return ke("not implemented")}_linkToIdToken(b,w){return ke("not implemented")}_getReauthenticationResolver(b){return ke("not implemented")}}function qt(D,b){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,o.Z)(function*(D,b){return Fn(D,"POST","/v1/accounts:resetPassword",kn(D,b))})).apply(this,arguments)}function nt(D,b){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,o.Z)(function*(D,b){return Fn(D,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function pi(D,b){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,o.Z)(function*(D,b){return Fn(D,"POST","/v1/accounts:update",kn(D,b))})).apply(this,arguments)}function mi(){return(mi=(0,o.Z)(function*(D,b){return ki(D,"POST","/v1/accounts:signInWithPassword",kn(D,b))})).apply(this,arguments)}function xs(D,b){return ao.apply(this,arguments)}function ao(){return(ao=(0,o.Z)(function*(D,b){return Fn(D,"POST","/v1/accounts:sendOobCode",kn(D,b))})).apply(this,arguments)}function li(D,b){return cn.apply(this,arguments)}function cn(){return(cn=(0,o.Z)(function*(D,b){return xs(D,b)})).apply(this,arguments)}function Ol(D,b){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,o.Z)(function*(D,b){return xs(D,b)})).apply(this,arguments)}function ci(D,b){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.Z)(function*(D,b){return xs(D,b)})).apply(this,arguments)}function _a(D,b){return cs.apply(this,arguments)}function cs(){return(cs=(0,o.Z)(function*(D,b){return xs(D,b)})).apply(this,arguments)}function gi(){return(gi=(0,o.Z)(function*(D,b){return ki(D,"POST","/v1/accounts:signInWithEmailLink",kn(D,b))})).apply(this,arguments)}function Pl(){return(Pl=(0,o.Z)(function*(D,b){return ki(D,"POST","/v1/accounts:signInWithEmailLink",kn(D,b))})).apply(this,arguments)}class Wr extends Nt{constructor(b,w,A,V=null){super("password",A),this._email=b,this._password=w,this._tenantId=V}static _fromEmailAndPassword(b,w){return new Wr(b,w,"password")}static _fromEmailAndCode(b,w,A=null){return new Wr(b,w,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const w="string"==typeof b?JSON.parse(b):b;if((null==w?void 0:w.email)&&(null==w?void 0:w.password)){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(b){var w=this;return(0,o.Z)(function*(){switch(w.signInMethod){case"password":return function Vo(D,b){return mi.apply(this,arguments)}(b,{returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function lo(D,b){return gi.apply(this,arguments)}(b,{email:w._email,oobCode:w._password});default:yt(b,"internal-error")}})()}_linkToIdToken(b,w){var A=this;return(0,o.Z)(function*(){switch(A.signInMethod){case"password":return nt(b,{idToken:w,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Rl(D,b){return Pl.apply(this,arguments)}(b,{idToken:w,email:A._email,oobCode:A._password});default:yt(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function ii(D,b){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,o.Z)(function*(D,b){return ki(D,"POST","/v1/accounts:signInWithIdp",kn(D,b))})).apply(this,arguments)}class mr extends Nt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const w=new mr(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(w.idToken=b.idToken),b.accessToken&&(w.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(w.nonce=b.nonce),b.pendingToken&&(w.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(w.accessToken=b.oauthToken,w.secret=b.oauthTokenSecret):yt("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const w="string"==typeof b?JSON.parse(b):b,{providerId:A,signInMethod:V}=w,W=(0,Ne._T)(w,["providerId","signInMethod"]);if(!A||!V)return null;const pe=new mr(A,V);return pe.idToken=W.idToken||void 0,pe.accessToken=W.accessToken||void 0,pe.secret=W.secret,pe.nonce=W.nonce,pe.pendingToken=W.pendingToken||null,pe}_getIdTokenResponse(b){return ii(b,this.buildRequest())}_linkToIdToken(b,w){const A=this.buildRequest();return A.idToken=w,ii(b,A)}_getReauthenticationResolver(b){const w=this.buildRequest();return w.autoCreate=!1,ii(b,w)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),b.postBody=(0,ee.xO)(w)}return b}}function ku(D,b){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,o.Z)(function*(D,b){return Fn(D,"POST","/v1/accounts:sendVerificationCode",kn(D,b))})).apply(this,arguments)}function co(){return(co=(0,o.Z)(function*(D,b){return ki(D,"POST","/v1/accounts:signInWithPhoneNumber",kn(D,b))})).apply(this,arguments)}function Nl(){return(Nl=(0,o.Z)(function*(D,b){const w=yield ki(D,"POST","/v1/accounts:signInWithPhoneNumber",kn(D,b));if(w.temporaryProof)throw Hr(D,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const sh={USER_NOT_FOUND:"user-not-found"};function ho(){return(ho=(0,o.Z)(function*(D,b){return ki(D,"POST","/v1/accounts:signInWithPhoneNumber",kn(D,Object.assign(Object.assign({},b),{operation:"REAUTH"})),sh)})).apply(this,arguments)}class As extends Nt{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,w){return new As({verificationId:b,verificationCode:w})}static _fromTokenResponse(b,w){return new As({phoneNumber:b,temporaryProof:w})}_getIdTokenResponse(b){return function Uo(D,b){return co.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,w){return function kc(D,b){return Nl.apply(this,arguments)}(b,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function uo(D,b){return ho.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:w,verificationId:A,verificationCode:V}=this.params;return b&&w?{temporaryProof:b,phoneNumber:w}:{sessionInfo:A,code:V}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:w,verificationCode:A,phoneNumber:V,temporaryProof:W}=b;return A||w||V||W?new As({verificationId:w,verificationCode:A,phoneNumber:V,temporaryProof:W}):null}}class gr{constructor(b){var w,A,V,W,pe,Be;const ct=(0,ee.zd)((0,ee.pd)(b)),vt=null!==(w=ct.apiKey)&&void 0!==w?w:null,Kt=null!==(A=ct.oobCode)&&void 0!==A?A:null,Un=function Ou(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=ct.mode)&&void 0!==V?V:null);De(vt&&Kt&&Un,"argument-error"),this.apiKey=vt,this.operation=Un,this.code=Kt,this.continueUrl=null!==(W=ct.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(pe=ct.languageCode)&&void 0!==pe?pe:null,this.tenantId=null!==(Be=ct.tenantId)&&void 0!==Be?Be:null}static parseLink(b){const w=function Fl(D){const b=(0,ee.zd)((0,ee.pd)(D)).link,w=b?(0,ee.zd)((0,ee.pd)(b)).deep_link_id:null,A=(0,ee.zd)((0,ee.pd)(D)).deep_link_id;return(A?(0,ee.zd)((0,ee.pd)(A)).link:null)||A||w||b||D}(b);try{return new gr(w)}catch(A){return null}}}let us=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(w,A){return Wr._fromEmailAndPassword(w,A)}static credentialWithLink(w,A){const V=gr.parseLink(A);return De(V,"argument-error"),Wr._fromEmailAndCode(w,V.code,V.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class qr{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class Rr extends qr{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class yr extends Rr{static credentialFromJSON(b){const w="string"==typeof b?JSON.parse(b):b;return De("providerId"in w&&"signInMethod"in w,"argument-error"),mr._fromParams(w)}credential(b){return this._credential(Object.assign(Object.assign({},b),{nonce:b.rawNonce}))}_credential(b){return De(b.idToken||b.accessToken,"argument-error"),mr._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return yr.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return yr.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:w,oauthAccessToken:A,oauthTokenSecret:V,pendingToken:W,nonce:pe,providerId:Be}=b;if(!A&&!V&&!w&&!W||!Be)return null;try{return new yr(Be)._credential({idToken:w,accessToken:A,nonce:pe,pendingToken:W})}catch(ct){return null}}}let Ms=(()=>{class D extends Rr{constructor(){super("facebook.com")}static credential(w){return mr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return D.credentialFromTaggedObject(w)}static credentialFromError(w){return D.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return D.credential(w.oauthAccessToken)}catch(A){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),jo=(()=>{class D extends Rr{constructor(){super("google.com"),this.addScope("profile")}static credential(w,A){return mr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:A})}static credentialFromResult(w){return D.credentialFromTaggedObject(w)}static credentialFromError(w){return D.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:A,oauthAccessToken:V}=w;if(!A&&!V)return null;try{return D.credential(A,V)}catch(W){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Oc=(()=>{class D extends Rr{constructor(){super("github.com")}static credential(w){return mr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return D.credentialFromTaggedObject(w)}static credentialFromError(w){return D.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return D.credential(w.oauthAccessToken)}catch(A){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Ii extends Nt{constructor(b,w){super(b,b),this.pendingToken=w}_getIdTokenResponse(b){return ii(b,this.buildRequest())}_linkToIdToken(b,w){const A=this.buildRequest();return A.idToken=w,ii(b,A)}_getReauthenticationResolver(b){const w=this.buildRequest();return w.autoCreate=!1,ii(b,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const w="string"==typeof b?JSON.parse(b):b,{providerId:A,signInMethod:V,pendingToken:W}=w;return A&&V&&W&&A===V?new Ii(A,W):null}static _create(b,w){return new Ii(b,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Z extends qr{constructor(b){De(b.startsWith("saml."),"argument-error"),super(b)}static credentialFromResult(b){return Z.samlCredentialFromTaggedObject(b)}static credentialFromError(b){return Z.samlCredentialFromTaggedObject(b.customData||{})}static credentialFromJSON(b){const w=Ii.fromJSON(b);return De(w,"argument-error"),w}static samlCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{pendingToken:w,providerId:A}=b;if(!w||!A)return null;try{return Ii._create(A,w)}catch(V){return null}}}let B=(()=>{class D extends Rr{constructor(){super("twitter.com")}static credential(w,A){return mr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:A})}static credentialFromResult(w){return D.credentialFromTaggedObject(w)}static credentialFromError(w){return D.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:A,oauthTokenSecret:V}=w;if(!A||!V)return null;try{return D.credential(A,V)}catch(W){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function J(D,b){return O.apply(this,arguments)}function O(){return(O=(0,o.Z)(function*(D,b){return ki(D,"POST","/v1/accounts:signUp",kn(D,b))})).apply(this,arguments)}class M{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,w,A,V=!1){return(0,o.Z)(function*(){const W=yield Ct._fromIdTokenResponse(b,A,V),pe=R(A);return new M({user:W,providerId:pe,_tokenResponse:A,operationType:w})})()}static _forOperation(b,w,A){return(0,o.Z)(function*(){yield b._updateTokensIfNecessary(A,!0);const V=R(A);return new M({user:b,providerId:V,_tokenResponse:A,operationType:w})})()}}function R(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function z(D){return K.apply(this,arguments)}function K(){return(K=(0,o.Z)(function*(D){var b;const w=L(D);if(yield w._initializationPromise,null===(b=w.currentUser)||void 0===b?void 0:b.isAnonymous)return new M({user:w.currentUser,providerId:null,operationType:"signIn"});const A=yield J(w,{returnSecureToken:!0}),V=yield M._fromIdTokenResponse(w,"signIn",A,!0);return yield w._updateCurrentUser(V.user),V})).apply(this,arguments)}class xe extends ee.ZR{constructor(b,w,A,V){var W;super(w.code,w.message),this.operationType=A,this.user=V,Object.setPrototypeOf(this,xe.prototype),this.customData={appName:b.name,tenantId:null!==(W=b.tenantId)&&void 0!==W?W:void 0,_serverResponse:w.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(b,w,A,V){return new xe(b,w,A,V)}}function Ye(D,b,w,A){return("reauthenticate"===b?w._getReauthenticationResolver(D):w._getIdTokenResponse(D)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?xe._fromErrorAndOperation(D,W,b,A):W})}function kt(D){return new Set(D.map(({providerId:b})=>b).filter(b=>!!b))}function St(D,b){return un.apply(this,arguments)}function un(){return(un=(0,o.Z)(function*(D,b){const w=(0,ee.m9)(D);yield qn(!0,w,b);const{providerUserInfo:A}=yield Ba(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[b]}),V=kt(A||[]);return w.providerData=w.providerData.filter(W=>V.has(W.providerId)),V.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w})).apply(this,arguments)}function $t(D,b){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,o.Z)(function*(D,b,w=!1){const A=yield zt(D,b._linkToIdToken(D.auth,yield D.getIdToken()),w);return M._forOperation(D,"link",A)})).apply(this,arguments)}function qn(D,b,w){return gn.apply(this,arguments)}function gn(){return(gn=(0,o.Z)(function*(D,b,w){yield Oi(b);const V=!1===D?"provider-already-linked":"no-such-provider";De(kt(b.providerData).has(w)===D,b.auth,V)})).apply(this,arguments)}function Pu(D,b){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,o.Z)(function*(D,b,w=!1){var A;const{auth:V}=D,W="reauthenticate";try{const pe=yield zt(D,Ye(V,W,b,D),w);De(pe.idToken,V,"internal-error");const Be=pn(pe.idToken);De(Be,V,"internal-error");const{sub:ct}=Be;return De(D.uid===ct,V,"user-mismatch"),M._forOperation(D,W,pe)}catch(pe){throw"auth/user-not-found"===(null===(A=pe)||void 0===A?void 0:A.code)&&yt(V,"user-mismatch"),pe}})).apply(this,arguments)}function Pc(D,b){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,o.Z)(function*(D,b,w=!1){const A="signIn",V=yield Ye(D,A,b),W=yield M._fromIdTokenResponse(D,A,V);return w||(yield D._updateCurrentUser(W.user)),W})).apply(this,arguments)}function Nu(D,b){return ds.apply(this,arguments)}function ds(){return(ds=(0,o.Z)(function*(D,b){return Pc(L(D),b)})).apply(this,arguments)}function fo(D,b){return tr.apply(this,arguments)}function tr(){return(tr=(0,o.Z)(function*(D,b){const w=(0,ee.m9)(D);return yield qn(!1,w,b.providerId),$t(w,b)})).apply(this,arguments)}function Ha(D,b){return po.apply(this,arguments)}function po(){return(po=(0,o.Z)(function*(D,b){return Pu((0,ee.m9)(D),b)})).apply(this,arguments)}function Fu(D,b){return ks.apply(this,arguments)}function ks(){return(ks=(0,o.Z)(function*(D,b){return ki(D,"POST","/v1/accounts:signInWithCustomToken",kn(D,b))})).apply(this,arguments)}function za(D,b){return ya.apply(this,arguments)}function ya(){return(ya=(0,o.Z)(function*(D,b){const w=L(D),A=yield Fu(w,{token:b,returnSecureToken:!0}),V=yield M._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(V.user),V})).apply(this,arguments)}class jt{constructor(b,w){this.factorId=b,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(b,w){return"phoneInfo"in w?Lu._fromServerResponse(b,w):yt(b,"internal-error")}}class Lu extends jt{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,w){return new Lu(w)}}function Nc(D,b,w){var A;De((null===(A=w.url)||void 0===A?void 0:A.length)>0,D,"invalid-continue-uri"),De(void 0===w.dynamicLinkDomain||w.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),b.continueUrl=w.url,b.dynamicLinkDomain=w.dynamicLinkDomain,b.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(De(w.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),b.iOSBundleId=w.iOS.bundleId),w.android&&(De(w.android.packageName.length>0,D,"missing-android-pkg-name"),b.androidInstallApp=w.android.installApp,b.androidMinimumVersionCode=w.android.minimumVersion,b.androidPackageName=w.android.packageName)}function Nf(D,b,w){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,o.Z)(function*(D,b,w){const A=(0,ee.m9)(D),V={requestType:"PASSWORD_RESET",email:b};w&&Nc(A,V,w),yield Ol(A,V)})).apply(this,arguments)}function oh(D,b,w){return ah.apply(this,arguments)}function ah(){return(ah=(0,o.Z)(function*(D,b,w){yield qt((0,ee.m9)(D),{oobCode:b,newPassword:w})})).apply(this,arguments)}function Um(D,b){return je.apply(this,arguments)}function je(){return(je=(0,o.Z)(function*(D,b){yield pi((0,ee.m9)(D),{oobCode:b})})).apply(this,arguments)}function mn(D,b){return lh.apply(this,arguments)}function lh(){return(lh=(0,o.Z)(function*(D,b){const w=(0,ee.m9)(D),A=yield qt(w,{oobCode:b}),V=A.requestType;switch(De(V,w,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(A.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(A.mfaInfo,w,"internal-error");default:De(A.email,w,"internal-error")}let W=null;return A.mfaInfo&&(W=jt._fromServerResponse(L(w),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:W},operation:V}})).apply(this,arguments)}function zn(D,b){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,o.Z)(function*(D,b){const{data:w}=yield mn((0,ee.m9)(D),b);return w.email})).apply(this,arguments)}function Ll(D,b,w){return hs.apply(this,arguments)}function hs(){return(hs=(0,o.Z)(function*(D,b,w){const A=L(D),V=yield J(A,{returnSecureToken:!0,email:b,password:w}),W=yield M._fromIdTokenResponse(A,"signIn",V);return yield A._updateCurrentUser(W.user),W})).apply(this,arguments)}function ch(D,b,w){return Nu((0,ee.m9)(D),us.credential(b,w))}function Bu(D,b,w){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,o.Z)(function*(D,b,w){const A=(0,ee.m9)(D),V={requestType:"EMAIL_SIGNIN",email:b};De(w.handleCodeInApp,A,"argument-error"),w&&Nc(A,V,w),yield ci(A,V)})).apply(this,arguments)}function va(D,b){const w=gr.parseLink(b);return"EMAIL_SIGNIN"===(null==w?void 0:w.operation)}function Lc(D,b,w){return $a.apply(this,arguments)}function $a(){return($a=(0,o.Z)(function*(D,b,w){const A=(0,ee.m9)(D),V=us.credentialWithLink(b,w||ve());return De(V._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Nu(A,V)})).apply(this,arguments)}function vr(D,b){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,o.Z)(function*(D,b){return Fn(D,"POST","/v1/accounts:createAuthUri",kn(D,b))})).apply(this,arguments)}function ba(D,b){return mo.apply(this,arguments)}function mo(){return(mo=(0,o.Z)(function*(D,b){const A={identifier:b,continueUri:Lt()?ve():"http://localhost"},{signinMethods:V}=yield vr((0,ee.m9)(D),A);return V||[]})).apply(this,arguments)}function Qs(D,b){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,o.Z)(function*(D,b){const w=(0,ee.m9)(D),V={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};b&&Nc(w.auth,V,b);const{email:W}=yield li(w.auth,V);W!==D.email&&(yield D.reload())})).apply(this,arguments)}function Vu(D,b,w){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,o.Z)(function*(D,b,w){const A=(0,ee.m9)(D),W={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:b};w&&Nc(A.auth,W,w);const{email:pe}=yield _a(A.auth,W);pe!==D.email&&(yield D.reload())})).apply(this,arguments)}function uh(D,b){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,o.Z)(function*(D,b){return Fn(D,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Vl(D,b){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,o.Z)(function*(D,{displayName:b,photoURL:w}){if(void 0===b&&void 0===w)return;const A=(0,ee.m9)(D),W={idToken:yield A.getIdToken(),displayName:b,photoUrl:w,returnSecureToken:!0},pe=yield zt(A,uh(A.auth,W));A.displayName=pe.displayName||null,A.photoURL=pe.photoUrl||null;const Be=A.providerData.find(({providerId:ct})=>"password"===ct);Be&&(Be.displayName=A.displayName,Be.photoURL=A.photoURL),yield A._updateTokensIfNecessary(pe)})).apply(this,arguments)}function Uc(D,b){return Lf((0,ee.m9)(D),b,null)}function Uy(D,b){return Lf((0,ee.m9)(D),null,b)}function Lf(D,b,w){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,o.Z)(function*(D,b,w){const{auth:A}=D,W={idToken:yield D.getIdToken(),returnSecureToken:!0};b&&(W.email=b),w&&(W.password=w);const pe=yield zt(D,nt(A,W));yield D._updateTokensIfNecessary(pe,!0)})).apply(this,arguments)}class Ga{constructor(b,w,A={}){this.isNewUser=b,this.providerId=w,this.profile=A}}class ju extends Ga{constructor(b,w,A,V){super(b,w,A),this.username=V}}class Bf extends Ga{constructor(b,w){super(b,"facebook.com",w)}}class jl extends ju{constructor(b,w){super(b,"github.com",w,"string"==typeof(null==w?void 0:w.login)?null==w?void 0:w.login:null)}}class wa extends Ga{constructor(b,w){super(b,"google.com",w)}}class jm extends ju{constructor(b,w,A){super(b,"twitter.com",w,A)}}function nr(D){const{user:b,_tokenResponse:w}=D;return b.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function Uu(D){var b,w;if(!D)return null;const{providerId:A}=D,V=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},W=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!A&&(null==D?void 0:D.idToken)){const pe=null===(w=null===(b=pn(D.idToken))||void 0===b?void 0:b.firebase)||void 0===w?void 0:w.sign_in_provider;if(pe)return new Ga(W,"anonymous"!==pe&&"custom"!==pe?pe:null)}if(!A)return null;switch(A){case"facebook.com":return new Bf(W,V);case"github.com":return new jl(W,V);case"google.com":return new wa(W,V);case"twitter.com":return new jm(W,V,D.screenName||null);case"custom":case"anonymous":return new Ga(W,null);default:return new Ga(W,A,V)}}(w)}class $o{constructor(b,w){this.type=b,this.credential=w}static _fromIdtoken(b){return new $o("enroll",b)}static _fromMfaPendingCredential(b){return new $o("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var w,A;if(null==b?void 0:b.multiFactorSession){if(null===(w=b.multiFactorSession)||void 0===w?void 0:w.pendingCredential)return $o._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null===(A=b.multiFactorSession)||void 0===A?void 0:A.idToken)return $o._fromIdtoken(b.multiFactorSession.idToken)}return null}}class jc{constructor(b,w,A){this.session=b,this.hints=w,this.signInResolver=A}static _fromError(b,w){const A=L(b),V=w.customData._serverResponse,W=(V.mfaInfo||[]).map(Be=>jt._fromServerResponse(A,Be));De(V.mfaPendingCredential,A,"internal-error");const pe=$o._fromMfaPendingCredential(V.mfaPendingCredential);return new jc(pe,W,function(){var Be=(0,o.Z)(function*(ct){const vt=yield ct._process(A,pe);delete V.mfaInfo,delete V.mfaPendingCredential;const Kt=Object.assign(Object.assign({},V),{idToken:vt.idToken,refreshToken:vt.refreshToken});switch(w.operationType){case"signIn":const Un=yield M._fromIdTokenResponse(A,w.operationType,Kt);return yield A._updateCurrentUser(Un.user),Un;case"reauthenticate":return De(w.user,A,"internal-error"),M._forOperation(w.user,w.operationType,Kt);default:yt(A,"internal-error")}});return function(ct){return Be.apply(this,arguments)}}())}resolveSignIn(b){var w=this;return(0,o.Z)(function*(){return w.signInResolver(b)})()}}function dh(D,b){var w;const A=(0,ee.m9)(D),V=b;return De(b.customData.operationType,A,"argument-error"),De(null===(w=V.customData._serverResponse)||void 0===w?void 0:w.mfaPendingCredential,A,"argument-error"),jc._fromError(A,V)}function zm(D,b){return Fn(D,"POST","/v2/accounts/mfaEnrollment:start",kn(D,b))}class zl{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(A=>jt._fromServerResponse(b.auth,A)))})}static _fromUser(b){return new zl(b)}getSession(){var b=this;return(0,o.Z)(function*(){return $o._fromIdtoken(yield b.user.getIdToken())})()}enroll(b,w){var A=this;return(0,o.Z)(function*(){const V=b,W=yield A.getSession(),pe=yield zt(A.user,V._process(A.user.auth,W,w));return yield A.user._updateTokensIfNecessary(pe),A.user.reload()})()}unenroll(b){var w=this;return(0,o.Z)(function*(){var A;const V="string"==typeof b?b:b.uid,W=yield w.user.getIdToken(),pe=yield zt(w.user,function Go(D,b){return Fn(D,"POST","/v2/accounts/mfaEnrollment:withdraw",kn(D,b))}(w.user.auth,{idToken:W,mfaEnrollmentId:V}));w.enrolledFactors=w.enrolledFactors.filter(({uid:Be})=>Be!==V),yield w.user._updateTokensIfNecessary(pe);try{yield w.user.reload()}catch(Be){if("auth/user-token-expired"!==(null===(A=Be)||void 0===A?void 0:A.code))throw Be}})()}}const Hu=new WeakMap;function Hy(D){const b=(0,ee.m9)(D);return Hu.has(b)||Hu.set(b,zl._fromUser(b)),Hu.get(b)}const Os="__sak";class zu{constructor(b,w){this.storageRetriever=b,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(Os,"1"),this.storage.removeItem(Os),Promise.resolve(!0)):Promise.resolve(!1)}catch(b){return Promise.resolve(!1)}}_set(b,w){return this.storage.setItem(b,JSON.stringify(w)),Promise.resolve()}_get(b){const w=this.storage.getItem(b);return Promise.resolve(w?JSON.parse(w):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dt=(()=>{class D extends zu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,A)=>this.onStorageEvent(w,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $u(){const D=(0,ee.z$)();return $r(D)||Bn(D)}()&&function Gr(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=kr(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const A of Object.keys(this.listeners)){const V=this.storage.getItem(A),W=this.localCache[A];V!==W&&w(A,W,V)}}onStorageEvent(w,A=!1){if(!w.key)return void this.forAllChangedKeys((Be,ct,vt)=>{this.notifyListeners(Be,vt)});const V=w.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Be=this.storage.getItem(V);if(w.newValue!==Be)null!==w.newValue?this.storage.setItem(V,w.newValue):this.storage.removeItem(V);else if(this.localCache[V]===w.newValue&&!A)return}const W=()=>{const Be=this.storage.getItem(V);!A&&this.localCache[V]===Be||this.notifyListeners(V,Be)},pe=this.storage.getItem(V);!function Ds(){return(0,ee.w1)()&&10===document.documentMode}()||pe===w.newValue||w.newValue===w.oldValue?W():setTimeout(W,10)}notifyListeners(w,A){this.localCache[w]=A;const V=this.listeners[w];if(V)for(const W of Array.from(V))W(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,A,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:A,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(A)}_removeListener(w,A){this.listeners[w]&&(this.listeners[w].delete(A),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,A){var V=()=>super._set,W=this;return(0,o.Z)(function*(){yield V().call(W,w,A),W.localCache[w]=JSON.stringify(A)})()}_get(w){var A=()=>super._get,V=this;return(0,o.Z)(function*(){const W=yield A().call(V,w);return V.localCache[w]=JSON.stringify(W),W})()}_remove(w){var A=()=>super._remove,V=this;return(0,o.Z)(function*(){yield A().call(V,w),delete V.localCache[w]})()}}return D.type="LOCAL",D})(),ir=(()=>{class D extends zu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,A){}_removeListener(w,A){}}return D.type="SESSION",D})();let hh=(()=>{class D{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const A=this.receivers.find(W=>W.isListeningto(w));if(A)return A;const V=new D(w);return this.receivers.push(V),V}isListeningto(w){return this.eventTarget===w}handleEvent(w){var A=this;return(0,o.Z)(function*(){const V=w,{eventId:W,eventType:pe,data:Be}=V.data,ct=A.handlersMap[pe];if(!(null==ct?void 0:ct.size))return;V.ports[0].postMessage({status:"ack",eventId:W,eventType:pe});const vt=Array.from(ct).map(function(){var Un=(0,o.Z)(function*(Fs){return Fs(V.origin,Be)});return function(Fs){return Un.apply(this,arguments)}}()),Kt=yield function si(D){return Promise.all(D.map(function(){var b=(0,o.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(A){return{fulfilled:!1,reason:A}}});return function(w){return b.apply(this,arguments)}}()))}(vt);V.ports[0].postMessage({status:"done",eventId:W,eventType:pe,response:Kt})})()}_subscribe(w,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(A)}_unsubscribe(w,A){this.handlersMap[w]&&A&&this.handlersMap[w].delete(A),(!A||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function $l(D="",b=10){let w="";for(let A=0;A<b;A++)w+=Math.floor(10*Math.random());return D+w}class Gl{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,w,A=50){var V=this;return(0,o.Z)(function*(){const W="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!W)throw new Error("connection_unavailable");let pe,Be;return new Promise((ct,vt)=>{const Kt=$l("",20);W.port1.start();const Un=setTimeout(()=>{vt(new Error("unsupported_event"))},A);Be={messageChannel:W,onMessage(Fs){const Ls=Fs;if(Ls.data.eventId===Kt)switch(Ls.data.status){case"ack":clearTimeout(Un),pe=setTimeout(()=>{vt(new Error("timeout"))},3e3);break;case"done":clearTimeout(pe),ct(Ls.data.response);break;default:clearTimeout(Un),clearTimeout(pe),vt(new Error("invalid_response"))}}},V.handlers.add(Be),W.port1.addEventListener("message",Be.onMessage),V.target.postMessage({eventType:b,eventId:Kt,data:w},[W.port2])}).finally(()=>{Be&&V.removeMessageHandler(Be)})})()}}function ji(){return window}function Za(){return void 0!==ji().WorkerGlobalScope&&"function"==typeof ji().importScripts}function Ot(){return(Ot=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const rr="firebaseLocalStorageDb",Pn="firebaseLocalStorage",Gu="fbase_key";class Wo{constructor(b){this.request=b}toPromise(){return new Promise((b,w)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function Ya(D,b){return D.transaction([Pn],b?"readwrite":"readonly").objectStore(Pn)}function fs(){const D=indexedDB.open(rr,1);return new Promise((b,w)=>{D.addEventListener("error",()=>{w(D.error)}),D.addEventListener("upgradeneeded",()=>{const A=D.result;try{A.createObjectStore(Pn,{keyPath:Gu})}catch(V){w(V)}}),D.addEventListener("success",(0,o.Z)(function*(){const A=D.result;A.objectStoreNames.contains(Pn)?b(A):(A.close(),yield function Ka(){const D=indexedDB.deleteDatabase(rr);return new Wo(D).toPromise()}(),b(yield fs()))}))})}function Qa(D,b,w){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,o.Z)(function*(D,b,w){const A=Ya(D,!0).put({[Gu]:b,value:w});return new Wo(A).toPromise()})).apply(this,arguments)}function Ja(){return(Ja=(0,o.Z)(function*(D,b){const w=Ya(D,!1).get(b),A=yield new Wo(w).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Wu(D,b){const w=Ya(D,!0).delete(b);return new Wo(w).toPromise()}const Ea=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,o.Z)(function*(){return w.db||(w.db=yield fs()),w.db})()}_withRetries(w){var A=this;return(0,o.Z)(function*(){let V=0;for(;;)try{const W=yield A._openDb();return yield w(W)}catch(W){if(V++>3)throw W;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,o.Z)(function*(){return Za()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,o.Z)(function*(){w.receiver=hh._getInstance(function Hf(){return Za()?self:null}()),w.receiver._subscribe("keyChanged",function(){var A=(0,o.Z)(function*(V,W){return{keyProcessed:(yield w._poll()).includes(W.key)}});return function(V,W){return A.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var A=(0,o.Z)(function*(V,W){return["keyChanged"]});return function(V,W){return A.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,o.Z)(function*(){var A,V;if(w.activeServiceWorker=yield function go(){return Ot.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new Gl(w.activeServiceWorker);const W=yield w.sender._send("ping",{},800);!W||(null===(A=W[0])||void 0===A?void 0:A.fulfilled)&&(null===(V=W[0])||void 0===V?void 0:V.value.includes("keyChanged"))&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var A=this;return(0,o.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function fh(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:w},A.serviceWorkerReceiverAvailable?800:50)}catch(V){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const w=yield fs();return yield Qa(w,Os,"1"),yield Wu(w,Os),!0}catch(w){}return!1})()}_withPendingWrite(w){var A=this;return(0,o.Z)(function*(){A.pendingWrites++;try{yield w()}finally{A.pendingWrites--}})()}_set(w,A){var V=this;return(0,o.Z)(function*(){return V._withPendingWrite((0,o.Z)(function*(){return yield V._withRetries(W=>Qa(W,w,A)),V.localCache[w]=A,V.notifyServiceWorker(w)}))})()}_get(w){var A=this;return(0,o.Z)(function*(){const V=yield A._withRetries(W=>function Hc(D,b){return Ja.apply(this,arguments)}(W,w));return A.localCache[w]=V,V})()}_remove(w){var A=this;return(0,o.Z)(function*(){return A._withPendingWrite((0,o.Z)(function*(){return yield A._withRetries(V=>Wu(V,w)),delete A.localCache[w],A.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,o.Z)(function*(){const A=yield w._withRetries(pe=>{const Be=Ya(pe,!1).getAll();return new Wo(Be).toPromise()});if(!A)return[];if(0!==w.pendingWrites)return[];const V=[],W=new Set;for(const{fbase_key:pe,value:Be}of A)W.add(pe),JSON.stringify(w.localCache[pe])!==JSON.stringify(Be)&&(w.notifyListeners(pe,Be),V.push(pe));for(const pe of Object.keys(w.localCache))w.localCache[pe]&&!W.has(pe)&&(w.notifyListeners(pe,null),V.push(pe));return V})()}notifyListeners(w,A){this.localCache[w]=A;const V=this.listeners[w];if(V)for(const W of Array.from(V))W(A)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(A)}_removeListener(w,A){this.listeners[w]&&(this.listeners[w].delete(A),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function _i(D,b){return Fn(D,"POST","/v2/accounts/mfaSignIn:start",kn(D,b))}function qu(){return(qu=(0,o.Z)(function*(D){return(yield Fn(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zi(D){return new Promise((b,w)=>{const A=document.createElement("script");A.setAttribute("src",D),A.onload=b,A.onerror=V=>{const W=We("internal-error");W.customData=V,w(W)},A.type="text/javascript",A.charset="UTF-8",function yi(){var D,b;return null!==(b=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==b?b:document}().appendChild(A)})}function Ni(D){return`__${D}${Math.floor(1e6*Math.random())}`}const ui=1e12;class Js{constructor(b){this.auth=b,this.counter=ui,this._widgets=new Map}render(b,w){const A=this.counter;return this._widgets.set(A,new vi(b,this.auth.name,w||{})),this.counter++,A}reset(b){var w;const A=b||ui;null===(w=this._widgets.get(A))||void 0===w||w.delete(),this._widgets.delete(A)}getResponse(b){var w;return(null===(w=this._widgets.get(b||ui))||void 0===w?void 0:w.getResponse())||""}execute(b){var w=this;return(0,o.Z)(function*(){var A;return null===(A=w._widgets.get(b||ui))||void 0===A||A.execute(),""})()}}class vi{constructor(b,w,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof b?document.getElementById(b):b;De(V,"argument-error",{appName:w}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ca(D){const b=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<D;A++)b.push(w.charAt(Math.floor(Math.random()*w.length)));return b.join("")}(50);const{callback:b,"expired-callback":w}=this.params;if(b)try{b(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xs=Ni("rcb"),bi=new Pt(3e4,6e4);class Gm{constructor(){var b;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(b=ji().grecaptcha)||void 0===b?void 0:b.render)}load(b,w=""){return De(function $y(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(w),b,"argument-error"),this.shouldResolveImmediately(w)?Promise.resolve(ji().grecaptcha):new Promise((A,V)=>{const W=ji().setTimeout(()=>{V(We(b,"network-request-failed"))},bi.get());ji()[Xs]=()=>{ji().clearTimeout(W),delete ji()[Xs];const Be=ji().grecaptcha;if(!Be)return void V(We(b,"internal-error"));const ct=Be.render;Be.render=(vt,Kt)=>{const Un=ct(vt,Kt);return this.counter++,Un},this.hostLanguage=w,A(Be)},zi(`https://www.google.com/recaptcha/api.js??${(0,ee.xO)({onload:Xs,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(W),V(We(b,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){var w;return!!(null===(w=ji().grecaptcha)||void 0===w?void 0:w.render)&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zl{load(b){return(0,o.Z)(function*(){return new Js(b)})()}clearedOneInstance(){}}const sr="recaptcha",Gy={theme:"light",type:"image"};class yo{constructor(b,w=Object.assign({},Gy),A){this.parameters=w,this.type=sr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=L(A),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof b?document.getElementById(b):b;De(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zl:new Gm,this.validateStartingState()}verify(){var b=this;return(0,o.Z)(function*(){b.assertNotDestroyed();const w=yield b.render(),A=b.getAssertedRecaptcha();return A.getResponse(w)||new Promise(W=>{const pe=Be=>{!Be||(b.tokenChangeListeners.delete(pe),W(Be))};b.tokenChangeListeners.add(pe),b.isInvisible&&A.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return w=>{if(this.tokenChangeListeners.forEach(A=>A(w)),"function"==typeof b)b(w);else if("string"==typeof b){const A=ji()[b];"function"==typeof A&&A(w)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,o.Z)(function*(){if(yield b.init(),!b.widgetId){let w=b.container;if(!b.isInvisible){const A=document.createElement("div");w.appendChild(A),w=A}b.widgetId=b.getAssertedRecaptcha().render(w,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,o.Z)(function*(){De(Lt()&&!Za(),b.auth,"internal-error"),yield function el(){let D=null;return new Promise(b=>{"complete"!==document.readyState?(D=()=>b(),window.addEventListener("load",D)):b()}).catch(b=>{throw D&&window.removeEventListener("load",D),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const w=yield function Xa(D){return qu.apply(this,arguments)}(b.auth);De(w,b.auth,"internal-error"),b.parameters.sitekey=w})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ia{constructor(b,w){this.verificationId=b,this.onConfirmation=w}confirm(b){const w=As._fromVerification(this.verificationId,b);return this.onConfirmation(w)}}function wi(D,b,w){return $c.apply(this,arguments)}function $c(){return($c=(0,o.Z)(function*(D,b,w){const A=L(D),V=yield ps(A,b,(0,ee.m9)(w));return new Ia(V,W=>Nu(A,W))})).apply(this,arguments)}function Gc(D,b,w){return mh.apply(this,arguments)}function mh(){return(mh=(0,o.Z)(function*(D,b,w){const A=(0,ee.m9)(D);yield qn(!1,A,"phone");const V=yield ps(A.auth,b,(0,ee.m9)(w));return new Ia(V,W=>fo(A,W))})).apply(this,arguments)}function Wm(D,b,w){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,o.Z)(function*(D,b,w){const A=(0,ee.m9)(D),V=yield ps(A.auth,b,(0,ee.m9)(w));return new Ia(V,W=>Ha(A,W))})).apply(this,arguments)}function ps(D,b,w){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,o.Z)(function*(D,b,w){var A;const V=yield w.verify();try{let W;if(De("string"==typeof V,D,"argument-error"),De(w.type===sr,D,"argument-error"),W="string"==typeof b?{phoneNumber:b}:b,"session"in W){const pe=W.session;if("phoneNumber"in W)return De("enroll"===pe.type,D,"internal-error"),(yield zm(D,{idToken:pe.credential,phoneEnrollmentInfo:{phoneNumber:W.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{De("signin"===pe.type,D,"internal-error");const Be=(null===(A=W.multiFactorHint)||void 0===A?void 0:A.uid)||W.multiFactorUid;return De(Be,D,"missing-multi-factor-info"),(yield _i(D,{mfaPendingCredential:pe.credential,mfaEnrollmentId:Be,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:pe}=yield ku(D,{phoneNumber:W.phoneNumber,recaptchaToken:V});return pe}}finally{w._reset()}})).apply(this,arguments)}function Kl(D,b){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,o.Z)(function*(D,b){yield $t((0,ee.m9)(D),b)})).apply(this,arguments)}let gh=(()=>{class D{constructor(w){this.providerId=D.PROVIDER_ID,this.auth=L(w)}verifyPhoneNumber(w,A){return ps(this.auth,w,(0,ee.m9)(A))}static credential(w,A){return As._fromVerification(w,A)}static credentialFromResult(w){return D.credentialFromTaggedObject(w)}static credentialFromError(w){return D.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:A,temporaryProof:V}=w;return A&&V?As._fromTokenResponse(A,V):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function tl(D,b){return b?Ee(b):(De(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class _h extends Nt{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return ii(b,this._buildIdpRequest())}_linkToIdToken(b,w){return ii(b,this._buildIdpRequest(w))}_getReauthenticationResolver(b){return ii(b,this._buildIdpRequest())}_buildIdpRequest(b){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(w.idToken=b),w}}function Wy(D){return Pc(D.auth,new _h(D),D.bypassAuthState)}function on(D){const{auth:b,user:w}=D;return De(w,b,"internal-error"),Pu(w,new _h(D),D.bypassAuthState)}function qm(D){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,o.Z)(function*(D){const{auth:b,user:w}=D;return De(w,b,"internal-error"),$t(w,new _h(D),D.bypassAuthState)})).apply(this,arguments)}class Zu{constructor(b,w,A,V,W=!1){this.auth=b,this.resolver=A,this.user=V,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var b=this;return new Promise(function(){var w=(0,o.Z)(function*(A,V){b.pendingPromise={resolve:A,reject:V};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(W){b.reject(W)}});return function(A,V){return w.apply(this,arguments)}}())}onAuthEvent(b){var w=this;return(0,o.Z)(function*(){const{urlResponse:A,sessionId:V,postBody:W,tenantId:pe,error:Be,type:ct}=b;if(Be)return void w.reject(Be);const vt={auth:w.auth,requestUri:A,sessionId:V,tenantId:pe||void 0,postBody:W||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(ct)(vt))}catch(Kt){w.reject(Kt)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return Wy;case"linkViaPopup":case"linkViaRedirect":return qm;case"reauthViaPopup":case"reauthViaRedirect":return on;default:yt(this.auth,"internal-error")}}resolve(b){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nl=new Pt(2e3,1e4);function $0(D,b,w){return yh.apply(this,arguments)}function yh(){return(yh=(0,o.Z)(function*(D,b,w){const A=L(D);Ve(D,b,qr);const V=tl(A,w);return new Yu(A,"signInViaPopup",b,V).executeNotNull()})).apply(this,arguments)}function qy(D,b,w){return eo.apply(this,arguments)}function eo(){return(eo=(0,o.Z)(function*(D,b,w){const A=(0,ee.m9)(D);Ve(A.auth,b,qr);const V=tl(A.auth,w);return new Yu(A.auth,"reauthViaPopup",b,V,A).executeNotNull()})).apply(this,arguments)}function Zm(D,b,w){return vh.apply(this,arguments)}function vh(){return(vh=(0,o.Z)(function*(D,b,w){const A=(0,ee.m9)(D);Ve(A.auth,b,qr);const V=tl(A.auth,w);return new Yu(A.auth,"linkViaPopup",b,V,A).executeNotNull()})).apply(this,arguments)}let Yu=(()=>{class D extends Zu{constructor(w,A,V,W,pe){super(w,A,W,pe),this.provider=V,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var w=this;return(0,o.Z)(function*(){const A=yield w.execute();return De(A,w.auth,"internal-error"),A})()}onExecution(){var w=this;return(0,o.Z)(function*(){se(1===w.filter.length,"Popup operations only handle one event");const A=$l();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],A),w.authWindow.associatedEvent=A,w.resolver._originValidation(w.auth).catch(V=>{w.reject(V)}),w.resolver._isIframeWebStorageSupported(w.auth,V=>{V||w.reject(We(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const w=()=>{var A,V;this.pollId=(null===(V=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===V?void 0:V.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(w,nl.get())};w()}}return D.currentPopupAction=null,D})();const di=new Map;class Ps extends Zu{constructor(b,w,A=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,A),this.eventId=null}execute(){var b=()=>super.execute,w=this;return(0,o.Z)(function*(){let A=di.get(w.auth._key());if(!A){try{const W=(yield function Zy(D,b){return qo.apply(this,arguments)}(w.resolver,w.auth))?yield b().call(w):null;A=()=>Promise.resolve(W)}catch(V){A=()=>Promise.reject(V)}di.set(w.auth._key(),A)}return w.bypassAuthState||di.set(w.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(b){var w=()=>super.onAuthEvent,A=this;return(0,o.Z)(function*(){if("signInViaRedirect"===b.type)return w().call(A,b);if("unknown"!==b.type){if(b.eventId){const V=yield A.auth._redirectUserForId(b.eventId);if(V)return A.user=V,w().call(A,b);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function qo(){return(qo=(0,o.Z)(function*(D,b){const w=sl(b),A=Qm(D);if(!(yield A._isAvailable()))return!1;const V="true"===(yield A._get(w));return yield A._remove(w),V})).apply(this,arguments)}function il(D,b){return rl.apply(this,arguments)}function rl(){return(rl=(0,o.Z)(function*(D,b){return Qm(D)._set(sl(b),"true")})).apply(this,arguments)}function Km(){di.clear()}function Ku(D,b){di.set(D._key(),b)}function Qm(D){return Ee(D._redirectPersistence)}function sl(D){return Ln("pendingRedirect",D.config.apiKey,D.name)}function Jm(D,b,w){return function ol(D,b,w){return Zo.apply(this,arguments)}(D,b,w)}function Zo(){return(Zo=(0,o.Z)(function*(D,b,w){const A=L(D);Ve(D,b,qr);const V=tl(A,w);return yield il(V,A),V._openRedirect(A,b,"signInViaRedirect")})).apply(this,arguments)}function _n(D,b,w){return function Ti(D,b,w){return bh.apply(this,arguments)}(D,b,w)}function bh(){return(bh=(0,o.Z)(function*(D,b,w){const A=(0,ee.m9)(D);Ve(A.auth,b,qr);const V=tl(A.auth,w);yield il(V,A.auth);const W=yield Jl(A);return V._openRedirect(A.auth,b,"reauthViaRedirect",W)})).apply(this,arguments)}function al(D,b,w){return function $f(D,b,w){return Ta.apply(this,arguments)}(D,b,w)}function Ta(){return(Ta=(0,o.Z)(function*(D,b,w){const A=(0,ee.m9)(D);Ve(A.auth,b,qr);const V=tl(A.auth,w);yield qn(!1,A,b.providerId),yield il(V,A.auth);const W=yield Jl(A);return V._openRedirect(A.auth,b,"linkViaRedirect",W)})).apply(this,arguments)}function wh(D,b){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,o.Z)(function*(D,b){return yield L(D)._initializationPromise,Wc(D,b,!1)})).apply(this,arguments)}function Wc(D,b){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,o.Z)(function*(D,b,w=!1){const A=L(D),V=tl(A,b),pe=yield new Ps(A,V,w).execute();return pe&&!w&&(delete pe.user._redirectEventId,yield A._persistUserIfCurrent(pe.user),yield A._setRedirectUser(null,b)),pe})).apply(this,arguments)}function Jl(D){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,o.Z)(function*(D){const b=$l(`${D.uid}:::`);return D._redirectEventId=b,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),b})).apply(this,arguments)}class Ju{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let w=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(b,A)&&(w=!0,this.sendToConsumer(b,A),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function ll(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zc(D);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=b,w=!0)),w}sendToConsumer(b,w){var A;if(b.error&&!Zc(b)){const V=(null===(A=b.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";w.onError(We(this.auth,V))}else w.onAuthEvent(b)}isEventForConsumer(b,w){const A=null===w.eventId||!!b.eventId&&b.eventId===w.eventId;return w.filter.includes(b.type)&&A}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qc(b))}saveEventToCache(b){this.cachedEventUids.add(qc(b)),this.lastProcessedEventTime=Date.now()}}function qc(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(b=>b).join("-")}function Zc({type:D,error:b}){return"unknown"===D&&"auth/no-auth-event"===(null==b?void 0:b.code)}function Wf(D){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,o.Z)(function*(D,b={}){return Fn(D,"GET","/v1/projects",b)})).apply(this,arguments)}const Yy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sa=/^https?/;function qf(){return(qf=(0,o.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:b}=yield Wf(D);for(const w of b)try{if(G0(w))return}catch(A){}yt(D,"unauthorized-domain")})).apply(this,arguments)}function G0(D){const b=ve(),{protocol:w,hostname:A}=new URL(b);if(D.startsWith("chrome-extension://")){const pe=new URL(D);return""===pe.hostname&&""===A?"chrome-extension:"===w&&D.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===w&&pe.hostname===A}if(!Sa.test(w))return!1;if(Yy.test(D))return A===D;const V=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(A)}const Xm=new Pt(3e4,6e4);function Zf(){const D=ji().___jsl;if(null==D?void 0:D.H)for(const b of Object.keys(D.H))if(D.H[b].r=D.H[b].r||[],D.H[b].L=D.H[b].L||[],D.H[b].r=[...D.H[b].L],D.CP)for(let w=0;w<D.CP.length;w++)D.CP[w]=null}let ec=null;function Eh(D){return ec=ec||function eg(D){return new Promise((b,w)=>{var A,V,W;function pe(){Zf(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{Zf(),w(We(D,"network-request-failed"))},timeout:Xm.get()})}if(null===(V=null===(A=ji().gapi)||void 0===A?void 0:A.iframes)||void 0===V?void 0:V.Iframe)b(gapi.iframes.getContext());else{if(!(null===(W=ji().gapi)||void 0===W?void 0:W.load)){const Be=Ni("iframefcb");return ji()[Be]=()=>{gapi.load?pe():w(We(D,"network-request-failed"))},zi(`https://apis.google.com/js/api.js?onload=${Be}`).catch(ct=>w(ct))}pe()}}).catch(b=>{throw ec=null,b})}(D),ec}const Da=new Pt(5e3,15e3),tc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ns(D){const b=D.config;De(b.authDomain,D,"auth-domain-config-required");const w=b.emulator?Zi(b,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,A={apiKey:b.apiKey,appName:D.name,v:H.SDK_VERSION},V=Yf.get(D.config.apiHost);V&&(A.eid=V);const W=D._getFrameworks();return W.length&&(A.fw=W.join(",")),`${w}?${(0,ee.xO)(A).slice(1)}`}function nc(){return nc=(0,o.Z)(function*(D){const b=yield Eh(D),w=ji().gapi;return De(w,D,"internal-error"),b.open({where:document.body,url:Ns(D),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tc,dontclear:!0},A=>new Promise(function(){var V=(0,o.Z)(function*(W,pe){yield A.restyle({setHideOnLeave:!1});const Be=We(D,"network-request-failed"),ct=ji().setTimeout(()=>{pe(Be)},Da.get());function vt(){ji().clearTimeout(ct),W(A)}A.ping(vt).then(vt,()=>{pe(Be)})});return function(W,pe){return V.apply(this,arguments)}}()))}),nc.apply(this,arguments)}const ic={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nd{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(b){}}}function bo(D,b,w,A,V,W){De(D.config.authDomain,D,"auth-domain-config-required"),De(D.config.apiKey,D,"invalid-api-key");const pe={apiKey:D.config.apiKey,appName:D.name,authType:w,redirectUrl:A,v:H.SDK_VERSION,eventId:V};if(b instanceof qr){b.setDefaultLanguage(D.languageCode),pe.providerId=b.providerId||"",(0,ee.xb)(b.getCustomParameters())||(pe.customParameters=JSON.stringify(b.getCustomParameters()));for(const[ct,vt]of Object.entries(W||{}))pe[ct]=vt}if(b instanceof Rr){const ct=b.getScopes().filter(vt=>""!==vt);ct.length>0&&(pe.scopes=ct.join(","))}D.tenantId&&(pe.tid=D.tenantId);const Be=pe;for(const ct of Object.keys(Be))void 0===Be[ct]&&delete Be[ct];return`${function Zr({config:D}){return D.emulator?Zi(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,ee.xO)(Be).slice(1)}`}const br="webStorageSupport",Qc=class Ih{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ir,this._completeRedirectFn=Wc,this._overrideRedirectResult=Ku}_openPopup(b,w,A,V){var W=this;return(0,o.Z)(function*(){var pe;se(null===(pe=W.eventManagers[b._key()])||void 0===pe?void 0:pe.manager,"_initialize() not called before _openPopup()");const Be=bo(b,w,A,ve(),V);return function Qf(D,b,w,A=500,V=600){const W=Math.max((window.screen.availHeight-V)/2,0).toString(),pe=Math.max((window.screen.availWidth-A)/2,0).toString();let Be="";const ct=Object.assign(Object.assign({},ic),{width:A.toString(),height:V.toString(),top:W,left:pe}),vt=(0,ee.z$)().toLowerCase();w&&(Be=Lo(vt)?"_blank":w),Ki(vt)&&(b=b||"http://localhost",ct.scrollbars="yes");const Kt=Object.entries(ct).reduce((Fs,[Ls,rd])=>`${Fs}${Ls}=${rd},`,"");if(function ls(D=(0,ee.z$)()){var b;return Bn(D)&&!!(null===(b=window.navigator)||void 0===b?void 0:b.standalone)}(vt)&&"_self"!==Be)return function Kc(D,b){const w=document.createElement("a");w.href=D,w.target=b;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(A)}(b||"",Be),new nd(null);const Un=window.open(b||"",Be,Kt);De(Un,D,"popup-blocked");try{Un.focus()}catch(Fs){}return new nd(Un)}(b,Be,$l())})()}_openRedirect(b,w,A,V){var W=this;return(0,o.Z)(function*(){return yield W._originValidation(b),function qa(D){ji().location.href=D}(bo(b,w,A,ve(),V)),new Promise(()=>{})})()}_initialize(b){const w=b._key();if(this.eventManagers[w]){const{manager:V,promise:W}=this.eventManagers[w];return V?Promise.resolve(V):(se(W,"If manager is not set, promise should be"),W)}const A=this.initAndGetManager(b);return this.eventManagers[w]={promise:A},A.catch(()=>{delete this.eventManagers[w]}),A}initAndGetManager(b){var w=this;return(0,o.Z)(function*(){const A=yield function tg(D){return nc.apply(this,arguments)}(b),V=new Ju(b);return A.register("authEvent",W=>(De(null==W?void 0:W.authEvent,b,"invalid-auth-event"),{status:V.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[b._key()]={manager:V},w.iframes[b._key()]=A,V})()}_isIframeWebStorageSupported(b,w){this.iframes[b._key()].send(br,{type:br},V=>{var W;const pe=null===(W=null==V?void 0:V[0])||void 0===W?void 0:W[br];void 0!==pe&&w(!!pe),yt(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const w=b._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function Xu(D){return qf.apply(this,arguments)}(b)),this.originValidationPromises[w]}get _shouldInitProactively(){return kr()||$r()||Bn()}};class id extends class Jf{constructor(b){this.factorId=b}_process(b,w,A){switch(w.type){case"enroll":return this._finalizeEnroll(b,w.credential,A);case"signin":return this._finalizeSignIn(b,w.credential);default:return ke("unexpected MultiFactorSessionType")}}}{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new id(b)}_finalizeEnroll(b,w,A){return function jy(D,b){return Fn(D,"POST","/v2/accounts/mfaEnrollment:finalize",kn(D,b))}(b,{idToken:w,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,w){return function Hi(D,b){return Fn(D,"POST","/v2/accounts/mfaSignIn:finalize",kn(D,b))}(b,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Th=(()=>{class D{constructor(){}static assertion(w){return id._fromCredential(w)}}return D.FACTOR_ID="phone",D})();var Jc="@firebase/auth";class rg{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var w=this;return(0,o.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const w=this.auth.onIdTokenChanged(A=>{var V;b((null===(V=A)||void 0===V?void 0:V.stsTokenManager.accessToken)||null)});this.internalListeners.set(b,w),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const w=this.internalListeners.get(b);!w||(this.internalListeners.delete(b),w(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function wo(D){(0,H._registerComponent)(new Re.wA("auth",(b,{options:w})=>{const A=b.getProvider("app").getImmediate(),V=b.getProvider("heartbeat"),{apiKey:W,authDomain:pe}=A.options;return((Be,ct)=>{De(W&&!W.includes(":"),"invalid-api-key",{appName:Be.name}),De(!(null==pe?void 0:pe.includes(":")),"argument-error",{appName:Be.name});const vt={apiKey:W,authDomain:pe,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fi(D)},Kt=new X(Be,ct,vt);return function Ue(D,b){const w=(null==b?void 0:b.persistence)||[],A=(Array.isArray(w)?w:[w]).map(Ee);(null==b?void 0:b.errorMap)&&D._updateErrorMap(b.errorMap),D._initializeWithPersistence(A,null==b?void 0:b.popupRedirectResolver)}(Kt,w),Kt})(A,V)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,w,A)=>{b.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new Re.wA("auth-internal",b=>{const w=L(b.getProvider("auth").getImmediate());return new rg(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(Jc,"0.20.5",function ep(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,H.registerVersion)(Jc,"0.20.5","esm2017")}("Browser")},1683:(wt,Oe,G)=>{G.d(Oe,{LL:()=>ve,ZR:()=>Ue,tV:()=>le,ne:()=>Rt,pd:()=>Hr,m9:()=>zr,z$:()=>Qe,ru:()=>Et,xb:()=>hi,w1:()=>Ge,uI:()=>mt,b$:()=>yt,xO:()=>qs,zd:()=>No});const Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,te){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ue=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Fe=[];for(let ge=0;ge<ie.length;ge+=3){const lt=ie[ge],Ct=ge+1<ie.length,wn=Ct?ie[ge+1]:0,ut=ge+2<ie.length,Ln=ut?ie[ge+2]:0;let Ki=(15&wn)<<2|Ln>>6,$r=63&Ln;ut||($r=64,Ct||(Ki=64)),Fe.push(ue[lt>>2],ue[(3&lt)<<4|wn>>4],ue[Ki],ue[$r])}return Fe.join("")},encodeString(ie,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(ie):this.encodeByteArray(function(ie){const te=[];let ue=0;for(let Fe=0;Fe<ie.length;Fe++){let ge=ie.charCodeAt(Fe);ge<128?te[ue++]=ge:ge<2048?(te[ue++]=ge>>6|192,te[ue++]=63&ge|128):55296==(64512&ge)&&Fe+1<ie.length&&56320==(64512&ie.charCodeAt(Fe+1))?(ge=65536+((1023&ge)<<10)+(1023&ie.charCodeAt(++Fe)),te[ue++]=ge>>18|240,te[ue++]=ge>>12&63|128,te[ue++]=ge>>6&63|128,te[ue++]=63&ge|128):(te[ue++]=ge>>12|224,te[ue++]=ge>>6&63|128,te[ue++]=63&ge|128)}return te}(ie),te)},decodeString(ie,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(ie):function(ie){const te=[];let ue=0,Fe=0;for(;ue<ie.length;){const ge=ie[ue++];if(ge<128)te[Fe++]=String.fromCharCode(ge);else if(ge>191&&ge<224){const lt=ie[ue++];te[Fe++]=String.fromCharCode((31&ge)<<6|63&lt)}else if(ge>239&&ge<365){const ut=((7&ge)<<18|(63&ie[ue++])<<12|(63&ie[ue++])<<6|63&ie[ue++])-65536;te[Fe++]=String.fromCharCode(55296+(ut>>10)),te[Fe++]=String.fromCharCode(56320+(1023&ut))}else{const lt=ie[ue++],Ct=ie[ue++];te[Fe++]=String.fromCharCode((15&ge)<<12|(63&lt)<<6|63&Ct)}}return te.join("")}(this.decodeStringToByteArray(ie,te))},decodeStringToByteArray(ie,te){this.init_();const ue=te?this.charToByteMapWebSafe_:this.charToByteMap_,Fe=[];for(let ge=0;ge<ie.length;){const lt=ue[ie.charAt(ge++)],wn=ge<ie.length?ue[ie.charAt(ge)]:0;++ge;const Ln=ge<ie.length?ue[ie.charAt(ge)]:64;++ge;const It=ge<ie.length?ue[ie.charAt(ge)]:64;if(++ge,null==lt||null==wn||null==Ln||null==It)throw Error();Fe.push(lt<<2|wn>>4),64!==Ln&&(Fe.push(wn<<4&240|Ln>>2),64!==It&&Fe.push(Ln<<6&192|It))}return Fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}},le=function(ie){try{return Re.decodeString(ie,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function Qe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function mt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function Et(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){const ie=Qe();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}class Ue extends Error{constructor(te,ue,Fe){super(ue),this.code=te,this.customData=Fe,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ve.prototype.create)}}class ve{constructor(te,ue,Fe){this.service=te,this.serviceName=ue,this.errors=Fe}create(te,...ue){const Fe=ue[0]||{},ge=`${this.service}/${te}`,lt=this.errors[te],Ct=lt?function Lt(ie,te){return ie.replace(Jt,(ue,Fe)=>{const ge=te[Fe];return null!=ge?String(ge):`<${Fe}?>`})}(lt,Fe):"Error";return new Ue(ge,`${this.serviceName}: ${Ct} (${ge}).`,Fe)}}const Jt=/\{\$([^}]+)}/g;function hi(ie){for(const te in ie)if(Object.prototype.hasOwnProperty.call(ie,te))return!1;return!0}function qs(ie){const te=[];for(const[ue,Fe]of Object.entries(ie))Array.isArray(Fe)?Fe.forEach(ge=>{te.push(encodeURIComponent(ue)+"="+encodeURIComponent(ge))}):te.push(encodeURIComponent(ue)+"="+encodeURIComponent(Fe));return te.length?"&"+te.join("&"):""}function No(ie){const te={};return ie.replace(/^\?/,"").split("&").forEach(Fe=>{if(Fe){const[ge,lt]=Fe.split("=");te[decodeURIComponent(ge)]=decodeURIComponent(lt)}}),te}function Hr(ie){const te=ie.indexOf("?");if(!te)return"";const ue=ie.indexOf("#",te);return ie.substring(te,ue>0?ue:void 0)}function Rt(ie,te){const ue=new Ba(ie,te);return ue.subscribe.bind(ue)}class Ba{constructor(te,ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ue,this.task.then(()=>{te(this)}).catch(Fe=>{this.error(Fe)})}next(te){this.forEachObserver(ue=>{ue.next(te)})}error(te){this.forEachObserver(ue=>{ue.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,ue,Fe){let ge;if(void 0===te&&void 0===ue&&void 0===Fe)throw new Error("Missing Observer.");ge=function xr(ie,te){if("object"!=typeof ie||null===ie)return!1;for(const ue of te)if(ue in ie&&"function"==typeof ie[ue])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:ue,complete:Fe},void 0===ge.next&&(ge.next=Ar),void 0===ge.error&&(ge.error=Ar),void 0===ge.complete&&(ge.complete=Ar);const lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ge.error(this.finalError):ge.complete()}catch(Ct){}}),this.observers.push(ge),lt}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let ue=0;ue<this.observers.length;ue++)this.sendOne(ue,te)}sendOne(te,ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{ue(this.observers[te])}catch(Fe){"undefined"!=typeof console&&console.error&&console.error(Fe)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ar(){}function zr(ie){return ie&&ie._delegate?ie._delegate:ie}},5828:(wt,Oe,G)=>{var o=G(5e3);let ee=null;function H(){return ee}const be=new o.OlP("DocumentToken");let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function le(){return(0,o.LFG)(ne)}()},providedIn:"platform"}),n})();const de=new o.OlP("Location Initialized");let ne=(()=>{class n extends we{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(t){const i=H().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=H().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){Se()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){Se()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(be))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function _t(){return new ne((0,o.LFG)(be))}()},providedIn:"platform"}),n})();function Se(){return!!window.history.pushState}function Ze(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Qe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function mt(n){return n&&"?"!==n[0]?"?"+n:n}let $e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function qe(n){const e=(0,o.LFG)(be).location;return new yt((0,o.LFG)(we),e&&e.origin||"")}()},providedIn:"root"}),n})();const Et=new o.OlP("appBaseHref");let yt=(()=>{class n extends $e{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ze(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+mt(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const c=this.prepareExternalUrl(r+mt(s));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){const c=this.prepareExternalUrl(r+mt(s));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(we),o.LFG(Et,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),We=(()=>{class n extends $e{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ze(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let c=this.prepareExternalUrl(r+mt(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){let c=this.prepareExternalUrl(r+mt(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(we),o.LFG(Et,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Qe(De(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+mt(i))}normalize(t){return n.stripTrailingSlash(function gt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,De(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mt(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mt(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=mt,n.joinWithSlash=Ze,n.stripTrailingSlash=Qe,n.\u0275fac=function(t){return new(t||n)(o.LFG($e),o.LFG(we))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ve(){return new Ge((0,o.LFG)($e),(0,o.LFG)(we))}()},providedIn:"root"}),n})();function De(n){return n.replace(/\/index.html$/,"")}function Tn(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let pi=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Vo{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mi=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Vo(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),xs(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{xs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function xs(n,e){n.context.$implicit=e.item}let li=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new cn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ol("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ol("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class cn{constructor(){this.$implicit=null,this.ngIf=null}}function Ol(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}class Ri{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ci=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Pi=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ri(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(ci,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),_a=(()=>{class n{constructor(t,i,r){r._addDefault(new Ri(t,i))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(ci,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();function ii(n,e){return new o.vHH(2100,"")}class Mc{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Or{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const mr=new Or,ku=new Mc;let Ua=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,o.QGY)(t))return mr;if((0,o.F4k)(t))return ku;throw ii()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1}),n})();const co=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let kc=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw ii();return t.replace(co,i=>i[0].toUpperCase()+i.substr(1).toLowerCase())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=o.Yjl({name:"titlecase",type:n,pure:!0}),n})(),Ii=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const ja="browser";function M(n){return"server"===n}let xe=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Ye((0,o.LFG)(be),window)}),n})();class Ye{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function St(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=kt(this.window.history)||kt(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function kt(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $t{}class qn extends class Tt extends class Re{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ae(n){ee||(ee=n)}(new qn)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Pu(){return gn=gn||document.querySelector("base"),gn?gn.getAttribute("href"):null}();return null==t?null:function Pc(n){Rc=Rc||document.createElement("a"),Rc.setAttribute("href",n);const e=Rc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){gn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Tn(document.cookie,e)}}let Rc,gn=null;const Pr=new o.OlP("TRANSITION_ID"),ds=[{provide:o.ip1,useFactory:function Nu(n,e,t){return()=>{t.get(o.CZH).donePromise.then(()=>{const i=H(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Pr,be,o.zs3],multi:!0}];class fo{static init(){(0,o.VLi)(new fo)}addToWindow(e){o.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?H().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let tr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ha=new o.OlP("EventManagerPlugins");let po=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ha),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Fu{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=H().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let ks=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),za=(()=>{class n extends ks{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(ya),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ya))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(be))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function ya(n){H().remove(n)}const jt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lu=/%COMP%/g;function je(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?je(n,r,t):(r=r.replace(Lu,n),t.push(r))}return t}function mn(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let zn=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ys(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ch(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case o.ifc.ShadowDom:return new Bu(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=je(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(po),o.LFG(za),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ys{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(jt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=jt[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=jt[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,i,r&o.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,mn(i)):this.eventManager.addEventListener(e,t,mn(i))}}class ch extends Ys{constructor(e,t,i,r){super(e),this.component=i;const s=je(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function ah(n){return"_ngcontent-%COMP%".replace(Lu,n)}(r+"-"+i.id),this.hostAttr=function Um(n){return"_nghost-%COMP%".replace(Lu,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Bu extends Ys{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=je(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ff=(()=>{class n extends Fu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(be))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const va=["alt","control","meta","shift"],$a={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ks={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ba=(()=>{class n extends Fu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(va.forEach(p=>{const v=i.indexOf(p);v>-1&&(i.splice(v,1),c+=p+".")}),c+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(t){let i="",r=function mo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&vr.hasOwnProperty(e)&&(e=vr[e]))}return $a[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),va.forEach(s=>{s!=r&&Ks[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(be))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const uh=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:ja},{provide:o.g9A,useValue:function Qs(){qn.makeCurrent(),fo.init()},multi:!0},{provide:be,useFactory:function Vu(){return(0,o.RDi)(document),document},deps:[]}]),Ho=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function Bl(){return new o.qLn},deps:[]},{provide:Ha,useClass:Ff,multi:!0,deps:[be,o.R0b,o.Lbi]},{provide:Ha,useClass:ba,multi:!0,deps:[be]},{provide:zn,useClass:zn,deps:[po,za,o.AFp]},{provide:o.FYo,useExisting:zn},{provide:ks,useExisting:za},{provide:za,useClass:za,deps:[be]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:po,useClass:po,deps:[Ha,o.R0b]},{provide:$t,useClass:tr,deps:[]}];let Vl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId},{provide:Pr,useExisting:o.AFp},ds]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:Ho,imports:[Ii,o.hGG]}),n})();"undefined"!=typeof window&&window;let Os=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):o.LFG($u),i},providedIn:"root"}),n})(),$u=(()=>{class n extends Os{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(i),(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,o.JVY)(t)}bypassSecurityTrustStyle(t){return(0,o.L6k)(t)}bypassSecurityTrustScript(t){return(0,o.eBb)(t)}bypassSecurityTrustUrl(t){return(0,o.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,o.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(be))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function zu(n){return new $u(n.get(be))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var Jn=G(8996),Wa=G(3269);function Dt(...n){const e=(0,Wa.yG)(n);return(0,Jn.D)(n,e)}var Xt=G(7579);class ir extends Xt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var si=G(8306);const{isArray:hh}=Array,{getPrototypeOf:$l,prototype:Gl,keys:ji}=Object;function qa(n){if(1===n.length){const e=n[0];if(hh(e))return{args:e,keys:null};if(function Za(n){return n&&"object"==typeof n&&$l(n)===Gl}(e)){const t=ji(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var go=G(4671),Ot=G(4004);const{isArray:fh}=Array;function rr(n){return(0,Ot.U)(e=>function Hf(n,e){return fh(e)?n(...e):n(e)}(n,e))}function zf(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Pn=G(5403),Gu=G(9672);function Wo(...n){const e=(0,Wa.yG)(n),t=(0,Wa.jO)(n),{args:i,keys:r}=qa(n);if(0===i.length)return(0,Jn.D)([],e);const s=new si.y(function Ya(n,e,t=go.y){return i=>{Ka(e,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)Ka(e,()=>{const v=(0,Jn.D)(n[p],e);let T=!1;v.subscribe((0,Pn.x)(i,S=>{s[p]=S,T||(T=!0,d--),d||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>zf(r,c):go.y));return t?s.pipe(rr(t)):s}function Ka(n,e,t){n?(0,Gu.f)(t,n,e):e()}var fs=G(576);function Qa(n,e){const t=(0,fs.m)(n)?n:()=>n,i=r=>r.error(t());return new si.y(e?r=>e.schedule(i,0,r):i)}const Hc=(0,G(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ja=G(8189);function ph(...n){return function Wu(){return(0,Ja.J)(1)}()((0,Jn.D)(n,(0,Wa.yG)(n)))}var _o=G(8421);function zc(n){return new si.y(e=>{(0,_o.Xf)(n()).subscribe(e)})}var Ea=G(515),_i=G(727),Hi=G(4482);function Xa(){return(0,Hi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Pn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class qu extends si.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Hi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _i.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Pn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_i.w0.EMPTY)}return e}refCount(){return Xa()(this)}}function yi(n,e){return(0,Hi.e)((t,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();t.subscribe((0,Pn.x)(i,p=>{null==r||r.unsubscribe();let v=0;const T=s++;(0,_o.Xf)(n(p,T)).subscribe(r=(0,Pn.x)(i,S=>i.next(e?e(p,S,T,v++):S),()=>{r=null,d()}))},()=>{c=!0,d()}))})}var zi=G(5698);function Ni(...n){const e=(0,Wa.yG)(n);return(0,Hi.e)((t,i)=>{(e?ph(n,t,e):ph(n,t)).subscribe(i)})}function ql(n,e,t,i,r){return(s,c)=>{let d=t,p=e,v=0;s.subscribe((0,Pn.x)(c,T=>{const S=v++;p=d?n(p,T,S):(d=!0,T),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}function Rs(n,e){return(0,Hi.e)(ql(n,e,arguments.length>=2,!0))}function ui(n,e){return(0,Hi.e)((t,i)=>{let r=0;t.subscribe((0,Pn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Js(n){return(0,Hi.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,Pn.x)(t,void 0,void 0,c=>{s=(0,_o.Xf)(n(c,Js(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}var vi=G(5577);function Ca(n,e){return(0,fs.m)(e)?(0,vi.z)(n,e,1):(0,vi.z)(n,1)}function Xs(n){return n<=0?()=>Ea.E:(0,Hi.e)((e,t)=>{let i=[];e.subscribe((0,Pn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function bi(n=$m){return(0,Hi.e)((e,t)=>{let i=!1;e.subscribe((0,Pn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function $m(){return new Hc}function Gm(n){return(0,Hi.e)((e,t)=>{let i=!1;e.subscribe((0,Pn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Zl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ui((r,s)=>n(r,s,i)):go.y,(0,zi.q)(1),t?Gm(e):bi(()=>new Hc))}var sr=G(8505);function Gy(n){return(0,Hi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class yo{constructor(e,t){this.id=e,this.url=t}}class el extends yo{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ia extends yo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wi extends yo{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $c extends yo{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gc extends yo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mh extends yo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wm extends yo{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Nr extends yo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ps extends yo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ql{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gh{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tl{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _h{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wy{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const on="primary";class qm{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Fi(n){return new qm(n)}const Zu="ngNavigationCancelingError";function nl(n){const e=Error("NavigationCancelingError: "+n);return e[Zu]=!0,e}function yh(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function eo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Zm(n[r],e[r]))return!1;return!0}function Zm(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function vh(n){return Array.prototype.concat.apply([],n)}function Yu(n){return n.length>0?n[n.length-1]:null}function di(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ps(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,Jn.D)(Promise.resolve(n)):Dt(n)}const qo={exact:function Ku(n,e,t){if(!al(n.segments,e.segments)||!ol(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Ku(n.children[i],e.children[i],t))return!1;return!0},subset:sl},il={exact:function Km(n,e){return eo(n,e)},subset:function Qm(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Zm(n[t],e[t]))},ignored:()=>!0};function rl(n,e,t){return qo[t.paths](n.root,e.root,t.matrixParams)&&il[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function sl(n,e,t){return Jm(n,e,e.segments,t)}function Jm(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!al(r,t)||e.hasChildren()||!ol(r,t,i))}if(n.segments.length===t.length){if(!al(n.segments,t)||!ol(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!sl(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(al(n.segments,r)&&ol(n.segments,r,i)&&n.children[on])&&Jm(n.children[on],e,s,i)}}function ol(n,e,t){return e.every((i,r)=>il[t](n[r].parameters,i.parameters))}class Zo{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fi(this.queryParams)),this._queryParamMap}toString(){return Gf.serialize(this)}}class _n{constructor(e,t){this.segments=e,this.children=t,this.parent=null,di(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wc(this)}}class Ti{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Fi(this.parameters)),this._parameterMap}toString(){return ll(this)}}function al(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class Ta{}class wh{parse(e){const t=new Zf(e);return new Zo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Yo(e.root,!0)}`,i=function Yc(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Xl(t)}=${Xl(r)}`).join("&"):`${Xl(t)}=${Xl(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Qu(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Gf=new wh;function Wc(n){return n.segments.map(e=>ll(e)).join("/")}function Yo(n,e){if(!n.hasChildren())return Wc(n);if(e){const t=n.children[on]?Yo(n.children[on],!1):"",i=[];return di(n.children,(r,s)=>{s!==on&&i.push(`${s}:${Yo(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function $f(n,e){let t=[];return di(n.children,(i,r)=>{r===on&&(t=t.concat(e(i,r)))}),di(n.children,(i,r)=>{r!==on&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===on?[Yo(n.children[on],!1)]:[`${r}:${Yo(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[on]?`${Wc(n)}/${t[0]}`:`${Wc(n)}/(${t.join("//")})`}}function Jl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xl(n){return Jl(n).replace(/%3B/gi,";")}function Ju(n){return Jl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qc(n){return decodeURIComponent(n)}function Zc(n){return qc(n.replace(/\+/g,"%20"))}function ll(n){return`${Ju(n.path)}${function Wf(n){return Object.keys(n).map(e=>`;${Ju(e)}=${Ju(n[e])}`).join("")}(n.parameters)}`}const Yy=/^[^\/()?;=#]+/;function Sa(n){const e=n.match(Yy);return e?e[0]:""}const Xu=/^[^=?&#]+/,G0=/^[^&#]+/;class Zf{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[on]=new _n(e,t)),i}parseSegment(){const e=Sa(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ti(qc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Sa(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Sa(this.remaining);r&&(i=r,this.capture(i))}e[qc(t)]=qc(i)}parseQueryParam(e){const t=function qf(n){const e=n.match(Xu);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Xm(n){const e=n.match(G0);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Zc(t),s=Zc(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Sa(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=on);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[on]:new _n([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class eg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ec(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ec(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Eh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Eh(e,this._root).map(t=>t.value)}}function ec(n,e){if(n===e.value)return e;for(const t of e.children){const i=ec(n,t);if(i)return i}return null}function Eh(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Eh(n,t);if(i.length)return i.unshift(e),i}return[]}class Da{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ed extends eg{constructor(e,t){super(e),this.snapshot=t,td(this,e)}toString(){return this.snapshot.toString()}}function tc(n,e){const t=function Yf(n,e){const c=new ic([],{},{},"",{},on,e,null,n.root,-1,{});return new Kf("",new Da(c,[]))}(n,e),i=new ir([new Ti("",{})]),r=new ir({}),s=new ir({}),c=new ir({}),d=new ir(""),p=new Ns(i,r,c,d,s,on,e,t.root);return p.snapshot=t.root,new ed(new Da(p,[]),t)}class Ns{constructor(e,t,i,r,s,c,d,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.U)(e=>Fi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.U)(e=>Fi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tg(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function nc(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class ic{constructor(e,t,i,r,s,c,d,p,v,T,S){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=p,this._urlSegment=v,this._lastPathIndex=T,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kf extends eg{constructor(e,t){super(t),this.url=e,td(this,t)}toString(){return Ch(this._root)}}function td(n,e){e.value._routerState=n,e.children.forEach(t=>td(n,t))}function Ch(n){const e=n.children.length>0?` { ${n.children.map(Ch).join(", ")} } `:"";return`${n.value}${e}`}function vo(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,eo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),eo(e.params,t.params)||n.params.next(t.params),function qy(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!eo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),eo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nd(n,e){const t=eo(n.params,e.params)&&function bh(n,e){return al(n,e)&&n.every((t,i)=>eo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||nd(n.parent,e.parent))}function Kc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function ng(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Kc(n,i,r);return Kc(n,i)})}(n,e,t);return new Da(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(d=>Kc(n,d)),c}}const i=function ig(n){return new Ns(new ir(n.url),new ir(n.params),new ir(n.queryParams),new ir(n.fragment),new ir(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Kc(n,s));return new Da(i,r)}}function Zr(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function br(n){return"object"==typeof n&&null!=n&&n.outlets}function Ih(n,e,t,i,r){let s={};if(i&&di(i,(d,p)=>{s[p]=Array.isArray(d)?d.map(v=>`${v}`):`${d}`}),n===e)return new Zo(t,s,r);const c=Qc(n,e,t);return new Zo(c,s,r)}function Qc(n,e,t){const i={};return di(n.children,(r,s)=>{i[s]=r===e?t:Qc(r,e,t)}),new _n(n.segments,i)}class Jf{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Zr(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(br);if(r&&r!==Yu(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Th{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function ep(n,e,t){if(n||(n=new _n([],{})),0===n.segments.length&&n.hasChildren())return wo(n,e,t);const i=function sg(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],d=t[i];if(br(d))break;const p=`${d}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&v&&"object"==typeof v&&void 0===v.outlets){if(!A(p,v,c))return s;i+=2}else{if(!A(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new _n(n.segments.slice(0,i.pathIndex),{});return s.children[on]=new _n(n.segments.slice(i.pathIndex),n.children),wo(s,0,r)}return i.match&&0===r.length?new _n(n.segments,{}):i.match&&!n.hasChildren()?D(n,e,t):i.match?wo(n,0,r):D(n,e,t)}function wo(n,e,t){if(0===t.length)return new _n(n.segments,{});{const i=function rg(n){return br(n[0])?n[0].outlets:{[on]:n}}(t),r={};return di(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=ep(n.children[c],e,s))}),di(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new _n(n.segments,r)}}function D(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(br(s)){const p=b(s.outlets);return new _n(i,p)}if(0===r&&Zr(t[0])){i.push(new Ti(n.segments[e].path,w(t[0]))),r++;continue}const c=br(s)?s.outlets[on]:`${s}`,d=r<t.length-1?t[r+1]:null;c&&d&&Zr(d)?(i.push(new Ti(c,w(d))),r+=2):(i.push(new Ti(c,{})),r++)}return new _n(i,{})}function b(n){const e={};return di(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=D(new _n([],{}),0,t))}),e}function w(n){const e={};return di(n,(t,i)=>e[i]=`${t}`),e}function A(n,e,t){return n==t.path&&eo(e,t.parameters)}class W{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),vo(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=xa(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),di(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=xa(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=xa(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=xa(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new _h(s.value.snapshot))}),e.children.length&&this.forwardEvent(new gh(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(vo(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),vo(d.route.value),this.activateChildRoutes(e,null,c.children)}else{const d=function pe(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),p=d?d.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=p,c.outlet&&c.outlet.activateWith(r,p),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class Be{constructor(e,t){this.routes=e,this.module=t}}function ct(n){return"function"==typeof n}function Kt(n){return n instanceof Zo}const cl=Symbol("INITIAL_VALUE");function Eo(){return yi(n=>Wo(n.map(e=>e.pipe((0,zi.q)(1),Ni(cl)))).pipe(Rs((e,t)=>{let i=!1;return t.reduce((r,s,c)=>r!==cl?r:(s===cl&&(i=!0),i||!1!==s&&c!==t.length-1&&!Kt(s)?r:s),e)},cl),ui(e=>e!==cl),(0,Ot.U)(e=>Kt(e)?e:!0===e),(0,zi.q)(1)))}class sd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Aa,this.attachRef=null}}class Aa{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new sd,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let rc=(()=>{class n{constructor(t,i,r,s,c){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=s||on,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,p=new tp(t,d,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Aa),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class tp{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ns?this.route:e===Aa?this.childContexts:this.parent.get(e,t)}}let od=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&o._UZ(0,"router-outlet")},directives:[rc],encapsulation:2}),n})();function Ko(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];ad(i,Xc(e,i))}}function ad(n,e){n.children&&Ko(n.children,e)}function Xc(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function eu(n){const e=n.children&&n.children.map(eu),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==on&&(t.component=od),t}function yn(n){return n.outlet||on}function og(n,e){const t=n.filter(i=>yn(i)===e);return t.push(...n.filter(i=>yn(i)!==e)),t}const np={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ld(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},np):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||yh)(t,n,e);if(!s)return Object.assign({},np);const c={};di(s.posParams,(p,v)=>{c[v]=p.path});const d=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:d,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function tu(n,e,t,i,r="corrected"){if(t.length>0&&function q0(n,e,t){return t.some(i=>ip(n,e,i)&&yn(i)!==on)}(n,t,i)){const c=new _n(e,function Ky(n,e,t,i){const r={};r[on]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&yn(s)!==on){const c=new _n([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[yn(s)]=c}return r}(n,e,i,new _n(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Z0(n,e,t){return t.some(i=>ip(n,e,i))}(n,t,i)){const c=new _n(n.segments,function W0(n,e,t,i,r,s){const c={};for(const d of i)if(ip(n,t,d)&&!r[yn(d)]){const p=new _n([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[yn(d)]=p}return Object.assign(Object.assign({},r),c)}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new _n(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function ip(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Y0(n,e,t,i){return!!(yn(n)===i||i!==on&&ip(e,t,n))&&("**"===n.path||ld(e,n,t).matched)}function Qy(n,e,t){return 0===e.length&&!n.children[t]}class sc{constructor(e){this.segmentGroup=e||null}}class wr{constructor(e){this.urlTree=e}}function nu(n){return Qa(new sc(n))}function rp(n){return Qa(new wr(n))}class ag{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(o.h0i)}apply(){const e=tu(this.urlTree.root,[],[],this.config).segmentGroup,t=new _n(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,on).pipe((0,Ot.U)(s=>this.createUrlTree(op(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Js(s=>{if(s instanceof wr)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof sc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,on).pipe((0,Ot.U)(r=>this.createUrlTree(op(r),e.queryParams,e.fragment))).pipe(Js(r=>{throw r instanceof sc?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new _n([],{[on]:e}):e;return new Zo(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Ot.U)(s=>new _n([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Jn.D)(r).pipe(Ca(s=>{const c=i.children[s],d=og(t,s);return this.expandSegmentGroup(e,d,c,s).pipe((0,Ot.U)(p=>({segment:p,outlet:s})))}),Rs((s,c)=>(s[c.outlet]=c.segment,s),{}),function $y(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ui((r,s)=>n(r,s,i)):go.y,Xs(1),t?Gm(e):bi(()=>new Hc))}())}expandSegment(e,t,i,r,s,c){return(0,Jn.D)(i).pipe(Ca(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,c).pipe(Js(v=>{if(v instanceof sc)return Dt(null);throw v}))),Zl(d=>!!d),Js((d,p)=>{if(d instanceof Hc||"EmptyError"===d.name)return Qy(t,r,s)?Dt(new _n([],{})):nu(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,c,d){return Y0(r,t,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c):nu(t):nu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?rp(s):this.lineralizeSegments(i,s).pipe((0,vi.z)(c=>{const d=new _n(c,{});return this.expandSegment(e,d,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:d,consumedSegments:p,remainingSegments:v,positionalParamSegments:T}=ld(t,r,s);if(!d)return nu(t);const S=this.applyRedirectCommands(p,r.redirectTo,T);return r.redirectTo.startsWith("/")?rp(S):this.lineralizeSegments(r,S).pipe((0,vi.z)(P=>this.expandSegment(e,t,i,P.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Dt(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,Ot.U)(S=>(i._loadedConfig=S,new _n(r,{})))):Dt(new _n(r,{}));const{matched:c,consumedSegments:d,remainingSegments:p}=ld(t,i,r);return c?this.getChildConfig(e,i,r).pipe((0,vi.z)(T=>{const S=T.module,P=T.routes,{segmentGroup:j,slicedSegments:$}=tu(t,d,p,P),oe=new _n(j.segments,j.children);if(0===$.length&&oe.hasChildren())return this.expandChildren(S,P,oe).pipe((0,Ot.U)(rt=>new _n(d,rt)));if(0===P.length&&0===$.length)return Dt(new _n(d,{}));const _e=yn(i)===s;return this.expandSegment(S,oe,P,$,_e?on:s,!0).pipe((0,Ot.U)(st=>new _n(d.concat(st.segments),st.children)))})):nu(t)}getChildConfig(e,t,i){return t.children?Dt(new Be(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Dt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,vi.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,Ot.U)(s=>(t._loadedConfig=s,s))):function Yr(n){return Qa(nl(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Dt(new Be([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?Dt(r.map(c=>{const d=e.get(c);let p;if(function Un(n){return n&&ct(n.canLoad)}(d))p=d.canLoad(t,i);else{if(!ct(d))throw new Error("Invalid CanLoad guard");p=d(t,i)}return Ps(p)})).pipe(Eo(),(0,sr.b)(c=>{if(!Kt(c))return;const d=nl(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw d.url=c,d}),(0,Ot.U)(c=>!0===c)):Dt(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Dt(i);if(r.numberOfChildren>1||!r.children[on])return Qa(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[on]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Zo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return di(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return di(t.children,(d,p)=>{c[p]=this.createSegmentGroup(e,d,i,r)}),new _n(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function op(n){const e={};for(const i of Object.keys(n.children)){const s=op(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function lg(n){if(1===n.numberOfChildren&&n.children[on]){const e=n.children[on];return new _n(n.segments.concat(e.segments),e.children)}return n}(new _n(n.segments,e))}class Jy{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ru{constructor(e,t){this.component=e,this.route=t}}function K0(n,e,t){const i=n._root;return oc(i,e?e._root:null,t,[i.value])}function cd(n,e,t){const i=function ev(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function oc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=xa(e);return n.children.forEach(c=>{(function Q0(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function J0(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!al(n.url,e.url);case"pathParamsOrQueryParamsChange":return!al(n.url,e.url)||!eo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nd(n,e)||!eo(n.queryParams,e.queryParams);default:return!nd(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new Jy(i)):(s.data=c.data,s._resolvedData=c._resolvedData),oc(n,e,s.component?d?d.children:null:t,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new ru(d.outlet.component,c))}else c&&su(e,d,r),r.canActivateChecks.push(new Jy(i)),oc(n,null,s.component?d?d.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),di(s,(c,d)=>su(c,t.getContext(d),r)),r}function su(n,e,t){const i=xa(n),r=n.value;di(i,(s,c)=>{su(s,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new ru(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class ew{}function tw(n){return new si.y(e=>e.error(n))}class Xn{constructor(e,t,i,r,s,c){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const e=tu(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,on);if(null===t)return null;const i=new ic([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},on,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Da(i,t),s=new Kf(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=tg(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const c=t.children[s],d=og(e,s),p=this.processSegmentGroup(d,c,s);if(null===p)return null;i.push(...p)}const r=iv(i);return function nv(n){n.sort((e,t)=>e.value.outlet===on?-1:t.value.outlet===on?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const c=this.processSegmentAgainstRoute(s,t,i,r);if(null!==c)return c}return Qy(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!Y0(e,t,i,r))return null;let s,c=[],d=[];if("**"===e.path){const j=i.length>0?Yu(i).parameters:{};s=new ic(i,j,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fg(e),yn(e),e.component,e,ud(t),Ma(t)+i.length,rw(e))}else{const j=ld(t,e,i);if(!j.matched)return null;c=j.consumedSegments,d=j.remainingSegments,s=new ic(c,j.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fg(e),yn(e),e.component,e,ud(t),Ma(t)+c.length,rw(e))}const p=function nw(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:v,slicedSegments:T}=tu(t,c,d,p.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);if(0===T.length&&v.hasChildren()){const j=this.processChildren(p,v);return null===j?null:[new Da(s,j)]}if(0===p.length&&0===T.length)return[new Da(s,[])];const S=yn(e)===r,P=this.processSegment(p,v,T,S?on:r);return null===P?null:[new Da(s,P)]}}function iw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function iv(n){const e=[],t=new Set;for(const i of n){if(!iw(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=iv(i.children);e.push(new Da(i.value,r))}return e.filter(i=>!t.has(i))}function ud(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ma(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function fg(n){return n.data||{}}function rw(n){return n.resolve||{}}function up(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Sh(n){return yi(e=>{const t=n(e);return t?(0,Jn.D)(t).pipe((0,Ot.U)(()=>e)):Dt(e)})}class ov extends class pg{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Dh=new o.OlP("ROUTES");class mg{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,Ot.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=s.create(e);return new Be(vh(c.injector.get(Dh,void 0,o.XFs.Self|o.XFs.Optional)).map(eu),c)}),Js(s=>{throw t._loader$=void 0,s}));return t._loader$=new qu(r,()=>new Xt.x).pipe(Xa()),t._loader$}loadModuleFactory(e){return Ps(e()).pipe((0,vi.z)(t=>t instanceof o.YKP?Dt(t):(0,Jn.D)(this.compiler.compileModuleAsync(t))))}}class yM{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function dd(n){throw n}function av(n,e,t){return e.parse("/")}function hp(n,e){return Dt(null)}const aT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ms=(()=>{class n{constructor(t,i,r,s,c,d,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xt.x,this.errorHandler=dd,this.malformedUriErrorHandler=av,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hp,afterPreactivation:hp},this.urlHandlingStrategy=new yM,this.routeReuseStrategy=new ov,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(o.h0i),this.console=c.get(o.c2e);const S=c.get(o.R0b);this.isNgZoneEnabled=S instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Zy(){return new Zo(new _n([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mg(c,d,P=>this.triggerEvent(new Yl(P)),P=>this.triggerEvent(new Kl(P))),this.routerState=tc(this.currentUrlTree,this.rootComponentType),this.transitions=new ir({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(ui(r=>0!==r.id),(0,Ot.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),yi(r=>{let s=!1,c=!1;return Dt(r).pipe((0,sr.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yi(d=>{const p=this.browserUrlTree.toString(),v=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return ow(d.source)&&(this.browserUrlTree=d.extractedUrl),Dt(d).pipe(yi(S=>{const P=this.transitions.getValue();return i.next(new el(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),P!==this.transitions.getValue()?Ea.E:Promise.resolve(S)}),function ap(n,e,t,i){return yi(r=>function iu(n,e,t,i,r){return new ag(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Ot.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,sr.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function rv(n,e,t,i,r){return(0,vi.z)(s=>function hg(n,e,t,i,r="emptyOnly",s="legacy"){try{const c=new Xn(n,e,t,i,r,s).recognize();return null===c?tw(new ew):Dt(c)}catch(c){return tw(c)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe((0,Ot.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,sr.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(j,S)}this.browserUrlTree=S.urlAfterRedirects}const P=new Gc(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(P)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:j,source:$,restoredState:oe,extras:_e}=d,Je=new el(P,this.serializeUrl(j),$,oe);i.next(Je);const st=tc(j,this.rootComponentType).snapshot;return Dt(Object.assign(Object.assign({},d),{targetSnapshot:st,urlAfterRedirects:j,extras:Object.assign(Object.assign({},_e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),Ea.E}),Sh(d=>{const{targetSnapshot:p,id:v,extractedUrl:T,rawUrl:S,extras:{skipLocationChange:P,replaceUrl:j}}=d;return this.hooks.beforePreactivation(p,{navigationId:v,appliedUrlTree:T,rawUrlTree:S,skipLocationChange:!!P,replaceUrl:!!j})}),(0,sr.b)(d=>{const p=new mh(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,Ot.U)(d=>Object.assign(Object.assign({},d),{guards:K0(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function tv(n,e){return(0,vi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?Dt(Object.assign(Object.assign({},t),{guardsResult:!0})):function cg(n,e,t,i){return(0,Jn.D)(n).pipe((0,vi.z)(r=>function dg(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Dt(s.map(d=>{const p=cd(d,e,r);let v;if(function rd(n){return n&&ct(n.canDeactivate)}(p))v=Ps(p.canDeactivate(n,e,t,i));else{if(!ct(p))throw new Error("Invalid CanDeactivate guard");v=Ps(p(n,e,t,i))}return v.pipe(Zl())})).pipe(Eo()):Dt(!0)}(r.component,r.route,t,e,i)),Zl(r=>!0!==r,!0))}(c,i,r,n).pipe((0,vi.z)(d=>d&&function vt(n){return"boolean"==typeof n}(d)?function lp(n,e,t,i){return(0,Jn.D)(e).pipe(Ca(r=>ph(function X0(n,e){return null!==n&&e&&e(new Ql(n)),Dt(!0)}(r.route.parent,i),function ug(n,e){return null!==n&&e&&e(new tl(n)),Dt(!0)}(r.route,i),function sT(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function Xy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>zc(()=>Dt(c.guards.map(p=>{const v=cd(p,c.node,t);let T;if(function Ls(n){return n&&ct(n.canActivateChild)}(v))T=Ps(v.canActivateChild(i,n));else{if(!ct(v))throw new Error("Invalid CanActivateChild guard");T=Ps(v(i,n))}return T.pipe(Zl())})).pipe(Eo())));return Dt(s).pipe(Eo())}(n,r.path,t),function rT(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Dt(!0);const r=i.map(s=>zc(()=>{const c=cd(s,e,t);let d;if(function Fs(n){return n&&ct(n.canActivate)}(c))d=Ps(c.canActivate(e,n));else{if(!ct(c))throw new Error("Invalid CanActivate guard");d=Ps(c(e,n))}return d.pipe(Zl())}));return Dt(r).pipe(Eo())}(n,r.route,t))),Zl(r=>!0!==r,!0))}(i,s,n,e):Dt(d)),(0,Ot.U)(d=>Object.assign(Object.assign({},t),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,sr.b)(d=>{if(Kt(d.guardsResult)){const v=nl(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw v.url=d.guardsResult,v}const p=new Wm(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),ui(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),Sh(d=>{if(d.guards.canActivateChecks.length)return Dt(d).pipe((0,sr.b)(p=>{const v=new Nr(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),yi(p=>{let v=!1;return Dt(p).pipe(function sw(n,e){return(0,vi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Dt(t);let s=0;return(0,Jn.D)(r).pipe(Ca(c=>function ka(n,e,t,i){return function cp(n,e,t,i){const r=up(n);if(0===r.length)return Dt({});const s={};return(0,Jn.D)(r).pipe((0,vi.z)(c=>function sv(n,e,t,i){const r=cd(n,e,i);return Ps(r.resolve?r.resolve(e,t):r(e,t))}(n[c],e,t,i).pipe((0,sr.b)(d=>{s[c]=d}))),Xs(1),(0,vi.z)(()=>up(s).length===r.length?Dt(s):Ea.E))}(n._resolve,n,e,i).pipe((0,Ot.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),tg(n,t).resolve),null)))}(c.route,i,n,e)),(0,sr.b)(()=>s++),Xs(1),(0,vi.z)(c=>s===r.length?Dt(t):Ea.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,sr.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,sr.b)(p=>{const v=new ps(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}))}),Sh(d=>{const{targetSnapshot:p,id:v,extractedUrl:T,rawUrl:S,extras:{skipLocationChange:P,replaceUrl:j}}=d;return this.hooks.afterPreactivation(p,{navigationId:v,appliedUrlTree:T,rawUrlTree:S,skipLocationChange:!!P,replaceUrl:!!j})}),(0,Ot.U)(d=>{const p=function Qf(n,e,t){const i=Kc(n,e._root,t?t._root:void 0);return new ed(i,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:p})}),(0,sr.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,Ot.U)(i=>(new W(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,sr.b)({next(){s=!0},complete(){s=!0}}),Gy(()=>{var d;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===r.id&&(this.currentNavigation=null)}),Js(d=>{if(c=!0,function $0(n){return n&&n[Zu]}(d)){const p=Kt(d.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const v=new wi(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(v),p?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ow(r.source)};this.scheduleNavigation(T,"imperative",null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new $c(r.id,this.serializeUrl(r.extractedUrl),d);i.next(p);try{r.resolve(this.errorHandler(d))}catch(v){r.reject(v)}}return Ea.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ko(t),this.config=t.map(eu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,v=r||this.routerState.root,T=p?this.currentUrlTree.fragment:c;let S=null;switch(d){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=s||null}return null!==S&&(S=this.removeEmptyProps(S)),function bo(n,e,t,i,r){if(0===t.length)return Ih(e.root,e.root,e.root,i,r);const s=function id(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Jf(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return di(s.outlets,(p,v)=>{d[v]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Jf(t,e,i)}(t);if(s.toRoot())return Ih(e.root,e.root,new _n([],{}),i,r);const c=function Jc(n,e,t){if(n.isAbsolute)return new Th(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Th(s,s===e.root,0)}const i=Zr(n.commands[0])?0:1;return function Xf(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Th(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),d=c.processChildren?wo(c.segmentGroup,c.index,s.commands):ep(c.segmentGroup,c.index,s.commands);return Ih(e.root,c.segmentGroup,d,i,r)}(v,this.currentUrlTree,t,S,null!=T?T:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Kt(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function lT(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},aT):!1===i?Object.assign({},lv):i,Kt(t))return rl(this.currentUrlTree,t,r);const s=this.parseUrl(t);return rl(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ia(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,c){var d,p;if(this.disposed)return Promise.resolve(!1);let v,T,S;c?(v=c.resolve,T=c.reject,S=c.promise):S=new Promise(($,oe)=>{v=$,T=oe});const P=++this.navigationId;let j;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),j=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):j=0,this.setTransition({id:P,targetPageId:j,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:v,reject:T,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch($=>Promise.reject($))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new wi(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function ow(n){return"imperative"!==n}let hd=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new Xt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:ou(this.skipLocationChange),replaceUrl:ou(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ou(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ms),o.Y36(Ns),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})(),Ah=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Xt.x,this.subscription=t.events.subscribe(s=>{s instanceof Ia&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,c){if(0!==t||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:ou(this.skipLocationChange),replaceUrl:ou(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ou(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ms),o.Y36(Ns),o.Y36($e))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function ou(n){return""===n||!!n}class _g{}class yg{preload(e,t){return Dt(null)}}let uv=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new mg(r,i,p=>t.triggerEvent(new Yl(p)),p=>t.triggerEvent(new Kl(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(ui(t=>t instanceof Ia),Ca(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(o.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return(0,Jn.D)(r).pipe((0,Ja.J)(),(0,Ot.U)(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Dt(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,vi.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ms),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(_g))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),fp=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof el?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ia&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Wy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Co=new o.OlP("ROUTER_CONFIGURATION"),pd=new o.OlP("ROUTER_FORROOT_GUARD"),aw=[Ge,{provide:Ta,useClass:wh},{provide:ms,useFactory:function fv(n,e,t,i,r,s,c={},d,p){const v=new ms(null,n,e,t,i,r,vh(s));return d&&(v.urlHandlingStrategy=d),p&&(v.routeReuseStrategy=p),function pv(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,v),c.enableTracing&&v.events.subscribe(T=>{var S,P;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(P=console.groupEnd)||void 0===P||P.call(console)}),v},deps:[Ta,Aa,Ge,o.zs3,o.Sil,Dh,Co,[class xh{},new o.FiY],[class dp{},new o.FiY]]},Aa,{provide:Ns,useFactory:function Mh(n){return n.routerState.root},deps:[ms]},uv,yg,class fd{preload(e,t){return t().pipe(Js(()=>Dt(null)))}},{provide:Co,useValue:{enableTracing:!1}}];function cT(){return new o.PXZ("Router",ms)}let pp=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[aw,hv(t),{provide:pd,useFactory:cw,deps:[[ms,new o.FiY,new o.tp0]]},{provide:Co,useValue:i||{}},{provide:$e,useFactory:lw,deps:[we,[new o.tBr(Et),new o.FiY],Co]},{provide:fp,useFactory:uT,deps:[ms,xe,Co]},{provide:_g,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:yg},{provide:o.PXZ,multi:!0,useFactory:cT},[kh,{provide:o.ip1,multi:!0,useFactory:uw,deps:[kh]},{provide:gv,useFactory:mv,deps:[kh]},{provide:o.tb,multi:!0,useExisting:gv}]]}}static forChild(t){return{ngModule:n,providers:[hv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(pd,8),o.LFG(ms,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function uT(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new fp(n,e,t)}function lw(n,e,t={}){return t.useHash?new We(n,e):new yt(n,e)}function cw(n){return"guarded"}function hv(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:Dh,multi:!0,useValue:n}]}let kh=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Xt.x}appInitializer(){return this.injector.get(de,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),s=this.injector.get(ms),c=this.injector.get(Co);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Dt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Co),r=this.injector.get(uv),s=this.injector.get(fp),c=this.injector.get(ms),d=this.injector.get(o.z2F);t===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function uw(n){return n.appInitializer.bind(n)}function mv(n){return n.bootstrapListener.bind(n)}const gv=new o.OlP("Router Initializer");let dw=(()=>{class n{constructor(){this.title="pokemon-api-app"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&o._UZ(0,"router-outlet")},directives:[rc],styles:[""]}),n})();var hw=G(6457),Fr=(G(1683),G(9206)),Oh=(G(1791),G(7172),G(4986)),jn=G(7937);function bg(){return(0,Hi.e)((n,e)=>{let t,i=!1;n.subscribe((0,Pn.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function Rh(n,e=go.y){return n=null!=n?n:fw,(0,Hi.e)((t,i)=>{let r,s=!0;t.subscribe((0,Pn.x)(i,c=>{const d=e(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function fw(n,e){return n===e}var Er=G(2011),to=(G(6255),G(8001)),Me=G(5861);const vv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},_p={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],c=r+1<n.length,d=c?n[r+1]:0,p=r+2<n.length,v=p?n[r+2]:0;let P=(15&d)<<2|v>>6,j=63&v;p||(j=64,c||(P=64)),i.push(t[s>>2],t[(3&s)<<4|d>>4],t[P],t[j])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const p=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(1023&p))}else{const s=n[t++],c=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&c)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],d=r<n.length?t[n.charAt(r)]:0;++r;const v=r<n.length?t[n.charAt(r)]:64;++r;const S=r<n.length?t[n.charAt(r)]:64;if(++r,null==s||null==d||null==v||null==S)throw Error();i.push(s<<2|d>>4),64!==v&&(i.push(d<<4&240|v>>2),64!==S&&i.push(v<<6&192|S))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},bv=function(n){return function(n){const e=vv(n);return _p.encodeByteArray(e,!0)}(n).replace(/\./g,"")};function Lr(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Ig extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Ig.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gw.prototype.create)}}class gw{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],c=s?function _w(n,e){return n.replace(kv,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new Ig(r,`${this.serviceName}: ${c} (${r}).`,i)}}const kv=/\{\$([^}]+)}/g;function Si(n){return n&&n._delegate?n._delegate:n}class Bh{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ip=[];var xn=(()=>{return(n=xn||(xn={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",xn;var n})();const Tp={debug:xn.DEBUG,verbose:xn.VERBOSE,info:xn.INFO,warn:xn.WARN,error:xn.ERROR,silent:xn.SILENT},vT=xn.INFO,Uv={[xn.DEBUG]:"log",[xn.VERBOSE]:"log",[xn.INFO]:"info",[xn.WARN]:"warn",[xn.ERROR]:"error"},CM=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=Uv[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};var xt,Hv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},dl={},_s=_s||{},en=Hv||self;function kg(){}function zv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Sp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var $v="closure_uid_"+(1e9*Math.random()>>>0),Dw=0;function Vh(n,e,t){return n.call.apply(n.bind,arguments)}function Dp(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function or(n,e,t){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vh:Dp).apply(null,arguments)}function md(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ar(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[r].apply(i,c)}}function Jo(){this.s=this.s,this.o=this.o}var xw={};Jo.prototype.s=!1,Jo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Og(n){return Object.prototype.hasOwnProperty.call(n,$v)&&n[$v]||(n[$v]=++Dw)}(this);delete xw[n]}},Jo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Aw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Mw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function Pg(n){return Array.prototype.concat.apply([],arguments)}function cc(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Bs(n){return/^[\s\xa0]*$/.test(n)}var Vs,xp=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ys(n,e){return-1!=n.indexOf(e)}function hl(n,e){return n<e?-1:n>e?1:0}e:{var fl=en.navigator;if(fl){var Wv=fl.userAgent;if(Wv){Vs=Wv;break e}}Vs=""}function qv(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Ng(n){const e={};for(const t in n)e[t]=n[t];return e}var Ap="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zv(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<Ap.length;s++)t=Ap[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Yv(n){return Yv[" "](n),n}Yv[" "]=kg;var Pe,n,f=ys(Vs,"Opera"),_=ys(Vs,"Trident")||ys(Vs,"MSIE"),I=ys(Vs,"Edge"),C=I||_,F=ys(Vs,"Gecko")&&!(ys(Vs.toLowerCase(),"webkit")&&!ys(Vs,"Edge"))&&!(ys(Vs,"Trident")||ys(Vs,"MSIE"))&&!ys(Vs,"Edge"),q=ys(Vs.toLowerCase(),"webkit")&&!ys(Vs,"Edge");function he(){var n=en.document;return n?n.documentMode:void 0}e:{var Ke="",pt=(n=Vs,F?/rv:([^\);]+)(\)|;)/.exec(n):I?/Edge\/([\d\.]+)/.exec(n):_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):q?/WebKit\/(\S+)/.exec(n):f?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(pt&&(Ke=pt?pt[1]:""),_){var me=he();if(null!=me&&me>parseFloat(Ke)){Pe=String(me);break e}}Pe=Ke}var Vt={};var Us=en.document&&_&&(he()||parseInt(Pe,10))||void 0,Mp=function(){if(!en.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{en.addEventListener("test",kg,e),en.removeEventListener("test",kg,e)}catch(t){}return n}();function Ir(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function pl(n,e){if(Ir.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(F){e:{try{Yv(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:gd[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pl.Z.h.call(this)}}Ir.prototype.h=function(){this.defaultPrevented=!0},ar(pl,Ir);var gd={2:"touch",3:"pen",4:"mouse"};pl.prototype.h=function(){pl.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var To="closure_listenable_"+(1e6*Math.random()|0),Fg=0;function kw(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++Fg,this.ca=this.fa=!1}function _d(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Kv(n){this.src=n,this.g={},this.h=0}function Lg(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=Aw(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(_d(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Qv(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}Kv.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=Qv(n,e,i,r);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new kw(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var Jv="closure_lm_"+(1e6*Math.random()|0),Xv={};function wT(n,e,t,i,r){if(i&&i.once)return ET(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)wT(n,e[s],t,i,r);return null}return t=Nw(t),n&&n[To]?n.N(e,t,Sp(i)?!!i.capture:!!i,r):eb(n,e,t,!1,i,r)}function eb(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=Sp(r)?!!r.capture:!!r,d=Pw(n);if(d||(n[Jv]=d=new Kv(n)),(t=d.add(e,t,i,c,s)).proxy)return t;if(i=function IM(){var e=TM;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Mp||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Rw(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function ET(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ET(n,e[s],t,i,r);return null}return t=Nw(t),n&&n[To]?n.O(e,t,Sp(i)?!!i.capture:!!i,r):eb(n,e,t,!0,i,r)}function Ow(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ow(n,e[s],t,i,r);else i=Sp(i)?!!i.capture:!!i,t=Nw(t),n&&n[To]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Qv(s=n.g[e],t,i,r))&&(_d(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Pw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Qv(e,t,i,r)),(t=-1<n?e[n]:null)&&yd(t))}function yd(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[To])Lg(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Rw(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Pw(e))?(Lg(t,n),0==t.h&&(t.src=null,e[Jv]=null)):_d(n)}}}function Rw(n){return n in Xv?Xv[n]:Xv[n]="on"+n}function TM(n,e){if(n.ca)n=!0;else{e=new pl(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&yd(n),n=t.call(i,e)}return n}function Pw(n){return(n=n[Jv])instanceof Kv?n:null}var vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nw(n){return"function"==typeof n?n:(n[vd]||(n[vd]=function(e){return n.handleEvent(e)}),n[vd])}function Kr(){Jo.call(this),this.i=new Kv(this),this.P=this,this.I=null}function bs(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Ir(e,n);else if(e instanceof Ir)e.target=e.target||n;else{var r=e;Zv(e=new Ir(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=tb(c,i,!0,e)&&r}if(r=tb(c=e.g=n,i,!0,e)&&r,r=tb(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=tb(c=e.g=t[s],i,!1,e)&&r}function tb(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ca&&c.capture==t){var d=c.listener,p=c.ia||c.src;c.fa&&Lg(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}ar(Kr,Jo),Kr.prototype[To]=!0,Kr.prototype.removeEventListener=function(n,e,t,i){Ow(this,n,e,t,i)},Kr.prototype.M=function(){if(Kr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)_d(t[i]);delete n.g[e],n.h--}}this.I=null},Kr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Kr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Xo=en.JSON.stringify;function Fw(){var n=jw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Vw,Lw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new IT,n=>n.reset());class IT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function TT(n){en.setTimeout(()=>{throw n},0)}function Bw(n,e){Vw||function SM(){var n=en.Promise.resolve(void 0);Vw=function(){n.then(HN)}}(),Uw||(Vw(),Uw=!0),jw.add(n,e)}var Uw=!1,jw=new class CT{constructor(){this.h=this.g=null}add(e,t){const i=Lw.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function HN(){for(var n;n=Fw();){try{n.h.call(n.g)}catch(t){TT(t)}var e=Lw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Uw=!1}function Bg(n,e){Kr.call(this),this.h=n||1,this.g=e||en,this.j=or(this.kb,this),this.l=Date.now()}function Hw(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function zw(n,e,t){if("function"==typeof n)t&&(n=or(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=or(n.handleEvent,n)}return 2147483647<Number(e)?-1:en.setTimeout(n,e||0)}function DM(n){n.g=zw(()=>{n.g=null,n.i&&(n.i=!1,DM(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ar(Bg,Kr),(xt=Bg.prototype).da=!1,xt.S=null,xt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bs(this,"tick"),this.da&&(Hw(this),this.start()))}},xt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xt.M=function(){Bg.Z.M.call(this),Hw(this),delete this.g};class zN extends Jo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:DM(this)}M(){super.M(),this.g&&(en.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uh(n){Jo.call(this),this.h=n,this.g={}}ar(Uh,Jo);var ST=[];function $w(n,e,t,i){Array.isArray(t)||(t&&(ST[0]=t.toString()),t=ST);for(var r=0;r<t.length;r++){var s=wT(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Gw(n){qv(n.g,function(e,t){this.g.hasOwnProperty(t)&&yd(e)},n),n.g={}}function Ww(){this.g=!0}function Vg(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return Xo(t)}catch(d){return e}}(n,t)+(i?" "+i:"")})}Uh.prototype.M=function(){Uh.Z.M.call(this),Gw(this)},Uh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ww.prototype.Aa=function(){this.g=!1},Ww.prototype.info=function(){};var bd={},AT=null;function qw(){return AT=AT||new Kr}function Zw(n){Ir.call(this,bd.Ma,n)}function jh(n){const e=qw();bs(e,new Zw(e,n))}function MT(n,e){Ir.call(this,bd.STAT_EVENT,n),this.stat=e}function ws(n){const e=qw();bs(e,new MT(e,n))}function kT(n,e){Ir.call(this,bd.Na,n),this.size=e}function Ug(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return en.setTimeout(function(){n()},e)}bd.Ma="serverreachability",ar(Zw,Ir),bd.STAT_EVENT="statevent",ar(MT,Ir),bd.Na="timingevent",ar(kT,Ir);var nb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},OT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yw(){}function jg(){}Yw.prototype.h=null;var Qw,uc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Kw(){Ir.call(this,"d")}function Hh(){Ir.call(this,"c")}function ib(){}function zh(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Uh(this),this.P=Hg,this.W=new Bg(n=C?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gl}function gl(){this.i=null,this.g="",this.h=!1}ar(Kw,Ir),ar(Hh,Ir),ar(ib,Yw),ib.prototype.g=function(){return new XMLHttpRequest},ib.prototype.i=function(){return{}},Qw=new ib;var Hg=45e3,Qr={},dc={};function kp(n,e,t){n.K=1,n.v=Gg(pc(e)),n.s=t,n.U=!0,ea(n,null)}function ea(n,e){n.F=Date.now(),hc(n),n.A=pc(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),PM(t.h,"t",i),n.C=0,t=n.l.H,n.h=new gl,n.g=pE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new zN(or(n.Ia,n,n.g),n.O)),$w(n.V,n.g,"readystatechange",n.gb),e=n.H?Ng(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),jh(1),function ml(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),p=0;p<d.length;p++){var v=d[p].split("=");if(1<v.length){var T=v[0];v=v[1];var S=T.split("_");c=2<=S.length&&"type"==S[1]?c+(T+"=")+v+"&":c+(T+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function rb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function $h(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=Op(n,t),r==dc){4==e&&(n.o=4,ws(14),i=!1),Vg(n.j,n.m,null,"[Incomplete Response]");break}if(r==Qr){n.o=4,ws(15),Vg(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Vg(n.j,n.m,r,null),wd(n,r)}rb(n)&&r!=dc&&r!=Qr&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ws(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),mb(e),e.L=!0,ws(11))):(Vg(n.j,n.m,t,"[Invalid Chunked Response]"),Ra(n),fc(n))}function Op(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?dc:(t=Number(e.substring(t,i)),isNaN(t)?Qr:(i+=1)+t>e.length?dc:(e=e.substr(i,t),n.C=i+t,e))}function hc(n){n.Y=Date.now()+n.P,Gh(n,n.P)}function Gh(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ug(or(n.eb,n),e)}function uu(n){n.B&&(en.clearTimeout(n.B),n.B=null)}function fc(n){0==n.l.G||n.I||n_(n.l,n)}function Ra(n){uu(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Hw(n.W),Gw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function wd(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||tE(t.i,n)))if(t.I=n.N,!n.J&&tE(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(v){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ug(or(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Up(t),Xg(t)}cE(t),ws(18)}if(1>=eE(t.i)&&t.ka){try{t.ka()}catch(v){}t.ka=void 0}}else Sd(t,11)}else if((n.J||t.g==n)&&Up(t),!Bs(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.U=v[0],v=v[1],2==t.G)if("c"==v[0]){t.J=v[1],t.la=v[2];const T=v[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const S=v[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const P=v[5];null!=P&&"number"==typeof P&&0<P&&(t.K=i=1.5*P,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const j=n.g;if(j){const $=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var s=i.i;!s.g&&(ys($,"spdy")||ys($,"quic")||ys($,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(lb(s,s.h),s.h=null))}if(i.D){const oe=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;oe&&(i.sa=oe,Di(i.F,i.D,oe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((i=t).oa=fE(i,i.H?i.la:null,i.W),c.J){qg(i.i,c);var d=c,p=i.K;p&&d.setTimeout(p),d.B&&(uu(d),hc(d)),i.g=c}else lE(i);0<t.l.length&&t_(t)}else"stop"!=v[0]&&"close"!=v[0]||Sd(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Sd(t,7):Jg(t):"noop"!=v[0]&&t.j&&t.j.wa(v),t.A=0)}jh(4)}catch(v){}}function sb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(zv(n)||"string"==typeof n)Mw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(zv(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function Rp(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(zv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function Wh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Wh)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function ob(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Ed(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Ed(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Ed(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(xt=zh.prototype).setTimeout=function(n){this.P=n},xt.gb=function(n){n=n.target;const e=this.L;e&&3==Td(n)?e.l():this.Ia(n)},xt.Ia=function(n){try{if(n==this.g)e:{const T=Td(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>T)&&(3!=T||C||this.g&&(this.h.h||this.g.ga()||GT(this.g)))){this.I||4!=T||7==e||jh(8==e||0>=S?3:2),uu(this);var t=this.g.ba();this.N=t;t:if(rb(this)){var i=GT(this.g);n="";var r=i.length,s=4==Td(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ra(this),fc(this);var c="";break t}this.h.i=new en.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function $N(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bs(d)){var v=d;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,ws(12),Ra(this),fc(this);break e}Vg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wd(this,t)}this.U?($h(this,T,c),C&&this.i&&3==T&&($w(this.V,this.W,"tick",this.fb),this.W.start())):(Vg(this.j,this.m,c,null),wd(this,c)),4==T&&Ra(this),this.i&&!this.I&&(4==T?n_(this.l,this):(this.i=!1,hc(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ws(12)):(this.o=0,ws(13)),Ra(this),fc(this)}}}catch(T){}},xt.fb=function(){if(this.g){var n=Td(this.g),e=this.g.ga();this.C<e.length&&(uu(this),$h(this,n,e),this.i&&4!=n&&hc(this))}},xt.cancel=function(){this.I=!0,Ra(this)},xt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function DT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(jh(3),ws(17)),Ra(this),this.o=2,fc(this)):Gh(this,this.Y-n)},(xt=Wh.prototype).R=function(){ob(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},xt.T=function(){return ob(this),this.g.concat()},xt.get=function(n,e){return Ed(this.h,n)?this.h[n]:e},xt.set=function(n,e){Ed(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},xt.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var Jw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cd(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Cd){this.g=void 0!==e?e:n.g,zg(this,n.j),this.s=n.s,ab(this,n.i),$g(this,n.m),this.l=n.l,e=n.h;var t=new qh;t.i=e.i,e.g&&(t.g=new Wh(e.g),t.h=e.h),NT(this,t),this.o=n.o}else n&&(t=String(n).match(Jw))?(this.g=!!e,zg(this,t[1]||"",!0),this.s=Pp(t[2]||""),ab(this,t[3]||"",!0),$g(this,t[4]),this.l=Pp(t[5]||"",!0),NT(this,t[6]||"",!0),this.o=Pp(t[7]||"")):(this.g=!!e,this.h=new qh(null,this.g))}function pc(n){return new Cd(n)}function zg(n,e,t){n.j=t?Pp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ab(n,e,t){n.i=t?Pp(e,!0):e}function $g(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function NT(n,e,t){e instanceof qh?(n.h=e,function BT(n,e){e&&!n.j&&(Id(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(OM(this,i),PM(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Wg(e,kM)),n.h=new qh(e,n.g))}function Di(n,e,t){n.h.set(e,t)}function Gg(n){return Di(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,FT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function FT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Wg(e,LT,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Wg(e,LT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Wg(t,"/"==t.charAt(0)?GN:MM,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Wg(t,Xw)),n.join("")};var LT=/[#\/\?@]/g,MM=/[#\?:]/g,GN=/[#\?]/g,kM=/[#\?@]/g,Xw=/#/g;function qh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Id(n){n.g||(n.g=new Wh,n.h=0,n.i&&function PT(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function OM(n,e){Id(n),e=Np(n,e),Ed(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ed((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ob(n)))}function RM(n,e){return Id(n),e=Np(n,e),Ed(n.g.h,e)}function PM(n,e,t){OM(n,e),0<t.length&&(n.i=null,n.g.set(Np(n,e),cc(t)),n.h+=t.length)}function Np(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function VT(n){this.l=n||Fp,n=en.PerformanceNavigationTiming?0<(n=en.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(en.g&&en.g.Ea&&en.g.Ea()&&en.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(xt=qh.prototype).add=function(n,e){Id(this),this.i=null,n=Np(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},xt.forEach=function(n,e){Id(this),this.g.forEach(function(t,i){Mw(t,function(r){n.call(e,r,i,this)},this)},this)},xt.T=function(){Id(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},xt.R=function(n){Id(this);var e=[];if("string"==typeof n)RM(this,n)&&(e=Pg(e,this.g.get(Np(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Pg(e,n[t])}return e},xt.set=function(n,e){return Id(this),this.i=null,RM(this,n=Np(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},xt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},xt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var Fp=10;function UT(n){return!!n.h||!!n.g&&n.g.size>=n.j}function eE(n){return n.h?1:n.g?n.g.size:0}function tE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function lb(n,e){n.g?n.g.add(e):n.h=e}function qg(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function jT(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return cc(n.i)}function cb(){}function NM(){this.g=new cb}function FM(n,e,t){const i=t||"";try{sb(n,function(r,s){let c=r;Sp(r)&&(c=Xo(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function ub(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function Zg(n){this.l=n.$b||null,this.j=n.ib||!1}function Yg(n,e){Kr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=nE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}VT.prototype.cancel=function(){if(this.i=jT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},cb.prototype.stringify=function(n){return en.JSON.stringify(n,void 0)},cb.prototype.parse=function(n){return en.JSON.parse(n,void 0)},ar(Zg,Yw),Zg.prototype.g=function(){return new Yg(this.l,this.j)},Zg.prototype.i=function(n){return function(){return n}}({}),ar(Yg,Kr);var nE=0;function iE(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Lp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Zh(n)}function Zh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(xt=Yg.prototype).open=function(n,e){if(this.readyState!=nE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Zh(this)},xt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||en).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},xt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lp(this)),this.readyState=nE},xt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Zh(this)),this.g&&(this.readyState=3,Zh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==en.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iE(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},xt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Lp(this):Zh(this),3==this.readyState&&iE(this)}},xt.Ua=function(n){this.g&&(this.response=this.responseText=n,Lp(this))},xt.Ta=function(n){this.g&&(this.response=n,Lp(this))},xt.ha=function(){this.g&&Lp(this)},xt.setRequestHeader=function(n,e){this.v.append(n,e)},xt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},xt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Yg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qN=en.JSON.parse;function Qi(n){Kr.call(this),this.headers=new Wh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=HT,this.K=this.L=!1}ar(Qi,Kr);var HT="",ZN=/^https?$/i,Kg=["POST","PUT"];function rE(n){return"content-type"==n.toLowerCase()}function db(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$T(n),Yh(n)}function $T(n){n.D||(n.D=!0,bs(n,"complete"),bs(n,"error"))}function Qg(n){if(n.h&&void 0!==_s&&(!n.C[1]||4!=Td(n)||2!=n.ba()))if(n.v&&4==Td(n))zw(n.Fa,0,n);else if(bs(n,"readystatechange"),4==Td(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match(Jw)[1]||null;if(!r&&en.self&&en.self.location){var s=en.self.location.protocol;r=s.substr(0,s.length-1)}i=!ZN.test(r?r.toLowerCase():"")}t=i}if(t)bs(n,"complete"),bs(n,"success");else{n.m=6;try{var c=2<Td(n)?n.g.statusText:""}catch(p){c=""}n.j=c+" ["+n.ba()+"]",$T(n)}}finally{Yh(n)}}}function Yh(n,e){if(n.g){hb(n);const t=n.g,i=n.C[0]?kg:null;n.g=null,n.C=null,e||bs(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function hb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(en.clearTimeout(n.A),n.A=null)}function Td(n){return n.g?n.g.readyState:0}function GT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case HT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Bp(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function fb(n){let e="";return qv(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Di(n,e,t))}function Kh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function sE(n){this.za=0,this.l=[],this.h=new Ww,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Kh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Kh("baseRetryDelayMs",5e3,n),this.$a=Kh("retryDelaySeedMs",1e4,n),this.Ya=Kh("forwardChannelMaxRetries",2,n),this.ra=Kh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new VT(n&&n.concurrentRequestLimit),this.Ca=new NM,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Jg(n){if(oE(n),3==n.G){var e=n.V++,t=pc(n.F);Di(t,"SID",n.J),Di(t,"RID",e),Di(t,"TYPE","terminate"),Vp(n,t),(e=new zh(n,n.h,e,void 0)).K=2,e.v=Gg(pc(t)),t=!1,en.navigator&&en.navigator.sendBeacon&&(t=en.navigator.sendBeacon(e.v.toString(),"")),!t&&en.Image&&((new Image).src=e.v,t=!0),t||(e.g=pE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),hc(e)}hE(n)}function Xg(n){n.g&&(mb(n),n.g.cancel(),n.g=null)}function oE(n){Xg(n),n.u&&(en.clearTimeout(n.u),n.u=null),Up(n),n.i.cancel(),n.m&&("number"==typeof n.m&&en.clearTimeout(n.m),n.m=null)}function e_(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&t_(n)}function t_(n){UT(n.i)||n.m||(n.m=!0,Bw(n.Ha,n),n.C=0)}function aE(n,e){var t;t=e?e.m:n.V++;const i=pc(n.F);Di(i,"SID",n.J),Di(i,"RID",t),Di(i,"AID",n.U),Vp(n,i),n.o&&n.s&&Bp(i,n.o,n.s),t=new zh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=pb(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),lb(n.i,t),kp(t,i,e)}function Vp(n,e){n.j&&sb({},function(t,i){Di(e,i,t)})}function pb(n,e,t){t=Math.min(n.l.length,t);var i=n.j?or(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let p=0;p<t;p++){let v=r[p].h;const T=r[p].g;if(v-=s,0>v)s=Math.max(0,r[p].h-100),d=!1;else try{FM(T,c,"req"+v+"_")}catch(S){i&&i(T)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function lE(n){n.g||n.u||(n.Y=1,Bw(n.Ga,n),n.A=0)}function cE(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ug(or(n.Ga,n),dE(n,n.A)),n.A++,0))}function mb(n){null!=n.B&&(en.clearTimeout(n.B),n.B=null)}function uE(n){n.g=new zh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=pc(n.oa);Di(e,"RID","rpc"),Di(e,"SID",n.J),Di(e,"CI",n.N?"0":"1"),Di(e,"AID",n.U),Vp(n,e),Di(e,"TYPE","xmlhttp"),n.o&&n.s&&Bp(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Gg(pc(e)),t.s=null,t.U=!0,ea(t,n)}function Up(n){null!=n.v&&(en.clearTimeout(n.v),n.v=null)}function n_(n,e){var t=null;if(n.g==e){Up(n),mb(n),n.g=null;var i=2}else{if(!tE(n.i,e))return;t=e.D,qg(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;bs(i=qw(),new kT(i,t,e,r)),t_(n)}else lE(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function BM(n,e){return!(eE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ug(or(n.Ha,n,e),dE(n,n.C)),n.C++,0)))}(n,e)||2==i&&cE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Sd(n,5);break;case 4:Sd(n,10);break;case 3:Sd(n,6);break;default:Sd(n,2)}}function dE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Sd(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=or(n.jb,n);t||(t=new Cd("//www.google.com/images/cleardot.gif"),en.location&&"http"==en.location.protocol||zg(t,"https"),Gg(t)),function LM(n,e){const t=new Ww;if(en.Image){const i=new Image;i.onload=md(ub,t,i,"TestLoadImage: loaded",!0,e),i.onerror=md(ub,t,i,"TestLoadImage: error",!1,e),i.onabort=md(ub,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=md(ub,t,i,"TestLoadImage: timeout",!1,e),en.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ws(2);n.G=0,n.j&&n.j.va(e),hE(n),oE(n)}function hE(n){n.G=0,n.I=-1,n.j&&((0!=jT(n.i).length||0!=n.l.length)&&(n.i.i.length=0,cc(n.l),n.l.length=0),n.j.ua())}function fE(n,e,t){let i=function xM(n){return n instanceof Cd?pc(n):new Cd(n,void 0)}(t);if(""!=i.i)e&&ab(i,e+"."+i.i),$g(i,i.m);else{const r=en.location;i=function AM(n,e,t,i){var r=new Cd(null,void 0);return n&&zg(r,n),e&&ab(r,e),t&&$g(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&qv(n.aa,function(r,s){Di(i,s,r)}),t=n.sa,(e=n.D)&&t&&Di(i,e,t),Di(i,"VER",n.ma),Vp(n,i),i}function pE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qi(t&&n.Ba&&!n.qa?new Zg({ib:!0}):n.qa)).L=n.H,e}function mE(){}function i_(){if(_&&!(10<=Number(Us)))throw Error("Environmental error: no available transport.")}function So(n,e){Kr.call(this),this.g=new sE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Bs(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bs(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new jp(this)}function VM(n){Kw.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function WT(){Hh.call(this),this.status=1}function jp(n){this.g=n}(xt=Qi.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qw.g(),this.C=function RT(n){return n.h||(n.h=n.i())}(this.u?this.u:Qw),this.g.onreadystatechange=or(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void db(this,s)}n=t||"";const r=new Wh(this.headers);i&&sb(i,function(s,c){r.set(c,s)}),i=function Gv(n){e:{var e=rE;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=en.FormData&&n instanceof en.FormData,!(0<=Aw(Kg,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hb(this),0<this.B&&((this.K=function zT(n){return _&&function Sn(){return function g(n){var e=Vt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=xp(String(Pe)).split("."),t=xp("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",s=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=hl(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||hl(0==r[2].length,0==s[2].length)||hl(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.pa,this)):this.A=zw(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){db(this,s)}},xt.pa=function(){void 0!==_s&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bs(this,"timeout"),this.abort(8))},xt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,bs(this,"complete"),bs(this,"abort"),Yh(this))},xt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yh(this,!0)),Qi.Z.M.call(this)},xt.Fa=function(){this.s||(this.F||this.v||this.l?Qg(this):this.cb())},xt.cb=function(){Qg(this)},xt.ba=function(){try{return 2<Td(this)?this.g.status:-1}catch(n){return-1}},xt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},xt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),qN(e)}},xt.Da=function(){return this.m},xt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(xt=sE.prototype).ma=8,xt.G=1,xt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},xt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new zh(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=Ng(s),Zv(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=pb(this,r,e),Di(t=pc(this.F),"RID",n),Di(t,"CVER",22),this.D&&Di(t,"X-HTTP-Session-Id",this.D),Vp(this,t),this.o&&s&&Bp(t,this.o,s),lb(this.i,r),this.Ra&&Di(t,"TYPE","init"),this.ja?(Di(t,"$req",e),Di(t,"SID","null"),r.$=!0,kp(r,t,null)):kp(r,t,e),this.G=2}}else 3==this.G&&(n?aE(this,n):0==this.l.length||UT(this.i)||aE(this))},xt.Ga=function(){if(this.u=null,uE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ug(or(this.bb,this),n)}},xt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ws(10),Xg(this),uE(this))},xt.ab=function(){null!=this.v&&(this.v=null,Xg(this),cE(this),ws(19))},xt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ws(2)):(this.h.info("Failed to ping google.com"),ws(1))},(xt=mE.prototype).xa=function(){},xt.wa=function(){},xt.va=function(){},xt.ua=function(){},xt.Oa=function(){},i_.prototype.g=function(n,e){return new So(n,e)},ar(So,Kr),So.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Bw(or(n.hb,n,e))),ws(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=fE(n,null,n.W),t_(n)},So.prototype.close=function(){Jg(this.g)},So.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,e_(this.g,e)}else this.v?((e={}).__data__=Xo(n),e_(this.g,e)):e_(this.g,n)},So.prototype.M=function(){this.g.j=null,delete this.j,Jg(this.g),delete this.g,So.Z.M.call(this)},ar(VM,Kw),ar(WT,Hh),ar(jp,mE),jp.prototype.xa=function(){bs(this.g,"a")},jp.prototype.wa=function(n){bs(this.g,new VM(n))},jp.prototype.va=function(n){bs(this.g,new WT(n))},jp.prototype.ua=function(){bs(this.g,"b")},i_.prototype.createWebChannel=i_.prototype.g,So.prototype.send=So.prototype.u,So.prototype.open=So.prototype.m,So.prototype.close=So.prototype.close,nb.NO_ERROR=0,nb.TIMEOUT=8,nb.HTTP_ERROR=6,OT.COMPLETE="complete",jg.EventType=uc,uc.OPEN="a",uc.CLOSE="b",uc.ERROR="c",uc.MESSAGE="d",Kr.prototype.listen=Kr.prototype.N,Qi.prototype.listenOnce=Qi.prototype.O,Qi.prototype.getLastError=Qi.prototype.La,Qi.prototype.getLastErrorCode=Qi.prototype.Da,Qi.prototype.getStatus=Qi.prototype.ba,Qi.prototype.getResponseJson=Qi.prototype.Qa,Qi.prototype.getResponseText=Qi.prototype.ga,Qi.prototype.send=Qi.prototype.ea;var qT=dl.createWebChannelTransport=function(){return new i_},UM=dl.getStatEventTarget=function(){return qw()},lr=dl.ErrorCode=nb,ZT=dl.EventType=OT,jM=dl.Event=bd,YT=dl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},KT=dl.FetchXmlHttpFactory=Zg,gb=dl.WebChannel=jg,QT=dl.XhrIo=Qi;const gE="@firebase/firestore";class $i{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");let Hp="9.9.1";const Dd=new class Mg{constructor(e){this.name=e,this._logLevel=vT,this._logHandler=CM,this._userLogHandler=null,Ip.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Tp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xn.DEBUG,...e),this._logHandler(this,xn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xn.VERBOSE,...e),this._logHandler(this,xn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xn.INFO,...e),this._logHandler(this,xn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xn.WARN,...e),this._logHandler(this,xn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xn.ERROR,...e),this._logHandler(this,xn.ERROR,...e)}}("@firebase/firestore");function _b(){return Dd.logLevel}function Xe(n,...e){if(Dd.logLevel<=xn.DEBUG){const t=e.map(r_);Dd.debug(`Firestore (${Hp}): ${n}`,...t)}}function Br(n,...e){if(Dd.logLevel<=xn.ERROR){const t=e.map(r_);Dd.error(`Firestore (${Hp}): ${n}`,...t)}}function Qh(n,...e){if(Dd.logLevel<=xn.WARN){const t=e.map(r_);Dd.warn(`Firestore (${Hp}): ${n}`,...t)}}function r_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function bt(n="Unexpected state"){const e=`FIRESTORE (${Hp}) INTERNAL ASSERTION FAILED: `+n;throw Br(e),new Error(e)}function Qt(n,e){n||bt()}function at(n,e){return n}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends Ig{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _E{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $M{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($i.UNAUTHENTICATED))}shutdown(){}}class GM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WM{constructor(e){this.t=e,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let c=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vr,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const v=c;e.enqueueRetryable((0,Me.Z)(function*(){yield v.promise,yield s(i.currentUser)}))},p=v=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vr)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt("string"==typeof i.accessToken),new _E(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qt(null===e||"string"==typeof e),new $i(e)}}class qM{constructor(e,t,i){this.type="FirstParty",this.user=$i.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class yE{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new qM(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t($i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZM{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qt("string"==typeof t.token),this.p=t.token,new zp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function KM(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class vE{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=KM(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function ln(n,e){return n<e?-1:n>e?1:0}function du(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function JT(n){return n+"\0"}class xi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new He(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new He(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new He(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xi.fromMillis(Date.now())}static fromDate(e){return xi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new xi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ln(this.nanoseconds,e.nanoseconds):ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zt(e)}static min(){return new Zt(new xi(0,0))}static max(){return new Zt(new xi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jh{constructor(e,t,i){void 0===t?t=0:t>e.length&&bt(),void 0===i?i=e.length-t:i>e.length-t&&bt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Jh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class En extends Jh{construct(e,t,i){return new En(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new He(Ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new En(t)}static emptyPath(){return new En([])}}const bE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ji extends Jh{construct(e,t,i){return new Ji(e,t,i)}static isValidIdentifier(e){return bE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ji.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ji(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new He(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new He(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new He(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new He(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ji(t)}static emptyPath(){return new Ji([])}}class dt{constructor(e){this.path=e}static fromPath(e){return new dt(En.fromString(e))}static fromName(e){return new dt(En.fromString(e).popFirst(5))}static empty(){return new dt(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===En.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return En.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new En(e.slice()))}}class s_{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function yb(n){return n.fields.find(e=>2===e.kind)}function xd(n){return n.fields.filter(e=>2!==e.kind)}s_.UNKNOWN_ID=-1;class o_{constructor(e,t){this.fieldPath=e,this.kind=t}}class $p{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new $p(0,ta.min())}}function wE(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Zt.fromTimestamp(1e9===i?new xi(t+1,0):new xi(t,i));return new ta(r,dt.empty(),e)}function XT(n){return new ta(n.readTime,n.key,-1)}class ta{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ta(Zt.min(),dt.empty(),-1)}static max(){return new ta(Zt.max(),dt.empty(),-1)}}function EE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=dt.comparator(n.documentKey,e.documentKey),0!==t?t:ln(n.largestBatchId,e.largestBatchId))}const eS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ad(n){return CE.apply(this,arguments)}function CE(){return CE=(0,Me.Z)(function*(n){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==eS)throw n;Xe("LocalStore","Unexpectedly lost primary lease")}),CE.apply(this,arguments)}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.reject(t)}static resolve(e){return new Te((t,i)=>{t(e)})}static reject(e){return new Te((t,i)=>{i(e)})}static waitFor(e){return new Te((t,i)=>{let r=0,s=0,c=!1;e.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&t()},p=>i(p))}),c=!0,s===r&&t()})}static or(e){let t=Te.resolve(!1);for(const i of e)t=t.next(r=>r?Te.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new Te((i,r)=>{const s=e.length,c=new Array(s);let d=0;for(let p=0;p<s;p++){const v=p;t(e[v]).next(T=>{c[v]=T,++d,d===s&&i(c)},T=>r(T))}})}static doWhile(e,t){return new Te((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class vb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Vr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new a_(e,t.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=IE(i.target.error);this.T.reject(new a_(e,r))}}static open(e,t,i,r){try{return new vb(t,e.transaction(r,i))}catch(s){throw new a_(t,s)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new JM(t)}}class _l{constructor(e,t,i){this.name=e,this.version=t,this.P=i,12.2===_l.v(Lr())&&Br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xe("SimpleDb","Removing database:",e),Xh(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!function vp(){return"object"==typeof indexedDB}())return!1;if(_l.S())return!0;const e=Lr(),t=_l.v(e),i=0<t&&t<10,r=_l.D(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(e){var t=this;return(0,Me.Z)(function*(){return t.db||(Xe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new a_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new He(Ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new He(Ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new a_(e,d))},s.onupgradeneeded=c=>{Xe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.O(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{Xe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=i=>t.M(i)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Me.Z)(function*(){const c="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.k(e);const p=vb.open(s.db,e,c?"readonly":"readwrite",i),v=r(p).next(T=>(p.R(),T)).catch(T=>(p.abort(T),Te.reject(T))).toPromise();return v.catch(()=>{}),yield p.A,v}catch(p){const v=p,T="FirebaseError"!==v.name&&d<3;if(Xe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",T),s.close(),!T)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class QM{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Xh(this.$.delete())}}class a_ extends He{constructor(e,t){super(Ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Md(n){return"IndexedDbTransactionError"===n.name}class JM{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Xe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Xh(i)}add(e){return Xe("SimpleDb","ADD",this.store.name,e,e),Xh(this.store.add(e))}get(e){return Xh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Xe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Xe("SimpleDb","DELETE",this.store.name,e),Xh(this.store.delete(e))}count(){return Xe("SimpleDb","COUNT",this.store.name),Xh(this.store.count())}K(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Te((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Te((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}W(e,t){Xe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const r=this.cursor(i);return this.G(r,(s,c,d)=>d.delete())}J(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Y(e){const t=this.cursor({});return new Te((i,r)=>{t.onerror=s=>{const c=IE(s.target.error);r(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}G(e,t){const i=[];return new Te((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new QM(d),v=t(d.primaryKey,d.value,p);if(v instanceof Te){const T=v.catch(S=>(p.done(),Te.reject(S)));i.push(T)}p.isDone?r():null===p.U?d.continue():d.continue(p.U)}}).next(()=>Te.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xh(n){return new Te((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=IE(i.target.error);t(r)}})}let nS=!1;function IE(n){const e=_l.v(Lr());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new He("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nS||(nS=!0,setTimeout(()=>{throw i},0)),i}}return n}class iS{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Xe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Me.Z)(function*(){t.task=null;try{Xe("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(i){Md(i)?Xe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ad(i)}yield t.Z(1)}))}}class rS{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Me.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.et(i,e))})()}et(e,t){const i=new Set;let r=t,s=!0;return Te.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return Xe("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>t-r)}nt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(r,s)).next(d=>(Xe("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>c.size)}))}st(e,t){let i=e;return t.changes.forEach((r,s)=>{const c=XT(s);EE(c,i)>0&&(i=c)}),new ta(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class no{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.it(i),this.rt=i=>t.writeSequenceNumber(i))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function TE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}no.ot=-1;class Gi{constructor(e,t){this.comparator=e,this.root=t||Jr.EMPTY}insert(e,t){return new Gi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(e){return new Gi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new l_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new l_(this.root,e,this.comparator,!1)}getReverseIterator(){return new l_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new l_(this.root,e,this.comparator,!0)}}class l_{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:Jr.RED,this.left=null!=r?r:Jr.EMPTY,this.right=null!=s?s:Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Jr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Jr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Jr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(e){this.comparator=e,this.data=new Gi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new DE(this.data.getIterator())}getIteratorFrom(e){return new DE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zn(this.comparator);return t.data=e,t}}class DE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pa(n){return n.hasNext()?n.getNext():void 0}class na{constructor(e){this.fields=e,e.sort(Ji.comparator)}static empty(){return new na([])}unionWith(e){let t=new Zn(Ji.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new na(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return du(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Li{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Li(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Li(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Li.EMPTY_BYTE_STRING=new Li("");const YN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mc(n){if(Qt(!!n),"string"==typeof n){let e=0;const t=YN.exec(n);if(Qt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:cr(n.seconds),nanos:cr(n.nanos)}}function cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Od(n){return"string"==typeof n?Li.fromBase64String(n):Li.fromUint8Array(n)}function bb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ek(n){const e=n.mapValue.fields.__previous_value__;return bb(e)?ek(e):e}function Gt(n){const e=mc(n.mapValue.fields.__local_write_time__.timestampValue);return new xi(e.seconds,e.nanos)}class tk{constructor(e,t,i,r,s,c,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class hu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}function c_(n){return null==n}function Rd(n){return 0===n&&1/n==-1/0}function sS(n){return"number"==typeof n&&Number.isInteger(n)&&!Rd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const yl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ef={nullValue:"NULL_VALUE"};function oi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bb(n)?4:cS(n)?9007199254740991:10:bt()}function fu(n,e){if(n===e)return!0;const t=oi(n);if(t!==oi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gt(n).isEqual(Gt(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=mc(i.timestampValue),c=mc(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Od(n.bytesValue).isEqual(Od(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return cr(i.geoPointValue.latitude)===cr(r.geoPointValue.latitude)&&cr(i.geoPointValue.longitude)===cr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return cr(i.integerValue)===cr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=cr(i.doubleValue),c=cr(r.doubleValue);return s===c?Rd(s)===Rd(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return du(n.arrayValue.values||[],e.arrayValue.values||[],fu);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(TE(s)!==TE(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!fu(s[d],c[d])))return!1;return!0}(n,e);default:return bt()}var r}function Gp(n,e){return void 0!==(n.values||[]).find(t=>fu(t,e))}function Pd(n,e){if(n===e)return 0;const t=oi(n),i=oi(e);if(t!==i)return ln(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ln(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=cr(r.integerValue||r.doubleValue),d=cr(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return oS(n.timestampValue,e.timestampValue);case 4:return oS(Gt(n),Gt(e));case 5:return ln(n.stringValue,e.stringValue);case 6:return function(r,s){const c=Od(r),d=Od(s);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let p=0;p<c.length&&p<d.length;p++){const v=ln(c[p],d[p]);if(0!==v)return v}return ln(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=ln(cr(r.latitude),cr(s.latitude));return 0!==c?c:ln(cr(r.longitude),cr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let p=0;p<c.length&&p<d.length;++p){const v=Pd(c[p],d[p]);if(v)return v}return ln(c.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===yl.mapValue&&s===yl.mapValue)return 0;if(r===yl.mapValue)return 1;if(s===yl.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=s.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let T=0;T<d.length&&T<v.length;++T){const S=ln(d[T],v[T]);if(0!==S)return S;const P=Pd(c[d[T]],p[v[T]]);if(0!==P)return P}return ln(d.length,v.length)}(n.mapValue,e.mapValue);default:throw bt()}}function oS(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ln(n,e);const t=mc(n),i=mc(e),r=ln(t.seconds,i.seconds);return 0!==r?r:ln(t.nanos,i.nanos)}function tf(n){return wb(n)}function wb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=mc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Od(n.bytesValue).toBase64():"referenceValue"in n?dt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=wb(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${wb(i.fields[d])}`;return s+"}"}(n.mapValue):bt();var e}function Nd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Eb(n){return!!n&&"integerValue"in n}function u_(n){return!!n&&"arrayValue"in n}function aS(n){return!!n&&"nullValue"in n}function lS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fd(n){return!!n&&"mapValue"in n}function d_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return kd(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=d_(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=d_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cS(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function nk(n){return"nullValue"in n?ef:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Nd(hu.empty(),dt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:bt()}function Cb(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Nd(hu.empty(),dt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?yl:bt()}function xE(n,e){const t=Pd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function AE(n,e){const t=Pd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Fd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=d_(t)}setAll(e){let t=Ji.emptyPath(),i={},r=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=d.popLast()}c?i[d.lastSegment()]=d_(c):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());Fd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Fd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){kd(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Xr(d_(this.value))}}function uS(n){const e=[];return kd(n.fields,(t,i)=>{const r=new Ji([t]);if(Fd(i)){const s=uS(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new na(e)}class Yn{constructor(e,t,i,r,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(e){return new Yn(e,0,Zt.min(),Zt.min(),Xr.empty(),0)}static newFoundDocument(e,t,i){return new Yn(e,1,t,Zt.min(),i,0)}static newNoDocument(e,t){return new Yn(e,2,t,Zt.min(),Xr.empty(),0)}static newUnknownDocument(e,t){return new Yn(e,3,t,Zt.min(),Xr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class h_{constructor(e,t=null,i=[],r=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ut=null}}function dS(n,e=null,t=[],i=[],r=null,s=null,c=null){return new h_(n,e,t,i,r,s,c)}function nf(n){const e=at(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+tf(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),c_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>tf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>tf(i)).join(",")),e.ut=t}return e.ut}function Wp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!m_(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!fu(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mS(n.startAt,e.startAt)&&mS(n.endAt,e.endAt)}function f_(n){return dt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function p_(n,e){return n.filters.filter(t=>t instanceof Es&&t.field.isEqual(e))}function hS(n,e,t){let i=ef,r=!0;for(const s of p_(n,e)){let c=ef,d=!0;switch(s.op){case"<":case"<=":c=nk(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=ef}xE({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];xE({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function ME(n,e,t){let i=yl,r=!0;for(const s of p_(n,e)){let c=yl,d=!0;switch(s.op){case">=":case">":c=Cb(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=yl}AE({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];AE({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class Es extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,i):new rk(e,t,i):"array-contains"===t?new JN(e,i):"in"===t?new fS(e,i):"not-in"===t?new Ib(e,i):"array-contains-any"===t?new ok(e,i):new Es(e,t,i)}static ct(e,t,i){return"in"===t?new KN(e,i):new QN(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Pd(t,this.value)):null!==t&&oi(this.value)===oi(t)&&this.at(Pd(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rk extends Es{constructor(e,t,i){super(e,t,i),this.key=dt.fromName(i.referenceValue)}matches(e){const t=dt.comparator(e.key,this.key);return this.at(t)}}class KN extends Es{constructor(e,t){super(e,"in",t),this.keys=sk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QN extends Es{constructor(e,t){super(e,"not-in",t),this.keys=sk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>dt.fromName(i.referenceValue))}class JN extends Es{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return u_(t)&&Gp(t.arrayValue,this.value)}}class fS extends Es{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gp(this.value.arrayValue,t)}}class Ib extends Es{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gp(this.value.arrayValue,t)}}class ok extends Es{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!u_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Gp(this.value.arrayValue,i))}}class Ld{constructor(e,t){this.position=e,this.inclusive=t}}class rf{constructor(e,t="asc"){this.field=e,this.dir=t}}function m_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function pS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?dt.comparator(dt.fromName(c.referenceValue),t.key):Pd(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function mS(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fu(n.position[t],e.position[t]))return!1;return!0}class pu{constructor(e,t=null,i=[],r=[],s=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=p,this.lt=null,this.ft=null}}function gS(n,e,t,i,r,s,c,d){return new pu(n,e,t,i,r,s,c,d)}function qp(n){return new pu(n)}function kE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function OE(n){for(const e of n.filters)if(e.ht())return e.field;return null}function Bd(n){return null!==n.collectionGroup}function Zp(n){const e=at(n);if(null===e.lt){e.lt=[];const t=OE(e),i=kE(e);if(null!==t&&null===i)t.isKeyField()||e.lt.push(new rf(t)),e.lt.push(new rf(Ji.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new rf(Ji.keyField(),s))}}}return e.lt}function ia(n){const e=at(n);if(!e.ft)if("F"===e.limitType)e.ft=dS(e.path,e.collectionGroup,Zp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Zp(e))t.push(new rf(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Ld(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ld(e.startAt.position,e.startAt.inclusive):null;e.ft=dS(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.ft}function yS(n,e,t){return new pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yp(n,e){return Wp(ia(n),ia(e))&&n.limitType===e.limitType}function vS(n){return`${nf(ia(n))}|lt:${n.limitType}`}function Tb(n){return`Query(target=${function ik(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${tf(i.value)}`;var i}).join(", ")}]`),c_(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>tf(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>tf(t)).join(",")),`Target(${e})`}(ia(n))}; limitType=${n.limitType})`}function RE(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):dt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const d=pS(r,s,c);return r.inclusive?d<=0:d<0}(t.startAt,Zp(t),i)||t.endAt&&!function(r,s,c){const d=pS(r,s,c);return r.inclusive?d>=0:d>0}(t.endAt,Zp(t),i)));var t,i}function Sb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bS(n){return(e,t)=>{let i=!1;for(const r of Zp(n)){const s=wS(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function wS(n,e,t){const i=n.field.isKeyField()?dt.comparator(e.key,t.key):function(r,s,c){const d=s.data.field(r),p=c.data.field(r);return null!==d&&null!==p?Pd(d,p):bt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return bt()}}function PE(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(e)?"-0":e}}function ES(n){return{integerValue:""+n}}function CS(n,e){return sS(e)?ES(e):PE(n,e)}class Db{constructor(){this._=void 0}}function NE(n,e,t){return n instanceof Kp?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof sf?IS(n,e):n instanceof af?TS(n,e):function(i,r){const s=FE(i,r),c=SS(s)+SS(i._t);return Eb(s)&&Eb(i._t)?ES(c):PE(i.wt,c)}(n,e)}function ak(n,e,t){return n instanceof sf?IS(n,e):n instanceof af?TS(n,e):t}function FE(n,e){return n instanceof Qp?Eb(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Kp extends Db{}class sf extends Db{constructor(e){super(),this.elements=e}}function IS(n,e){const t=DS(e);for(const i of n.elements)t.some(r=>fu(r,i))||t.push(i);return{arrayValue:{values:t}}}class af extends Db{constructor(e){super(),this.elements=e}}function TS(n,e){let t=DS(e);for(const i of n.elements)t=t.filter(r=>!fu(r,i));return{arrayValue:{values:t}}}class Qp extends Db{constructor(e,t){super(),this.wt=e,this._t=t}}function SS(n){return cr(n.integerValue||n.doubleValue)}function DS(n){return u_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Jp{constructor(e,t){this.field=e,this.transform=t}}class lk{constructor(e,t){this.version=e,this.transformResults=t}}class Wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function g_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class xb{}function AS(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new cf(n.key,Wi.none()):new Vd(n.key,n.data,Wi.none());{const t=n.data,i=Xr.empty();let r=new Zn(Ji.comparator);for(let s of e.fields)if(!r.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new mu(n.key,i,new na(r.toArray()),Wi.none())}}function ck(n,e,t){n instanceof Vd?function(i,r,s){const c=i.value.clone(),d=Ab(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof mu?function(i,r,s){if(!g_(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=Ab(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(MS(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function lf(n,e,t,i){return n instanceof Vd?function(r,s,c,d){if(!g_(r.precondition,s))return c;const p=r.value.clone(),v=kS(r.fieldTransforms,d,s);return p.setAll(v),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof mu?function(r,s,c,d){if(!g_(r.precondition,s))return c;const p=kS(r.fieldTransforms,d,s),v=s.data;return v.setAll(MS(r)),v.setAll(p),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(T=>T.field))}(n,e,t,i):(c=t,g_(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function LE(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=FE(i.transform,r||null);null!=s&&(null===t&&(t=Xr.empty()),t.set(i.field,s))}return t||null}function BE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&du(t,i,(r,s)=>function xS(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof sf&&i instanceof sf||t instanceof af&&i instanceof af?du(t.elements,i.elements,fu):t instanceof Qp&&i instanceof Qp?fu(t._t,i._t):t instanceof Kp&&i instanceof Kp);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Vd extends xb{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class mu extends xb{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Ab(n,e,t){const i=new Map;Qt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,d=e.data.field(s.field);i.set(s.field,ak(c,d,t[r]))}return i}function kS(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,NE(s,c,e))}return i}class cf extends xb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VE extends xb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OS{constructor(e){this.count=e}}var Tr,An;function uk(n){switch(n){default:return bt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function RS(n){if(void 0===n)return Br("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case Tr.OK:return Ie.OK;case Tr.CANCELLED:return Ie.CANCELLED;case Tr.UNKNOWN:return Ie.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return Ie.INTERNAL;case Tr.UNAVAILABLE:return Ie.UNAVAILABLE;case Tr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Tr.NOT_FOUND:return Ie.NOT_FOUND;case Tr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Tr.ABORTED:return Ie.ABORTED;case Tr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Tr.DATA_LOSS:return Ie.DATA_LOSS;default:return bt()}}(An=Tr||(Tr={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";class vl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){kd(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return SE(this.inner)}size(){return this.innerSize}}const dk=new Gi(dt.comparator);function Ur(){return dk}const Xp=new Gi(dt.comparator);function __(...n){let e=Xp;for(const t of n)e=e.insert(t.key,t);return e}function hk(n){let e=Xp;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function bl(){return y_()}function PS(){return y_()}function y_(){return new vl(n=>n.toString(),(n,e)=>n.isEqual(e))}const fk=new Gi(dt.comparator),pk=new Zn(dt.comparator);function dn(...n){let e=pk;for(const t of n)e=e.add(t);return e}const NS=new Zn(ln);function em(){return NS}class Ud{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ud(Zt.min(),i,em(),Ur(),dn())}}class gu{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new gu(Li.EMPTY_BYTE_STRING,t,dn(),dn(),dn())}}class Mb{constructor(e,t,i,r){this.gt=e,this.removedTargetIds=t,this.key=i,this.yt=r}}class UE{constructor(e,t){this.targetId=e,this.It=t}}class jE{constructor(e,t,i=Li.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class FS{constructor(){this.Tt=0,this.Et=LS(),this.At=Li.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=dn(),t=dn(),i=dn();return this.Et.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:bt()}}),new gu(this.At,this.Rt,e,t,i)}Dt(){this.bt=!1,this.Et=LS()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class mk{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Ur(),this.Bt=kb(),this.Lt=new Zn(ln)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const i=this.Qt(t);switch(e.state){case 0:this.jt(t)&&i.Vt(e.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(e.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(i.Ot(),i.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),i.Vt(e.resumeToken));break;default:bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((i,r)=>{this.jt(r)&&t(r)})}zt(e){const t=e.targetId,i=e.It.count,r=this.Ht(t);if(r){const s=r.target;if(f_(s))if(0===i){const c=new dt(s.path);this.Kt(t,c,Yn.newNoDocument(c,Zt.min()))}else Qt(1===i);else this.Jt(t)!==i&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((s,c)=>{const d=this.Ht(c);if(d){if(s.current&&f_(d.target)){const p=new dt(d.target.path);null!==this.$t.get(p)||this.Xt(c,p)||this.Kt(c,p,Yn.newNoDocument(p,e))}s.vt&&(t.set(c,s.St()),s.Dt())}});let i=dn();this.Bt.forEach((s,c)=>{let d=!0;c.forEachWhile(p=>{const v=this.Ht(p);return!v||2===v.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.$t.forEach((s,c)=>c.setReadTime(e));const r=new Ud(e,t,this.Lt,this.$t,i);return this.$t=Ur(),this.Bt=kb(),this.Lt=new Zn(ln),r}qt(e,t){if(!this.jt(e))return;const i=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,i),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,i){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),i&&(this.$t=this.$t.insert(t,i))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new FS,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Zn(ln),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Xe("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new FS),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function kb(){return new Gi(dt.comparator)}function LS(){return new Gi(dt.comparator)}const XN={asc:"ASCENDING",desc:"DESCENDING"},gk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _k{constructor(e,t){this.databaseId=e,this.dt=t}}function gc(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HE(n,e){return n.dt?e.toBase64():e.toUint8Array()}function tm(n,e){return gc(n,e.toTimestamp())}function Cs(n){return Qt(!!n),Zt.fromTimestamp(function(e){const t=mc(e);return new xi(t.seconds,t.nanos)}(n))}function Ob(n,e){return(t=n,new En(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function BS(n){const e=En.fromString(n);return Qt(qS(e)),e}function Rb(n,e){return Ob(n.databaseId,e.path)}function wl(n,e){const t=BS(e);if(t.get(1)!==n.databaseId.projectId)throw new He(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new He(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new dt(US(t))}function VS(n,e){return Ob(n.databaseId,e)}function zE(n){const e=BS(n);return 4===e.length?En.emptyPath():US(e)}function uf(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function US(n){return Qt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function $E(n,e,t){return{name:Rb(n,e),fields:t.value.mapValue.fields}}function GE(n,e,t){const i=wl(n,e.name),r=Cs(e.updateTime),s=new Xr({mapValue:{fields:e.fields}}),c=Yn.newFoundDocument(i,r,s);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function v_(n,e){let t;if(e instanceof Vd)t={update:$E(n,e.key,e.value)};else if(e instanceof cf)t={delete:Rb(n,e.key)};else if(e instanceof mu)t={update:$E(n,e.key,e.data),updateMask:Ek(e.fieldMask)};else{if(!(e instanceof VE))return bt();t={verify:Rb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof Kp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof sf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof af)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qp)return{fieldPath:s.field.canonicalString(),increment:c._t};throw bt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:tm(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:bt()),t;var r}function WE(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Wi.updateTime(Cs(r.updateTime)):void 0!==r.exists?Wi.exists(r.exists):Wi.none():Wi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(Qt("REQUEST_TIME"===c.setToServerValue),d=new Kp):"appendMissingElements"in c?d=new sf(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new af(c.removeAllFromArray.values||[]):"increment"in c?d=new Qp(s,c.increment):bt();const p=Ji.fromServerFormat(c.fieldPath);return new Jp(p,d)}(n,r)):[];var r;if(e.update){const r=wl(n,e.update.name),s=new Xr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new na((e.updateMask.fieldPaths||[]).map(v=>Ji.fromServerFormat(v)));return new mu(r,s,c,t,i)}return new Vd(r,s,t,i)}if(e.delete){const r=wl(n,e.delete);return new cf(r,t)}if(e.verify){const r=wl(n,e.verify);return new VE(r,t)}return bt()}function jS(n,e){return{documents:[VS(n,e.path)]}}function HS(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=VS(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=VS(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const v=p.map(T=>function(S){if("=="===S.op){if(lS(S.value))return{unaryFilter:{field:df(S.field),op:"IS_NAN"}};if(aS(S.value))return{unaryFilter:{field:df(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(lS(S.value))return{unaryFilter:{field:df(S.field),op:"IS_NOT_NAN"}};if(aS(S.value))return{unaryFilter:{field:df(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:df(S.field),op:GS(S.op),value:S.value}}}(T));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(v=>{return{field:df((T=v).field),direction:$S(T.dir)};var T})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(v=e.limit,n.dt||c_(v)?v:{value:v});var v,d,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function nm(n){let e=zE(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Qt(1===i);const T=t.from[0];T.allDescendants?r=T.collectionId:e=e.child(T.collectionId)}let s=[];t.where&&(s=qE(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new rf(hf((S=T).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let d=null;t.limit&&(d=function(T){let S;return S="object"==typeof T?T.value:T,c_(S)?null:S}(t.limit));let p=null;var T;t.startAt&&(p=new Ld((T=t.startAt).values||[],!!T.before));let v=null;return t.endAt&&(v=function(T){return new Ld(T.values||[],!T.before)}(t.endAt)),gS(e,r,c,s,d,"F",p,v)}function qE(n){return n?void 0!==n.unaryFilter?[WS(n)]:void 0!==n.fieldFilter?[wk(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>qE(e)).reduce((e,t)=>e.concat(t)):bt():[]}function $S(n){return XN[n]}function GS(n){return gk[n]}function df(n){return{fieldPath:n.canonicalString()}}function hf(n){return Ji.fromServerFormat(n.fieldPath)}function wk(n){return Es.create(hf(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value)}function WS(n){switch(n.unaryFilter.op){case"IS_NAN":const e=hf(n.unaryFilter.field);return Es.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=hf(n.unaryFilter.field);return Es.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hf(n.unaryFilter.field);return Es.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=hf(n.unaryFilter.field);return Es.create(r,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}function Ek(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qS(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function io(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=im(e)),e=Ck(n.get(t),e);return im(e)}function Ck(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function im(n){return n+"\x01\x01"}function _c(n){const e=n.length;if(Qt(e>=2),2===e)return Qt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&bt(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:bt()}s=c+2}return new En(i)}const Pb=["userId","batchId"];function ra(n,e){return[n,io(e)]}function ZS(n,e,t){return[n,io(e),t]}const Nb={},b_=["prefixPath","collectionGroup","readTime","documentId"],Ik=["prefixPath","collectionGroup","documentId"],Tk=["collectionGroup","readTime","prefixPath","documentId"],Sk=["canonicalId","targetId"],Fb=["targetId","path"],Lb=["path","targetId"],Dk=["collectionId","parent"],xk=["indexId","uid"],YS=["uid","sequenceNumber"],KS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ZE=["indexId","uid","orderedDocumentKey"],QS=["userId","collectionPath","documentId"],Ak=["userId","collectionPath","largestBatchId"],Mk=["userId","collectionGroup","largestBatchId"],kk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],YE=[...kk,"documentOverlays"],Bb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],KE=Bb,QE=[...KE,"indexConfiguration","indexState","indexEntries"];class w_ extends tS{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function es(n,e){const t=at(n);return _l.N(t.ee,e)}class JE{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&ck(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=lf(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=lf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=PS();return this.mutations.forEach(r=>{const s=e.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=t.has(r.key)?null:d;const p=AS(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Zt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dn())}isEqual(e){return this.batchId===e.batchId&&du(this.mutations,e.mutations,(t,i)=>BE(t,i))&&du(this.baseMutations,e.baseMutations,(t,i)=>BE(t,i))}}class XE{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Qt(e.mutations.length===i.length);let r=fk;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new XE(e,t,i,r)}}class eC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _u{constructor(e,t,i,r,s=Zt.min(),c=Zt.min(),d=Li.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(e){return new _u(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Vb{constructor(e){this.ne=e}}function tC(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:E_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Rb(r=n.ne,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:gc(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:jd(e.version)};else{if(!e.isUnknownDocument())return bt();i.unknownDocument={path:t.path.toArray(),version:jd(e.version)}}var r,s;return i}function E_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function jd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ff(n){const e=new xi(n.seconds,n.nanoseconds);return Zt.fromTimestamp(e)}function Hd(n,e){const t=(e.baseMutations||[]).map(s=>WE(n.ne,s));for(let s=0;s<e.mutations.length-1;++s){const c=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(c.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>WE(n.ne,s)),r=xi.fromMillis(e.localWriteTimeMs);return new JE(e.batchId,r,t,i)}function rm(n){const e=ff(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ff(n.lastLimboFreeSnapshotVersion):Zt.min();let i;var r;return void 0!==n.query.documents?(Qt(1===(r=n.query).documents.length),i=ia(qp(zE(r.documents[0])))):i=ia(nm(n.query)),new _u(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Li.fromBase64String(n.resumeToken))}function XS(n,e){const t=jd(e.snapshotVersion),i=jd(e.lastLimboFreeSnapshotVersion);let r;r=f_(e.target)?jS(n.ne,e.target):HS(n.ne,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:nf(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Ub(n){const e=nm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?yS(e,e.limit,"L"):e}function jb(n,e){return new eC(e.largestBatchId,WE(n.ne,e.overlayMutation))}function js(n,e){const t=e.path.lastSegment();return[n,io(e.path.popLast()),t]}function pf(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:jd(i.readTime),documentKey:io(i.documentKey.path),largestBatchId:i.largestBatchId}}class Ok{getBundleMetadata(e,t){return eD(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:ff(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return eD(e).put({bundleId:(i=t).id,createTime:jd(Cs(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Rk(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Ub(r.bundledQuery),readTime:ff(r.readTime)};var r})}saveNamedQuery(e,t){return Rk(e).put({name:(i=t).name,readTime:jd(Cs(i.readTime)),bundledQuery:i.bundledQuery});var i}}function eD(n){return es(n,"bundles")}function Rk(n){return es(n,"namedQueries")}class zd{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new zd(e,t.uid||"")}getOverlay(e,t){return C_(e).get(js(this.userId,t)).next(i=>i?jb(this.wt,i):null)}getOverlays(e,t){const i=bl();return Te.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,c)=>{const d=new eC(t,c);r.push(this.ie(e,d))}),Te.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(io(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(C_(e).W("collectionPathOverlayIndex",d))}),Te.waitFor(s)}getOverlaysForCollection(e,t,i){const r=bl(),s=io(t),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return C_(e).K("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const v=jb(this.wt,p);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=bl();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return C_(e).J({index:"collectionGroupOverlayIndex",range:d},(p,v,T)=>{const S=jb(this.wt,v);s.size()<r||S.largestBatchId===c?(s.set(S.getKey(),S),c=S.largestBatchId):T.done()}).next(()=>s)}ie(e,t){return C_(e).put(function(i,r,s){const[c,d,p]=js(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:v_(i.ne,s.mutation)}}(this.wt,this.userId,t))}}function C_(n){return es(n,"documentOverlays")}class yu{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(cr(e.integerValue));else if("doubleValue"in e){const i=cr(e.doubleValue);isNaN(i)?this.ce(t,13):(this.ce(t,15),Rd(i)?t.ae(0):t.ae(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ce(t,20),"string"==typeof i?t.he(i):(t.he(`${i.seconds||""}`),t.ae(i.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Od(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?cS(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):bt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const i=e.fields||{};this.ce(t,55);for(const r of Object.keys(i))this.le(r,t),this.oe(i[r],t)}me(e,t){const i=e.values||[];this.ce(t,50);for(const r of i)this.oe(r,t)}_e(e,t){this.ce(t,37),dt.fromName(e).path.forEach(i=>{this.ce(t,60),this.ge(i,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function Pk(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function nC(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=Pk(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}yu.ye=new yu;class Nk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ie(i.value),i=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=t.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(e){const t=this.Ve(e),i=nC(t);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}De(e){const t=this.Ve(e),i=nC(t);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Fk{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class iC{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class sm{constructor(){this.Me=new Nk,this.Fe=new Fk(this.Me),this.$e=new iC(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class $d{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new $d(this.indexId,this.documentKey,this.arrayValue,i)}}function yc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Hb(n.arrayValue,e.arrayValue),0!==t?t:(t=Hb(n.directionalValue,e.directionalValue),0!==t?t:dt.comparator(n.documentKey,e.documentKey)))}function Hb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class eF{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const i=t;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(e){const t=yb(e);if(void 0!==t&&!this.Qe(t))return!1;const i=xd(e);let r=0,s=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const c=i[r];if(!this.je(this.Ke,c)||!this.We(this.Ue[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Ue.length||!this.We(this.Ue[s++],c))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class tD{constructor(){this.ze=new rC}addToCollectionParentIndex(e,t){return this.ze.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(ta.min())}updateCollectionGroup(e,t,i){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class rC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Zn(En.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Zn(En.comparator)).toArray()}}const I_=new Uint8Array(0);class zb{constructor(e,t){this.user=e,this.databaseId=t,this.He=new rC,this.Je=new vl(i=>nf(i),(i,r)=>Wp(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const s={collectionId:i,parent:io(r)};return sC(e).put(s)}return Te.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[JT(t),""],!1,!0);return sC(e).K(r).next(s=>{for(const c of s){if(c.collectionId!==t)break;i.push(_c(c.parent))}return i})}addFieldIndex(e,t){const i=om(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(t.indexState){const c=mf(e);return s.next(d=>{c.put(pf(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=om(e),r=mf(e),s=T_(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=T_(e);let r=!0;const s=new Map;return Te.forEach(this.Ye(t),c=>this.Xe(e,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=dn();const d=[];return Te.forEach(s,(p,v)=>{var T;Xe("IndexedDbIndexManager",`Using index ${T=p,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(rt=>`${rt.fieldPath}:${rt.kind}`).join(",")}`} to execute ${nf(t)}`);const S=function(rt,ot){const Yt=yb(ot);if(void 0===Yt)return null;for(const nn of p_(rt,Yt.fieldPath))switch(nn.op){case"array-contains-any":return nn.value.arrayValue.values||[];case"array-contains":return[nn.value]}return null}(v,p),P=function(rt,ot){const Yt=new Map;for(const nn of xd(ot))for(const Rn of p_(rt,nn.fieldPath))switch(Rn.op){case"==":case"in":Yt.set(nn.fieldPath.canonicalString(),Rn.value);break;case"not-in":case"!=":return Yt.set(nn.fieldPath.canonicalString(),Rn.value),Array.from(Yt.values())}return null}(v,p),j=function(rt,ot){const Yt=[];let nn=!0;for(const Rn of xd(ot)){const jr=0===Rn.kind?hS(rt,Rn.fieldPath,rt.startAt):ME(rt,Rn.fieldPath,rt.startAt);Yt.push(jr.value),nn&&(nn=jr.inclusive)}return new Ld(Yt,nn)}(v,p),$=function(rt,ot){const Yt=[];let nn=!0;for(const Rn of xd(ot)){const jr=0===Rn.kind?ME(rt,Rn.fieldPath,rt.endAt):hS(rt,Rn.fieldPath,rt.endAt);Yt.push(jr.value),nn&&(nn=jr.inclusive)}return new Ld(Yt,nn)}(v,p),oe=this.Ze(p,v,j),_e=this.Ze(p,v,$),Je=this.tn(p,v,P),st=this.en(p.indexId,S,oe,j.inclusive,_e,$.inclusive,Je);return Te.forEach(st,rt=>i.j(rt,t.limit).next(ot=>{ot.forEach(Yt=>{const nn=dt.fromSegments(Yt.documentKey);c.has(nn)||(c=c.add(nn),d.push(nn))})}))}).next(()=>d)}return Te.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,i,r,s,c,d){const p=(null!=t?t.length:1)*Math.max(i.length,s.length),v=p/(null!=t?t.length:1),T=[];for(let S=0;S<p;++S){const P=t?this.nn(t[S/v]):I_,j=this.sn(e,P,i[S%v],r),$=this.rn(e,P,s[S%v],c),oe=d.map(_e=>this.sn(e,P,_e,!0));T.push(...this.createRange(j,$,oe))}return T}sn(e,t,i,r){const s=new $d(e,dt.empty(),t,i);return r?s:s.Le()}rn(e,t,i,r){const s=new $d(e,dt.empty(),t,i);return r?s.Le():s}Xe(e,t){const i=new eF(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let c=null;for(const d of s)i.Ge(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,t){let i=2;return Te.forEach(this.Ye(t),r=>this.Xe(e,r).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new Zn(Ji.comparator),p=!1;for(const v of c.filters){const T=v;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?p=!0:d=d.add(T.field))}for(const v of c.orderBy)v.field.isKeyField()||(d=d.add(v.field));return d.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(e,t){const i=new sm;for(const r of xd(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const c=i.Be(r.kind);yu.ye.re(s,c)}return i.Oe()}nn(e){const t=new sm;return yu.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const i=new sm;return yu.ye.re(Nd(this.databaseId,t),i.Be(function(r){const s=xd(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Oe()}tn(e,t,i){if(null===i)return[];let r=[];r.push(new sm);let s=0;for(const c of xd(e)){const d=i[s++];for(const p of r)if(this.cn(t,c.fieldPath)&&u_(d))r=this.an(r,c,d);else{const v=p.Be(c.kind);yu.ye.re(d,v)}}return this.hn(r)}Ze(e,t,i){return this.tn(e,t,i.position)}hn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Oe();return t}an(e,t,i){const r=[...e],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new sm;p.seed(d.Oe()),yu.ye.re(c,p.Be(t.kind)),s.push(p)}return s}cn(e,t){return!!e.filters.find(i=>i instanceof Es&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=om(e),r=mf(e);return(t?i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.K()).next(s=>{const c=[];return Te.forEach(s,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(v,T){const S=T?new $p(T.sequenceNumber,new ta(ff(T.readTime),new dt(_c(T.documentKey)),T.largestBatchId)):$p.empty(),P=v.fields.map(([j,$])=>new o_(Ji.fromServerFormat(j),$));return new s_(v.indexId,v.collectionGroup,P,S)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:ln(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=om(e),s=mf(e);return this.ln(e).next(c=>r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>Te.forEach(d,p=>s.put(pf(p.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return Te.forEach(t,(r,s)=>{const c=i.get(r.collectionGroup);return(c?Te.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),Te.forEach(d,p=>this.fn(e,r,p).next(v=>{const T=this.dn(s,p);return v.isEqual(T)?Te.resolve():this._n(e,s,p,v,T)}))))})}wn(e,t,i,r){return T_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,t.key),documentKey:t.key.path.toArray()})}mn(e,t,i,r){return T_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,t.key),t.key.path.toArray()])}fn(e,t,i){const r=T_(e);let s=new Zn(yc);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,t)])},(c,d)=>{s=s.add(new $d(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}dn(e,t){let i=new Zn(yc);const r=this.on(t,e);if(null==r)return i;const s=yb(t);if(null!=s){const c=e.data.field(s.fieldPath);if(u_(c))for(const d of c.arrayValue.values||[])i=i.add(new $d(t.indexId,e.key,this.nn(d),r))}else i=i.add(new $d(t.indexId,e.key,I_,r));return i}_n(e,t,i,r,s){Xe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(d,p,v,T,S){const P=d.getIterator(),j=p.getIterator();let $=Pa(P),oe=Pa(j);for(;$||oe;){let _e=!1,Je=!1;if($&&oe){const st=v($,oe);st<0?Je=!0:st>0&&(_e=!0)}else null!=$?Je=!0:_e=!0;_e?(T(oe),oe=Pa(j)):Je?(S($),$=Pa(P)):($=Pa(P),oe=Pa(j))}}(r,s,yc,d=>{c.push(this.wn(e,t,i,d))},d=>{c.push(this.mn(e,t,i,d))}),Te.waitFor(c)}ln(e){let t=1;return mf(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,d)=>yc(c,d)).filter((c,d,p)=>!d||0!==yc(c,p[d-1]));const r=[];r.push(e);for(const c of i){const d=yc(c,e),p=yc(c,t);if(0===d)r[0]=e.Le();else if(d>0&&p<0)r.push(c),r.push(c.Le());else if(p>0)break}r.push(t);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,I_,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,I_,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Lk)}getMinOffset(e,t){return Te.mapArray(this.Ye(t),i=>this.Xe(e,i).next(r=>r||bt())).next(Lk)}}function sC(n){return es(n,"collectionParents")}function T_(n){return es(n,"indexEntries")}function om(n){return es(n,"indexConfiguration")}function mf(n){return es(n,"indexState")}function Lk(n){Qt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;EE(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new ta(e.readTime,e.documentKey,t)}const nD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Do{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Do(e,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function oC(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let d=0;const p=i.J({range:c},(T,S,P)=>(d++,P.delete()));s.push(p.next(()=>{Qt(1===d)}));const v=[];for(const T of t.mutations){const S=ZS(e,T.key.path,t.batchId);s.push(r.delete(S)),v.push(T.key)}return Te.waitFor(s).next(()=>v)}function S_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw bt();e=n.noDocument}return JSON.stringify(e).length}Do.DEFAULT_COLLECTION_PERCENTILE=10,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Do.DEFAULT=new Do(41943040,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Do.DISABLED=new Do(-1,0,0);class $b{constructor(e,t,i,r){this.userId=e,this.wt=t,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(e,t,i,r){Qt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new $b(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vu(e).J({index:"userMutationsIndex",range:i},(r,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=am(e),c=vu(e);return c.add({}).next(d=>{Qt("number"==typeof d);const p=new JE(d,t,i,r),v=function(P,j,$){const oe=$.baseMutations.map(Je=>v_(P.ne,Je)),_e=$.mutations.map(Je=>v_(P.ne,Je));return{userId:j,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:oe,mutations:_e}}(this.wt,this.userId,p),T=[];let S=new Zn((P,j)=>ln(P.canonicalString(),j.canonicalString()));for(const P of r){const j=ZS(this.userId,P.key.path,d);S=S.add(P.key.path.popLast()),T.push(c.put(v)),T.push(s.put(j,Nb))}return S.forEach(P=>{T.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.gn[d]=p.keys()}),Te.waitFor(T).next(()=>p)})}lookupMutationBatch(e,t){return vu(e).get(t).next(i=>i?(Qt(i.userId===this.userId),Hd(this.wt,i)):null)}yn(e,t){return this.gn[t]?Te.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.gn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return vu(e).J({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&(Qt(d.batchId>=i),s=Hd(this.wt,d)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return vu(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vu(e).K("userMutationsIndex",t).next(i=>i.map(r=>Hd(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=ra(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return am(e).J({range:r},(c,d,p)=>{const[v,T,S]=c,P=_c(T);if(v===this.userId&&t.path.isEqual(P))return vu(e).get(S).next(j=>{if(!j)throw bt();Qt(j.userId===this.userId),s.push(Hd(this.wt,j))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Zn(ln);const r=[];return t.forEach(s=>{const c=ra(this.userId,s.path),d=IDBKeyRange.lowerBound(c),p=am(e).J({range:d},(v,T,S)=>{const[P,j,$]=v,oe=_c(j);P===this.userId&&s.path.isEqual(oe)?i=i.add($):S.done()});r.push(p)}),Te.waitFor(r).next(()=>this.pn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=ra(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new Zn(ln);return am(e).J({range:c},(p,v,T)=>{const[S,P,j]=p,$=_c(P);S===this.userId&&i.isPrefixOf($)?$.length===r&&(d=d.add(j)):T.done()}).next(()=>this.pn(e,d))}pn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(vu(e).get(s).next(c=>{if(null===c)throw bt();Qt(c.userId===this.userId),i.push(Hd(this.wt,c))}))}),Te.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return oC(e.ee,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Te.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Te.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return am(e).J({range:i},(s,c,d)=>{if(s[0]===this.userId){const p=_c(s[1]);r.push(p)}else d.done()}).next(()=>{Qt(0===r.length)})})}containsKey(e,t){return aC(e,this.userId,t)}Tn(e){return iD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function aC(n,e,t){const i=ra(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return am(n).J({range:s,H:!0},(d,p,v)=>{const[T,S,P]=d;T===e&&S===r&&(c=!0),v.done()}).next(()=>c)}function vu(n){return es(n,"mutations")}function am(n){return es(n,"documentMutations")}function iD(n){return es(n,"mutationQueues")}class Gd{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Gd(0)}static Rn(){return new Gd(-1)}}class Bk{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const i=new Gd(t.highestTargetId);return t.highestTargetId=i.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Zt.fromTimestamp(new xi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Pn(e,r)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(i=>(i.targetCount+=1,this.Vn(t,i),this.Pn(e,i))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gf(e).delete(t.targetId)).next(()=>this.bn(e)).next(i=>(Qt(i.targetCount>0),i.targetCount-=1,this.Pn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return gf(e).J((c,d)=>{const p=rm(d);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>Te.waitFor(s)).next(()=>r)}forEachTarget(e,t){return gf(e).J((i,r)=>{const s=rm(r);t(s)})}bn(e){return lC(e).get("targetGlobalKey").next(t=>(Qt(null!==t),t))}Pn(e,t){return lC(e).put("targetGlobalKey",t)}vn(e,t){return gf(e).put(XS(this.wt,t))}Vn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=nf(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return gf(e).J({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const v=rm(d);Wp(t,v.target)&&(s=v,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=bu(e);return t.forEach(c=>{const d=io(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,c))}),Te.waitFor(r)}removeMatchingKeys(e,t,i){const r=bu(e);return Te.forEach(t,s=>{const c=io(s.path);return Te.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=bu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=bu(e);let s=dn();return r.J({range:i,H:!0},(c,d,p)=>{const v=_c(c[1]),T=new dt(v);s=s.add(T)}).next(()=>s)}containsKey(e,t){const i=io(t.path),r=IDBKeyRange.bound([i],[JT(i)],!1,!0);let s=0;return bu(e).J({index:"documentTargetsIndex",H:!0,range:r},([c,d],p,v)=>{0!==c&&(s++,v.done())}).next(()=>s>0)}te(e,t){return gf(e).get(t).next(i=>i?rm(i):null)}}function gf(n){return es(n,"targets")}function lC(n){return es(n,"targetGlobal")}function bu(n){return es(n,"targetDocuments")}function cC([n,e],[t,i]){const r=ln(n,t);return 0===r?ln(e,i):r}class Vk{constructor(e){this.Sn=e,this.buffer=new Zn(cC),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();cC(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Uk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Xe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Me.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Md(i)?Xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ad(i)}yield t.kn(3e5)}))}}class tF{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Te.resolve(no.ot);const i=new Vk(t);return this.On.forEachTarget(e,r=>i.xn(r.sequenceNumber)).next(()=>this.On.Fn(e,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.On.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(nD)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nD):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let i,r,s,c,d,p,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,c=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(i=S,d=Date.now(),this.removeTargets(e,i,t))).next(S=>(s=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(v=Date.now(),_b()<=xn.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(p-d)+`ms\n\tRemoved ${S} documents in `+(v-p)+`ms\nTotal Duration: ${v-T}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:S})))}}class rD{constructor(e,t){this.db=e,this.garbageCollector=new tF(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Bn(e){let t=0;return this.Fn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(i,r)=>t(r))}addReference(e,t,i){return uC(e,i)}removeReference(e,t,i){return uC(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return uC(e,t)}Un(e,t){return function(i,r){let s=!1;return iD(i).Y(c=>aC(i,c,r).next(d=>(d&&(s=!0),Te.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Ln(e,(c,d)=>{if(d<=t){const p=this.Un(e,c).next(v=>{if(!v)return s++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Zt.min()),bu(e).delete([0,io(c.path)])))});r.push(p)}}).next(()=>Te.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return uC(e,t)}Ln(e,t){const i=bu(e);let r,s=no.ot;return i.J({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:v})=>{0===c?(s!==no.ot&&t(new dt(_c(r)),s),s=v,r=p):s=no.ot}).next(()=>{s!==no.ot&&t(new dt(_c(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uC(n,e){return bu(n).put((i=n.currentSequenceNumber,{targetId:0,path:io(e.path),sequenceNumber:i}));var i}class jk{constructor(){this.changes=new vl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nF{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return lm(e).put(i)}removeEntry(e,t,i){return lm(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],E_(s),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.qn(e,i)))}getEntry(e,t){let i=Yn.newInvalidDocument(t);return lm(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Gb(t))},(r,s)=>{i=this.Kn(t,s)}).next(()=>i)}Gn(e,t){let i={size:0,document:Yn.newInvalidDocument(t)};return lm(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Gb(t))},(r,s)=>{i={document:this.Kn(t,s),size:S_(s)}}).next(()=>i)}getEntries(e,t){let i=Ur();return this.Qn(e,t,(r,s)=>{const c=this.Kn(r,s);i=i.insert(r,c)}).next(()=>i)}jn(e,t){let i=Ur(),r=new Gi(dt.comparator);return this.Qn(e,t,(s,c)=>{const d=this.Kn(s,c);i=i.insert(s,d),r=r.insert(s,S_(c))}).next(()=>({documents:i,Wn:r}))}Qn(e,t,i){if(t.isEmpty())return Te.resolve();let r=new Zn($k);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(Gb(r.first()),Gb(r.last())),c=r.getIterator();let d=c.getNext();return lm(e).J({index:"documentKeyIndex",range:s},(p,v,T)=>{const S=dt.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;d&&$k(d,S)<0;)i(d,null),d=c.getNext();d&&d.isEqual(S)&&(i(d,v),d=c.hasNext()?c.getNext():null),d?T.q(Gb(d)):T.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),E_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lm(e).K(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=Ur();for(const p of c){const v=this.Kn(dt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(v.key,v)}return d})}getAllFromCollectionGroup(e,t,i,r){let s=Ur();const c=D_(t,i),d=D_(t,ta.max());return lm(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,v,T)=>{const S=this.Kn(dt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(S.key,S),s.size===r&&T.done()}).next(()=>s)}newChangeBuffer(e){return new iF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return zk(e).get("remoteDocumentGlobalKey").next(t=>(Qt(!!t),t))}qn(e,t){return zk(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const i=function JS(n,e){let t;if(e.document)t=GE(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=dt.fromSegments(e.noDocument.path),r=ff(e.noDocument.readTime);t=Yn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return bt();{const i=dt.fromSegments(e.unknownDocument.path),r=ff(e.unknownDocument.version);t=Yn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new xi(i[0],i[1]);return Zt.fromTimestamp(r)}(e.readTime)),t}(this.wt,t);if(!i.isNoDocument()||!i.version.isEqual(Zt.min()))return i}return Yn.newInvalidDocument(e)}}function Hk(n){return new nF(n)}class iF extends jk{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new vl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Zn((s,c)=>ln(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Hn.get(s);if(t.push(this.zn.removeEntry(e,s,d.readTime)),c.isValidDocument()){const p=tC(this.zn.wt,c);r=r.add(s.path.popLast()),i+=S_(p)-d.size,t.push(this.zn.addEntry(e,s,p))}else if(i-=d.size,this.trackRemovals){const p=tC(this.zn.wt,c.convertToNoDocument(Zt.min()));t.push(this.zn.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.zn.updateMetadata(e,i)),Te.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(i=>(this.Hn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:i,Wn:r})=>(r.forEach((s,c)=>{this.Hn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function zk(n){return es(n,"remoteDocumentGlobal")}function lm(n){return es(n,"remoteDocumentsV14")}function Gb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function D_(n,e){const t=e.documentKey.path.toArray();return[n,E_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $k(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=ln(t[s],i[s]),r)return r;return r=ln(t.length,i.length),r||(r=ln(t[t.length-2],i[i.length-2]),r||ln(t[t.length-1],i[i.length-1]))}class sD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Wb{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&lf(i.mutation,r,na.empty(),xi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,dn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=dn()){const r=bl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let c=__();return s.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=bl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,dn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,r){let s=Ur();const c=y_(),d=y_();return t.forEach((p,v)=>{const T=i.get(v.key);r.has(v.key)&&(void 0===T||T.mutation instanceof mu)?s=s.insert(v.key,v):void 0!==T&&(c.set(v.key,T.mutation.getFieldMask()),lf(T.mutation,v,T.mutation.getFieldMask(),xi.now()))}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((v,T)=>c.set(v,T)),t.forEach((v,T)=>{var S;return d.set(v,new sD(T,null!==(S=c.get(v))&&void 0!==S?S:null))}),d))}recalculateAndSaveOverlays(e,t){const i=y_();let r=new Gi((c,d)=>c-d),s=dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const v=t.get(p);if(null===v)return;let T=i.get(p)||na.empty();T=d.applyToLocalView(v,T),i.set(p,T);const S=(r.get(d.batchId)||dn()).add(p);r=r.insert(d.batchId,S)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),v=p.key,T=p.value,S=PS();T.forEach(P=>{if(!s.has(P)){const j=AS(t.get(P),i.get(P));null!==j&&S.set(P,j),s=s.add(P)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,S))}return Te.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return dt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Bd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):Te.resolve(bl());let d=-1,p=s;return c.next(v=>Te.forEach(v,(T,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),s.get(T)?Te.resolve():this.getBaseDocument(e,T,S).next(P=>{p=p.insert(T,P)}))).next(()=>this.populateOverlays(e,v,s)).next(()=>this.computeViews(e,p,v,dn())).next(T=>({batchId:d,changes:hk(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dt(t)).next(i=>{let r=__();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=__();return this.indexManager.getCollectionParents(e,r).next(c=>Te.forEach(c,d=>{const p=(v=t,T=d.child(r),new pu(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,T;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(v=>{v.forEach((T,S)=>{s=s.insert(T,S)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((d,p)=>{const v=p.getKey();null===r.get(v)&&(r=r.insert(v,Yn.newInvalidDocument(v)))});let c=__();return r.forEach((d,p)=>{const v=s.get(d);void 0!==v&&lf(v.mutation,p,na.empty(),xi.now()),RE(t,p)&&(c=c.insert(d,p))}),c})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):Te.resolve(Yn.newInvalidDocument(t))}}class oD{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Te.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var i;return this.Jn.set(t.id,{id:(i=t).id,version:i.version,createTime:Cs(i.createTime)}),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(i=t).name,query:Ub(i.bundledQuery),readTime:Cs(i.readTime)}),Te.resolve();var i}}class aD{constructor(){this.overlays=new Gi(dt.comparator),this.Xn=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const i=bl();return Te.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ie(e,t,s)}),Te.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(i)),Te.resolve()}getOverlaysForCollection(e,t,i){const r=bl(),s=t.length+1,c=new dt(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return Te.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Gi((v,T)=>v-T);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let T=s.get(v.largestBatchId);null===T&&(T=bl(),s=s.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const d=bl(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,T)=>d.set(v,T)),!(d.size()>=r)););return Te.resolve(d)}ie(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new eC(t,i));let s=this.Xn.get(t);void 0===s&&(s=dn(),this.Xn.set(t,s)),this.Xn.set(t,s.add(i.key))}}class lD{constructor(){this.Zn=new Zn(Sr.ts),this.es=new Zn(Sr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const i=new Sr(e,t);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.rs(new Sr(e,t))}os(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new dt(new En([])),i=new Sr(t,e),r=new Sr(t,e+1),s=[];return this.es.forEachInRange([i,r],c=>{this.rs(c),s.push(c.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new dt(new En([])),i=new Sr(t,e),r=new Sr(t,e+1);let s=dn();return this.es.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Sr(e,0),i=this.Zn.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Sr{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return dt.comparator(e.key,t.key)||ln(e.ls,t.ls)}static ns(e,t){return ln(e.ls,t.ls)||dt.comparator(e.key,t.key)}}class cD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Zn(Sr.ts)}checkEmpty(e){return Te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.fs;this.fs++;const c=new JE(s,t,i,r);this.mutationQueue.push(c);for(const d of r)this.ds=this.ds.add(new Sr(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Te.resolve(c)}lookupMutationBatch(e,t){return Te.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ws(t+1),s=r<0?0:r;return Te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Sr(t,0),r=new Sr(t,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([i,r],c=>{const d=this._s(c.ls);s.push(d)}),Te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Zn(ln);return t.forEach(r=>{const s=new Sr(r,0),c=new Sr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,c],d=>{i=i.add(d.ls)})}),Te.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;dt.isDocumentKey(s)||(s=s.child(""));const c=new Sr(new dt(s),0);let d=new Zn(ln);return this.ds.forEachWhile(p=>{const v=p.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(d=d.add(p.ls)),!0)},c),Te.resolve(this.gs(d))}gs(e){const t=[];return e.forEach(i=>{const r=this._s(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Qt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return Te.forEach(t.mutations,r=>{const s=new Sr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=i})}In(e){}containsKey(e,t){const i=new Sr(t,0),r=this.ds.firstAfterOrEqual(i);return Te.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Te.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class uD{constructor(e){this.ps=e,this.docs=new Gi(dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.ps(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Te.resolve(i?i.document.mutableCopy():Yn.newInvalidDocument(t))}getEntries(e,t){let i=Ur();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Yn.newInvalidDocument(r))}),Te.resolve(i)}getAllFromCollection(e,t,i){let r=Ur();const s=new dt(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||EE(XT(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return Te.resolve(r)}getAllFromCollectionGroup(e,t,i,r){bt()}Is(e,t){return Te.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new dD(this)}getSize(e){return Te.resolve(this.size)}}class dD extends jk{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(i)}),Te.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class rF{constructor(e){this.persistence=e,this.Ts=new vl(t=>nf(t),Wp),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.Es=0,this.As=new lD,this.targetCount=0,this.Rs=Gd.An()}forEachTarget(e,t){return this.Ts.forEach((i,r)=>t(r)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Es&&(this.Es=t),Te.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Gd(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.vn(t),Te.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Ts.forEach((c,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Ts.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),Te.waitFor(s).next(()=>r)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const i=this.Ts.get(t)||null;return Te.resolve(i)}addMatchingKeys(e,t,i){return this.As.ss(t,i),Te.resolve()}removeMatchingKeys(e,t,i){this.As.os(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),Te.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const i=this.As.hs(t);return Te.resolve(i)}containsKey(e,t){return Te.resolve(this.As.containsKey(t))}}class dC{constructor(e,t){this.bs={},this.overlays={},this.Ps=new no(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new rF(this),this.indexManager=new tD,this.remoteDocumentCache=new uD(i=>this.referenceDelegate.Ss(i)),this.wt=new Vb(t),this.Ds=new oD(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.bs[e.toKey()];return i||(i=new cD(t,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,i){Xe("MemoryPersistence","Starting transaction:",e);const r=new Gk(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(s=>this.referenceDelegate.xs(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ns(e,t){return Te.or(Object.values(this.bs).map(i=>()=>i.containsKey(e,t)))}}class Gk extends tS{constructor(e){super(),this.currentSequenceNumber=e}}class cm{constructor(e){this.persistence=e,this.ks=new lD,this.Os=null}static Ms(e){return new cm(e)}get Fs(){if(this.Os)return this.Os;throw bt()}addReference(e,t,i){return this.ks.addReference(i,t),this.Fs.delete(i.toString()),Te.resolve()}removeReference(e,t,i){return this.ks.removeReference(i,t),this.Fs.add(i.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Te.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Fs.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.Fs,i=>{const r=dt.fromPath(i);return this.$s(e,r).next(s=>{s||t.removeEntry(r,Zt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Te.or([()=>Te.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class Wk{constructor(e){this.wt=e}O(e,t,i,r){const s=new vb("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pb,{unique:!0}),d.createObjectStore("documentMutations"),qk(e),function(d){d.createObjectStore("remoteDocuments")}(e));let c=Te.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),qk(e)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",v)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").K().next(v=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pb,{unique:!0});const T=p.store("mutations"),S=v.map(P=>T.put(P));return Te.waitFor(S)})}(e,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Bs(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(s)))),i<7&&r>=7&&(c=c.next(()=>this.Us(s))),i<8&&r>=8&&(c=c.next(()=>this.qs(e,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.Ks(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:QS});p.createIndex("collectionPathOverlayIndex",Ak,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",Mk,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:b_});p.createIndex("documentKeyIndex",Ik),p.createIndex("collectionGroupIndex",Tk)}(e)).next(()=>this.Gs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.Qs(e,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:xk}).createIndex("sequenceNumberIndex",YS,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:KS}).createIndex("documentKeyIndex",ZE,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=S_(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.K().next(r=>Te.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",c).next(d=>Te.forEach(d,p=>{Qt(p.userId===s.userId);const v=Hd(this.wt,p);return oC(e,s.userId,v).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.J((c,d)=>{const p=new En(c),v=[0,io(p)];s.push(t.get(v).next(T=>T?Te.resolve():t.put({targetId:0,path:io(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Te.waitFor(s))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:Dk});const i=t.store("collectionParents"),r=new rC,s=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:io(p)})}};return t.store("remoteDocuments").J({H:!0},(c,d)=>{const p=new En(c);return s(p.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,d,p],v)=>{const T=_c(d);return s(T.popLast())}))}Ks(e){const t=e.store("targets");return t.J((i,r)=>{const s=rm(r),c=XS(this.wt,s);return t.put(c)})}Gs(e,t){const i=t.store("remoteDocuments"),r=[];return i.J((s,c)=>{const d=t.store("remoteDocumentsV14"),p=(v=c,v.document?new dt(En.fromString(v.document.name).popFirst(5)):v.noDocument?dt.fromSegments(v.noDocument.path):v.unknownDocument?dt.fromSegments(v.unknownDocument.path):bt()).path.toArray();var v;const T={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(T))}).next(()=>Te.waitFor(r))}Qs(e,t){const i=t.store("mutations"),r=Hk(this.wt),s=new dC(cm.Ms,this.wt.ne);return i.K().next(c=>{const d=new Map;return c.forEach(p=>{var v;let T=null!==(v=d.get(p.userId))&&void 0!==v?v:dn();Hd(this.wt,p).keys().forEach(S=>T=T.add(S)),d.set(p.userId,T)}),Te.forEach(d,(p,v)=>{const T=new $i(v),S=zd.se(this.wt,T),P=s.getIndexManager(T),j=$b.se(T,this.wt,P,s.referenceDelegate);return new Wb(r,j,S,P).recalculateAndSaveOverlaysForDocumentKeys(new w_(t,no.ot),p).next()})})}}function qk(n){n.createObjectStore("targetDocuments",{keyPath:Fb}).createIndex("documentTargetsIndex",Lb,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sk,{unique:!0}),n.createObjectStore("targetGlobal")}const hD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fD{constructor(e,t,i,r,s,c,d,p,v,T,S=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.js=s,this.window=c,this.document=d,this.Ws=v,this.zs=T,this.Hs=S,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=P=>Promise.resolve(),!fD.V())throw new He(Ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rD(this,r),this.ei=t+"main",this.wt=new Vb(p),this.ni=new _l(this.ei,this.Hs,new Wk(this.wt)),this.Vs=new Bk(this.referenceDelegate,this.wt),this.remoteDocumentCache=Hk(this.wt),this.Ds=new Ok,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===T&&Br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new He(Ie.FAILED_PRECONDITION,hD);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new no(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var i=(0,Me.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Me.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Me.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Md(e))return Xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return x_(e).get("owner").next(t=>Te.resolve(this.di(t)))}_i(e){return qb(e).delete(this.clientId)}wi(){var e=this;return(0,Me.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=es(i,"clientMetadata");return r.K().next(s=>{const c=e.gi(s,18e5),d=s.filter(p=>-1===c.indexOf(p));return Te.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(e.si)for(const i of t)e.si.removeItem(e.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Te.resolve(!0):x_(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new He(Ie.FAILED_PRECONDITION,hD);return!1}}return!(!this.networkEnabled||!this.inForeground)||qb(e).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Xe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Me.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new w_(t,no.ot);return e.li(i).next(()=>e._i(i))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(i=>this.mi(i.updateTimeMs,t)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>qb(e).K().next(t=>this.gi(t,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return $b.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zb(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return zd.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,i){Xe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(c=this.Hs)?QE:14===c?KE:13===c?Bb:12===c?YE:11===c?kk:void bt();var c;let d;return this.ni.runTransaction(e,r,s,p=>(d=new w_(p,this.Ps?this.Ps.next():no.ot),"readwrite-primary"===t?this.ai(d).next(v=>!!v||this.hi(d)).next(v=>{if(!v)throw Br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new He(Ie.FAILED_PRECONDITION,eS);return i(d)}).next(v=>this.fi(d).next(()=>v)):this.bi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}bi(e){return x_(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new He(Ie.FAILED_PRECONDITION,hD)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return x_(e).put("owner",t)}static V(){return _l.V()}li(e){const t=x_(e);return t.get("owner").next(i=>this.di(i)?(Xe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Te.resolve())}mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Br(`Detected an update time that is in the future: ${e} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),function xv(){return!function Tv(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(n){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const i=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Xe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Br("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Br("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function x_(n){return es(n,"owner")}function qb(n){return es(n,"clientMetadata")}function hC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class pD{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Pi=i,this.vi=r}static Vi(e,t){let i=dn(),r=dn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new pD(e,t.fromCache,i,r)}}class mD{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ci(e,t).next(s=>s||this.xi(e,t,r,i)).next(s=>s||this.Ni(e,t))}Ci(e,t){return Te.resolve(null)}xi(e,t,i,r){return function _S(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Zt.min())?this.Ni(e,t):this.Di.getDocuments(e,i).next(s=>{const c=this.ki(t,s);return this.Oi(t,c,i,r)?this.Ni(e,t):(_b()<=xn.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tb(t)),this.Mi(e,c,t,wE(r,-1)))})}ki(e,t){let i=new Zn(bS(e));return t.forEach((r,s)=>{RE(e,s)&&(i=i.add(s))}),i}Oi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ni(e,t){return _b()<=xn.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",Tb(t)),this.Di.getDocumentsMatchingQuery(e,t,ta.min())}Mi(e,t,i,r){return this.Di.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class fC{constructor(e,t,i,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new Gi(ln),this.Bi=new vl(s=>nf(s),Wp),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(i)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wb(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function gD(n,e,t,i){return new fC(n,e,t,i)}function Na(n,e){return pC.apply(this,arguments)}function pC(){return pC=(0,Me.Z)(function*(n,e){const t=at(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let p=dn();for(const v of r){c.push(v.batchId);for(const T of v.mutations)p=p.add(T.key)}for(const v of s){d.push(v.batchId);for(const T of v.mutations)p=p.add(T.key)}return t.localDocuments.getDocuments(i,p).next(v=>({Ki:v,removedBatchIds:c,addedBatchIds:d}))})})}),pC.apply(this,arguments)}function mC(n,e){const t=at(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,d,p,v){const T=p.batch,S=T.keys();let P=Te.resolve();return S.forEach(j=>{P=P.next(()=>v.getEntry(d,j)).next($=>{const oe=p.docVersions.get(j);Qt(null!==oe),$.version.compareTo(oe)<0&&(T.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),v.addEntry($)))})}),P.next(()=>c.mutationQueue.removeMutationBatch(d,T))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=dn();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function _D(n){const e=at(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function Zk(n,e){const t=at(n),i=e.snapshotVersion;let r=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});r=t.$i;const d=[];e.targetChanges.forEach((T,S)=>{const P=r.get(S);if(!P)return;d.push(t.Vs.removeMatchingKeys(s,T.removedDocuments,S).next(()=>t.Vs.addMatchingKeys(s,T.addedDocuments,S)));let j=P.withSequenceNumber(s.currentSequenceNumber);var $,oe,_e;e.targetMismatches.has(S)?j=j.withResumeToken(Li.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,i)),r=r.insert(S,j),oe=j,_e=T,(0===($=P).resumeToken.approximateByteSize()||oe.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&d.push(t.Vs.updateTargetData(s,j))});let p=Ur(),v=dn();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,T))}),d.push(Zb(s,c,e.documentUpdates).next(T=>{p=T.Gi,v=T.Qi})),!i.isEqual(Zt.min())){const T=t.Vs.getLastRemoteSnapshotVersion(s).next(S=>t.Vs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(T)}return Te.waitFor(d).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,v)).next(()=>p)}).then(s=>(t.$i=r,s))}function Zb(n,e,t){let i=dn(),r=dn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let c=Ur();return t.forEach((d,p)=>{const v=s.get(d);p.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Zt.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Xe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",p.version)}),{Gi:c,Qi:r}})}function yD(n,e){const t=at(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function _f(n,e){const t=at(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Vs.getTargetData(i,e).next(s=>s?(r=s,Te.resolve(r)):t.Vs.allocateTargetId(i).next(c=>(r=new _u(e,c,0,i.currentSequenceNumber),t.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.$i=t.$i.insert(i.targetId,i),t.Bi.set(e,i.targetId)),i})}function um(n,e,t){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,Me.Z)(function*(n,e,t){const i=at(n),r=i.$i.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Md(c))throw c;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.$i=i.$i.remove(e),i.Bi.delete(r.target)}),Yb.apply(this,arguments)}function A_(n,e,t){const i=at(n);let r=Zt.min(),s=dn();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,v){const T=at(d),S=T.Bi.get(v);return void 0!==S?Te.resolve(T.$i.get(S)):T.Vs.getTargetData(p,v)}(i,c,ia(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{s=p})}).next(()=>i.Fi.getDocumentsMatchingQuery(c,e,t?r:Zt.min(),t?s:dn())).next(d=>(Kb(i,Sb(e),d),{documents:d,ji:s})))}function vD(n,e){const t=at(n),i=at(t.Vs),r=t.$i.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.te(s,e).next(c=>c?c.target:null))}function bD(n,e){const t=at(n),i=t.Li.get(e)||Zt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ui.getAllFromCollectionGroup(r,e,wE(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Kb(t,e,r),r))}function Kb(n,e,t){let i=Zt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Li.set(e,i)}function gC(){return gC=(0,Me.Z)(function*(n,e,t,i){const r=at(n);let s=dn(),c=Ur();for(const v of t){const T=e.Wi(v.metadata.name);v.document&&(s=s.add(T));const S=e.zi(v);S.setReadTime(e.Hi(v.metadata.readTime)),c=c.insert(T,S)}const d=r.Ui.newChangeBuffer({trackRemovals:!0}),p=yield _f(r,(v=i,ia(qp(En.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>Zb(v,d,c).next(T=>(d.apply(v),T)).next(T=>r.Vs.removeMatchingKeysForTargetId(v,p.targetId).next(()=>r.Vs.addMatchingKeys(v,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,T.Gi,T.Qi)).next(()=>T.Gi)))}),gC.apply(this,arguments)}function sF(n,e){return _C.apply(this,arguments)}function _C(){return _C=(0,Me.Z)(function*(n,e,t=dn()){const i=yield _f(n,ia(Ub(e.bundledQuery))),r=at(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Cs(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ds.saveNamedQuery(s,e);const d=i.withResumeToken(Li.EMPTY_BYTE_STRING,c);return r.$i=r.$i.insert(d.targetId,d),r.Vs.updateTargetData(s,d).next(()=>r.Vs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Vs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ds.saveNamedQuery(s,e))})}),_C.apply(this,arguments)}function yC(n,e){return`firestore_clients_${n}_${e}`}function wD(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function vC(n,e){return`firestore_targets_${n}_${e}`}class M_{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new He(r.error.code,r.error.message))),c?new M_(e,t,r.state,s):(Br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class k_{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new He(i.error.code,i.error.message))),s?new k_(e,i.state,r):(Br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=em();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=sS(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new bC(e,s):(Br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Qb{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Qb(t.clientId,t.onlineState):(Br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Jb{constructor(){this.activeTargetIds=em()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wC{constructor(e,t,i,r,s){this.window=e,this.js=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Gi(ln),this.started=!1,this.ir=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=yC(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Jb),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Me.Z)(function*(){const t=yield e.syncEngine.Ri();for(const r of t){if(r===e.tr)continue;const s=e.getItem(yC(e.persistenceKey,r));if(s){const c=bC.Ji(r,s);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(vC(this.persistenceKey,e));if(i){const r=k_.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(vC(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xe("SharedClientState","READ",e,t),t}setItem(e,t){Xe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Xe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Me.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.ar.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(s){let c=no.ot;if(null!=s)try{const d=JSON.parse(s);Qt("number"==typeof d),c=d}catch(d){Br("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==no.ot&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Nr(s)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new M_(this.currentUser,e,t,i),s=wD(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Yi())}pr(e){const t=wD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=vC(this.persistenceKey,e),s=new k_(e,t,i);this.setItem(r,s.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return bC.Ji(i,t)}vr(e,t){const i=this.ar.exec(e),r=Number(i[1]);return M_.Ji(new $i(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return k_.Ji(r,t)}wr(e){return Qb.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),s=this.gr(i),c=[],d=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||d.push(p)}),this.syncEngine.Mr(c,d).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=em();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class ED{constructor(){this.Fr=new Jb,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Jb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CD{Br(e){}shutdown(){}}class Xb{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const EC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ID{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Yk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,s){const c=this.oo(e,t);Xe("RestConnection","Sending: ",c,i);const d={};return this.uo(d,r,s),this.co(e,c,d,i).then(p=>(Xe("RestConnection","Received: ",p),p),p=>{throw Qh("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",i),p})}ao(e,t,i,r,s,c){return this.ro(e,t,i,r,s)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}oo(e,t){return`${this.so}/v1/${t}:${EC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((s,c)=>{const d=new QT;d.listenOnce(ZT.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case lr.NO_ERROR:const v=d.getResponseJson();Xe("Connection","XHR received:",JSON.stringify(v)),s(v);break;case lr.TIMEOUT:Xe("Connection",'RPC "'+e+'" timed out'),c(new He(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case lr.HTTP_ERROR:const T=d.getStatus();if(Xe("Connection",'RPC "'+e+'" failed with status:',T,"response text:",d.getResponseText()),T>0){const S=d.getResponseJson().error;if(S&&S.status&&S.message){const P=function(j){const $=j.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf($)>=0?$:Ie.UNKNOWN}(S.status);c(new He(P,S.message))}else c(new He(Ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new He(Ie.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{Xe("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);d.send(t,"POST",p,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qT(),c=UM(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new KT({})),this.uo(d.initMessageHeaders,t,i),function Iv(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}()||function wg(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()||function Sv(){return Lr().indexOf("Electron/")>=0}()||function Eg(){const n=Lr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()||function Dv(){return Lr().indexOf("MSAppHost/")>=0}()||function Oa(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||(d.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Xe("Connection","Creating WebChannel: "+p,d);const v=s.createWebChannel(p,d);let T=!1,S=!1;const P=new ID({jr:$=>{S?Xe("Connection","Not sending because WebChannel is closed:",$):(T||(Xe("Connection","Opening WebChannel transport."),v.open(),T=!0),Xe("Connection","WebChannel sending:",$),v.send($))},Wr:()=>v.close()}),j=($,oe,_e)=>{$.listen(oe,Je=>{try{_e(Je)}catch(st){setTimeout(()=>{throw st},0)}})};return j(v,gb.EventType.OPEN,()=>{S||Xe("Connection","WebChannel transport opened.")}),j(v,gb.EventType.CLOSE,()=>{S||(S=!0,Xe("Connection","WebChannel transport closed"),P.eo())}),j(v,gb.EventType.ERROR,$=>{S||(S=!0,Qh("Connection","WebChannel transport errored:",$),P.eo(new He(Ie.UNAVAILABLE,"The operation could not be completed")))}),j(v,gb.EventType.MESSAGE,$=>{var oe;if(!S){const _e=$.data[0];Qt(!!_e);const Je=_e,st=Je.error||(null===(oe=Je[0])||void 0===oe?void 0:oe.error);if(st){Xe("Connection","WebChannel received error:",st);const rt=st.status;let ot=function(nn){const Rn=Tr[nn];if(void 0!==Rn)return RS(Rn)}(rt),Yt=st.message;void 0===ot&&(ot=Ie.INTERNAL,Yt="Unknown error status: "+rt+" with message "+st.message),S=!0,P.eo(new He(ot,Yt)),v.close()}else Xe("Connection","WebChannel received:",_e),P.no(_e)}}),j(c,jM.STAT_EVENT,$=>{$.stat===YT.PROXY?Xe("Connection","Detected buffering proxy"):$.stat===YT.NOPROXY&&Xe("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.Zr()},0),P}}function CC(){return"undefined"!=typeof window?window:null}function O_(){return"undefined"!=typeof document?document:null}function R_(n){return new _k(n,!0)}class IC{constructor(e,t,i=1e3,r=1.5,s=6e4){this.js=e,this.timerId=t,this.lo=i,this.fo=r,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&Xe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Kk{constructor(e,t,i,r,s,c,d,p){this.js=e,this.Ao=i,this.Ro=r,this.bo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new IC(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Me.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Me.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var i=this;return(0,Me.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===Ie.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===Ie.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new He(Ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,Me.Z)(function*(){e.state=0,e.start()}))}qo(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oF extends Kk{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.wt=s}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function vk(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:bt(),r=e.targetChange.targetIds||[],s=function(p,v){return p.dt?(Qt(void 0===v||"string"==typeof v),Li.fromBase64String(v||"")):(Qt(void 0===v||v instanceof Uint8Array),Li.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const v=void 0===p.code?Ie.UNKNOWN:RS(p.code);return new He(v,p.message||"")}(c);t=new jE(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=wl(n,i.document.name),s=Cs(i.document.updateTime),c=new Xr({mapValue:{fields:i.document.fields}}),d=Yn.newFoundDocument(r,s,c);t=new Mb(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=wl(n,i.document),s=i.readTime?Cs(i.readTime):Zt.min(),c=Yn.newNoDocument(r,s);t=new Mb([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=wl(n,i.document);t=new Mb([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return bt();{const i=e.filter,s=new OS(i.count||0);t=new UE(i.targetId,s)}}var p;return t}(this.wt,e),i=function(r){if(!("targetChange"in r))return Zt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Zt.min():s.readTime?Cs(s.readTime):Zt.min()}(e);return this.listener.Go(t,i)}Qo(e){const t={};t.database=uf(this.wt),t.addTarget=function(r,s){let c;const d=s.target;return c=f_(d)?{documents:jS(r,d)}:{query:HS(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=HE(r,s.resumeToken):s.snapshotVersion.compareTo(Zt.min())>0&&(c.readTime=gc(r,s.snapshotVersion.toTimestamp())),c}(this.wt,e);const i=function zS(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Mo(t)}jo(e){const t={};t.database=uf(this.wt),t.removeTarget=e,this.Mo(t)}}class TD extends Kk{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function bk(n,e){return n&&n.length>0?(Qt(void 0!==e),n.map(t=>function(i,r){let s=Cs(i.updateTime?i.updateTime:r);return s.isEqual(Zt.min())&&(s=Cs(r)),new lk(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Cs(e.commitTime);return this.listener.Jo(i,t)}return Qt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=uf(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>v_(this.wt,i))};this.Mo(t)}}class Qk extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new He(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ro(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new He(Ie.UNKNOWN,r.toString())})}ao(e,t,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.bo.ao(e,t,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new He(Ie.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class Jk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Br(t),this.su=!1):Xe("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Xk{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(d=>{i.enqueueAndForget((0,Me.Z)(function*(){var p;xo(c)&&(Xe("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Me.Z)(function*(v){const T=at(v);T.lu.add(4),yield P_(T),T._u.set("Unknown"),T.lu.delete(4),yield e0(T)}),function(v){return p.apply(this,arguments)})(c))}))}),this._u=new Jk(i,r)}}function e0(n){return SD.apply(this,arguments)}function SD(){return SD=(0,Me.Z)(function*(n){if(xo(n))for(const e of n.fu)yield e(!0)}),SD.apply(this,arguments)}function P_(n){return DD.apply(this,arguments)}function DD(){return DD=(0,Me.Z)(function*(n){for(const e of n.fu)yield e(!1)}),DD.apply(this,arguments)}function TC(n,e){const t=at(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),t0(t)?SC(t):U_(t).Co()&&dm(t,e))}function N_(n,e){const t=at(n),i=U_(t);t.hu.delete(e),i.Co()&&xD(t,e),0===t.hu.size&&(i.Co()?i.ko():xo(t)&&t._u.set("Unknown"))}function dm(n,e){n.wu.Nt(e.targetId),U_(n).Qo(e)}function xD(n,e){n.wu.Nt(e),U_(n).jo(e)}function SC(n){n.wu=new mk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),U_(n).start(),n._u.iu()}function t0(n){return xo(n)&&!U_(n).Do()&&n.hu.size>0}function xo(n){return 0===at(n).lu.size}function DC(n){n.wu=void 0}function xC(n){return F_.apply(this,arguments)}function F_(){return F_=(0,Me.Z)(function*(n){n.hu.forEach((e,t)=>{dm(n,e)})}),F_.apply(this,arguments)}function eO(n,e){return L_.apply(this,arguments)}function L_(){return L_=(0,Me.Z)(function*(n,e){DC(n),t0(n)?(n._u.uu(e),SC(n)):n._u.set("Unknown")}),L_.apply(this,arguments)}function AC(n,e,t){return hm.apply(this,arguments)}function hm(){return hm=(0,Me.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof jE&&2===e.state&&e.cause)try{yield(i=(0,Me.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.hu.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.hu.delete(d),r.wu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield MC(n,i)}else if(e instanceof Mb?n.wu.Ut(e):e instanceof UE?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Zt.min()))try{const i=yield _D(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.wu.Yt(s);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=r.hu.get(p);v&&r.hu.set(p,v.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const p=r.hu.get(d);if(!p)return;r.hu.set(d,p.withResumeToken(Li.EMPTY_BYTE_STRING,p.snapshotVersion)),xD(r,d);const v=new _u(p.target,d,1,p.sequenceNumber);dm(r,v)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Xe("RemoteStore","Failed to raise snapshot:",i),yield MC(n,i)}var i}),hm.apply(this,arguments)}function MC(n,e,t){return AD.apply(this,arguments)}function AD(){return AD=(0,Me.Z)(function*(n,e,t){if(!Md(e))throw e;n.lu.add(1),yield P_(n),n._u.set("Offline"),t||(t=()=>_D(n.localStore)),n.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){Xe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield e0(n)}))}),AD.apply(this,arguments)}function tO(n,e){return e().catch(t=>MC(n,t,e))}function B_(n){return n0.apply(this,arguments)}function n0(){return n0=(0,Me.Z)(function*(n){const e=at(n),t=yf(e);let i=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;nO(e);)try{const r=yield yD(e.localStore,i);if(null===r){0===e.au.length&&t.ko();break}i=r.batchId,iO(e,r)}catch(r){yield MC(e,r)}MD(e)&&kD(e)}),n0.apply(this,arguments)}function nO(n){return xo(n)&&n.au.length<10}function iO(n,e){n.au.push(e);const t=yf(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function MD(n){return xo(n)&&!yf(n).Do()&&n.au.length>0}function kD(n){yf(n).start()}function OD(n){return r0.apply(this,arguments)}function r0(){return r0=(0,Me.Z)(function*(n){yf(n).Xo()}),r0.apply(this,arguments)}function RD(n){return kC.apply(this,arguments)}function kC(){return kC=(0,Me.Z)(function*(n){const e=yf(n);for(const t of n.au)e.Ho(t.mutations)}),kC.apply(this,arguments)}function rO(n,e,t){return s0.apply(this,arguments)}function s0(){return s0=(0,Me.Z)(function*(n,e,t){const i=n.au.shift(),r=XE.from(i,e,t);yield tO(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield B_(n)}),s0.apply(this,arguments)}function OC(n,e){return PD.apply(this,arguments)}function PD(){return PD=(0,Me.Z)(function*(n,e){var t;e&&yf(n).zo&&(yield(t=(0,Me.Z)(function*(i,r){if(uk(s=r.code)&&s!==Ie.ABORTED){const c=i.au.shift();yf(i).No(),yield tO(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield B_(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),MD(n)&&kD(n)}),PD.apply(this,arguments)}function RC(n,e){return V_.apply(this,arguments)}function V_(){return V_=(0,Me.Z)(function*(n,e){const t=at(n);t.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const i=xo(t);t.lu.add(3),yield P_(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield e0(t)}),V_.apply(this,arguments)}function PC(n,e){return NC.apply(this,arguments)}function NC(){return NC=(0,Me.Z)(function*(n,e){const t=at(n);e?(t.lu.delete(2),yield e0(t)):e||(t.lu.add(2),yield P_(t),t._u.set("Unknown"))}),NC.apply(this,arguments)}function U_(n){return n.mu||(n.mu=function(e,t,i){const r=at(e);return r.tu(),new oF(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:xC.bind(null,n),Jr:eO.bind(null,n),Go:AC.bind(null,n)}),n.fu.push(function(){var e=(0,Me.Z)(function*(t){t?(n.mu.No(),t0(n)?SC(n):n._u.set("Unknown")):(yield n.mu.stop(),DC(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function yf(n){return n.gu||(n.gu=function(e,t,i){const r=at(e);return r.tu(),new TD(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:OD.bind(null,n),Jr:OC.bind(null,n),Yo:RD.bind(null,n),Jo:rO.bind(null,n)}),n.fu.push(function(){var e=(0,Me.Z)(function*(t){t?(n.gu.No(),yield B_(n)):(yield n.gu.stop(),n.au.length>0&&(Xe("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class ND{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,d=new ND(e,t,c,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new He(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fm(n,e){if(Br("AsyncQueue",`${e}: ${n}`),Md(n))return new He(Ie.UNAVAILABLE,`${e}: ${n}`);throw n}class pm{constructor(e){this.comparator=e?(t,i)=>e(t,i)||dt.comparator(t.key,i.key):(t,i)=>dt.comparator(t.key,i.key),this.keyedMap=__(),this.sortedSet=new Gi(this.comparator)}static emptySet(e){return new pm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new pm;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class sO{constructor(){this.yu=new Gi(dt.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):bt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class j_{constructor(e,t,i,r,s,c,d,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new j_(e,t,pm.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class aF{constructor(){this.Iu=void 0,this.listeners=[]}}class lF{constructor(){this.queries=new vl(e=>vS(e),Yp),this.onlineState="Unknown",this.Tu=new Set}}function FD(n,e){return FC.apply(this,arguments)}function FC(){return FC=(0,Me.Z)(function*(n,e){const t=at(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new aF),r)try{s.Iu=yield t.onListen(i)}catch(c){const d=fm(c,`Initialization of query '${Tb(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.Eu(t.onlineState),s.Iu&&e.Au(s.Iu)&&a(t)}),FC.apply(this,arguments)}function LD(n,e){return BD.apply(this,arguments)}function BD(){return BD=(0,Me.Z)(function*(n,e){const t=at(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),BD.apply(this,arguments)}function cF(n,e){const t=at(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const d of c.listeners)d.Au(r)&&(i=!0);c.Iu=r}}i&&a(t)}function uF(n,e,t){const i=at(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function a(n){n.Tu.forEach(e=>{e.next()})}class l{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new j_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=j_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class u{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class h{constructor(e){this.wt=e}Wi(e){return wl(this.wt,e)}zi(e){return e.metadata.exists?GE(this.wt,e.document,!1):Yn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Cs(e)}}class m{constructor(e,t,i){this.xu=e,this.localStore=t,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=y(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=En.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new h(this.wt);for(const r of e)if(r.metadata.queries){const s=i.Wi(r.metadata.name);for(const c of r.metadata.queries){const d=(t.get(c)||dn()).add(s);t.set(c,d)}}return t}complete(){var e=this;return(0,Me.Z)(function*(){const t=yield function El(n,e,t,i){return gC.apply(this,arguments)}(e.localStore,new h(e.wt),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield sF(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function y(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class E{constructor(e){this.key=e}}class x{constructor(e){this.key=e}}class k{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=dn(),this.mutatedKeys=dn(),this.Lu=bS(e),this.Uu=new pm(this.Lu)}get qu(){return this.Fu}Ku(e,t){const i=t?t.Gu:new sO,r=t?t.Uu:this.Uu;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((T,S)=>{const P=r.get(T),j=RE(this.query,S)?S:null,$=!!P&&this.mutatedKeys.has(P.key),oe=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let _e=!1;P&&j?P.data.isEqual(j.data)?$!==oe&&(i.track({type:3,doc:j}),_e=!0):this.Qu(P,j)||(i.track({type:2,doc:j}),_e=!0,(p&&this.Lu(j,p)>0||v&&this.Lu(j,v)<0)&&(d=!0)):!P&&j?(i.track({type:0,doc:j}),_e=!0):P&&!j&&(i.track({type:1,doc:P}),_e=!0,(p||v)&&(d=!0)),_e&&(j?(c=c.add(j),s=oe?s.add(T):s.delete(T)):(c=c.delete(T),s=s.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),s=s.delete(T.key),i.track({type:1,doc:T})}return{Uu:c,Gu:i,Oi:d,mutatedKeys:s}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((v,T)=>function(S,P){const j=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return j(S)-j(P)}(v.type,T.type)||this.Lu(v.doc,T.doc)),this.ju(i);const c=t?this.Wu():[],d=0===this.Bu.size&&this.current?1:0,p=d!==this.$u;return this.$u=d,0!==s.length||p?{snapshot:new j_(this.query,e.Uu,r,s,e.mutatedKeys,0===d,p,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new sO,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=dn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new x(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new E(i))}),t}Ju(e){this.Fu=e.ji,this.Bu=dn();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return j_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class N{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class U{constructor(e){this.key=e,this.Xu=!1}}class Y{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new vl(d=>vS(d),Yp),this.ec=new Map,this.nc=new Set,this.sc=new Gi(dt.comparator),this.ic=new Map,this.rc=new lD,this.oc={},this.uc=new Map,this.cc=Gd.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function re(n,e){return fe.apply(this,arguments)}function fe(){return fe=(0,Me.Z)(function*(n,e){const t=_O(n);let i,r;const s=t.tc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.Yu();else{const c=yield _f(t.localStore,ia(e));t.isPrimaryClient&&TC(t.remoteStore,c);const d=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield Le(t,e,i,"current"===d)}return r}),fe.apply(this,arguments)}function Le(n,e,t,i){return et.apply(this,arguments)}function et(){return et=(0,Me.Z)(function*(n,e,t,i){n.hc=(T,S,P)=>{return(j=(0,Me.Z)(function*($,oe,_e,Je){let st=oe.view.Ku(_e);st.Oi&&(st=yield A_($.localStore,oe.query,!1).then(({documents:Yt})=>oe.view.Ku(Yt,st)));const rt=Je&&Je.targetChanges.get(oe.targetId),ot=oe.view.applyChanges(st,$.isPrimaryClient,rt);return oO($,oe.targetId,ot.zu),ot.snapshot}),function($,oe,_e,Je){return j.apply(this,arguments)})(n,T,S,P);var j};const r=yield A_(n.localStore,e,!0),s=new k(e,r.ji),c=s.Ku(r.documents),d=gu.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,d);oO(n,t,p.zu);const v=new N(e,t,s);return n.tc.set(e,v),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),p.snapshot}),et.apply(this,arguments)}function ht(n,e){return At.apply(this,arguments)}function At(){return At=(0,Me.Z)(function*(n,e){const t=at(n),i=t.tc.get(e),r=t.ec.get(i.targetId);if(r.length>1)return t.ec.set(i.targetId,r.filter(s=>!Yp(s,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield um(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),N_(t.remoteStore,i.targetId),o0(t,i.targetId)}).catch(Ad))):(o0(t,i.targetId),yield um(t.localStore,i.targetId,!0))}),At.apply(this,arguments)}function Ht(){return Ht=(0,Me.Z)(function*(n,e,t){const i=yO(n);try{const r=yield function(s,c){const d=at(s),p=xi.now(),v=c.reduce((P,j)=>P.add(j.key),dn());let T,S;return d.persistence.runTransaction("Locally write mutations","readwrite",P=>{let j=Ur(),$=dn();return d.Ui.getEntries(P,v).next(oe=>{j=oe,j.forEach((_e,Je)=>{Je.isValidDocument()||($=$.add(_e))})}).next(()=>d.localDocuments.getOverlayedDocuments(P,j)).next(oe=>{T=oe;const _e=[];for(const Je of c){const st=LE(Je,T.get(Je.key).overlayedDocument);null!=st&&_e.push(new mu(Je.key,st,uS(st.value.mapValue),Wi.exists(!0)))}return d.mutationQueue.addMutationBatch(P,p,_e,c)}).next(oe=>{S=oe;const _e=oe.applyToLocalDocumentSet(T,$);return d.documentOverlayCache.saveOverlays(P,oe.batchId,_e)})}).then(()=>({batchId:S.batchId,changes:hk(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let p=s.oc[s.currentUser.toKey()];p||(p=new Gi(ln)),p=p.insert(c,d),s.oc[s.currentUser.toKey()]=p}(i,r.batchId,t),yield bf(i,r.changes),yield B_(i.remoteStore)}catch(r){const s=fm(r,"Failed to persist write");t.reject(s)}}),Ht.apply(this,arguments)}function vn(n,e){return Hn.apply(this,arguments)}function Hn(){return Hn=(0,Me.Z)(function*(n,e){const t=at(n);try{const i=yield Zk(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.ic.get(s);c&&(Qt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Xu=!0:r.modifiedDocuments.size>0?Qt(c.Xu):r.removedDocuments.size>0&&(Qt(c.Xu),c.Xu=!1))}),yield bf(t,i,e)}catch(i){yield Ad(i)}}),Hn.apply(this,arguments)}function Ao(n,e,t){const i=at(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.tc.forEach((s,c)=>{const d=c.view.Eu(e);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=at(s);d.onlineState=c;let p=!1;d.queries.forEach((v,T)=>{for(const S of T.listeners)S.Eu(c)&&(p=!0)}),p&&a(d)}(i.eventManager,e),r.length&&i.Zu.Go(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function vf(n,e,t){return H_.apply(this,arguments)}function H_(){return H_=(0,Me.Z)(function*(n,e,t){const i=at(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ic.get(e),s=r&&r.key;if(s){let c=new Gi(dt.comparator);c=c.insert(s,Yn.newNoDocument(s,Zt.min()));const d=dn().add(s),p=new Ud(Zt.min(),new Map,new Zn(ln),c,d);yield vn(i,p),i.sc=i.sc.remove(s),i.ic.delete(e),aO(i)}else yield um(i.localStore,e,!1).then(()=>o0(i,e,t)).catch(Ad)}),H_.apply(this,arguments)}function LC(n,e){return z_.apply(this,arguments)}function z_(){return z_=(0,Me.Z)(function*(n,e){const t=at(n),i=e.batch.batchId;try{const r=yield mC(t.localStore,e);q_(t,i,null),W_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield bf(t,r)}catch(r){yield Ad(r)}}),z_.apply(this,arguments)}function BC(n,e,t){return $_.apply(this,arguments)}function $_(){return $_=(0,Me.Z)(function*(n,e,t){const i=at(n);try{const r=yield function(s,c){const d=at(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return d.mutationQueue.lookupMutationBatch(p,c).next(T=>(Qt(null!==T),v=T.keys(),d.mutationQueue.removeMutationBatch(p,T))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>d.localDocuments.getDocuments(p,v))})}(i.localStore,e);q_(i,e,t),W_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield bf(i,r)}catch(r){yield Ad(r)}}),$_.apply(this,arguments)}function G_(){return G_=(0,Me.Z)(function*(n,e){const t=at(n);xo(t.remoteStore)||Xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=at(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.uc.get(i)||[];r.push(e),t.uc.set(i,r)}catch(i){const r=fm(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),G_.apply(this,arguments)}function W_(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function q_(n,e,t){const i=at(n);let r=i.oc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.oc[i.currentUser.toKey()]=r}}function o0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ec.get(e))n.tc.delete(i),t&&n.Zu.lc(i,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(i=>{n.rc.containsKey(i)||dF(n,i)})}function dF(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(N_(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),aO(n))}function oO(n,e,t){for(const i of t)i instanceof E?(n.rc.addReference(i.key,e),ez(n,i)):i instanceof x?(Xe("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,e),n.rc.containsKey(i.key)||dF(n,i.key)):bt()}function ez(n,e){const t=e.key,i=t.path.canonicalString();n.sc.get(t)||n.nc.has(i)||(Xe("SyncEngine","New document in limbo: "+t),n.nc.add(i),aO(n))}function aO(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new dt(En.fromString(e)),i=n.cc.next();n.ic.set(i,new U(t)),n.sc=n.sc.insert(t,i),TC(n.remoteStore,new _u(ia(qp(t.path)),i,2,no.ot))}}function bf(n,e,t){return lO.apply(this,arguments)}function lO(){return lO=(0,Me.Z)(function*(n,e,t){const i=at(n),r=[],s=[],c=[];var d;i.tc.isEmpty()||(i.tc.forEach((d,p)=>{c.push(i.hc(p,e,t).then(v=>{if(v){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,v.fromCache?"not-current":"current"),r.push(v);const T=pD.Vi(p.targetId,v);s.push(T)}}))}),yield Promise.all(c),i.Zu.Go(r),yield(d=(0,Me.Z)(function*(p,v){const T=at(p);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Te.forEach(v,P=>Te.forEach(P.Pi,j=>T.persistence.referenceDelegate.addReference(S,P.targetId,j)).next(()=>Te.forEach(P.vi,j=>T.persistence.referenceDelegate.removeReference(S,P.targetId,j)))))}catch(S){if(!Md(S))throw S;Xe("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const P=S.targetId;if(!S.fromCache){const j=T.$i.get(P),oe=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);T.$i=T.$i.insert(P,oe)}}}),function(p,v){return d.apply(this,arguments)})(i.localStore,s))}),lO.apply(this,arguments)}function tz(n,e){return cO.apply(this,arguments)}function cO(){return cO=(0,Me.Z)(function*(n,e){const t=at(n);if(!t.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const i=yield Na(t.localStore,e);t.currentUser=e,(r=t).uc.forEach(c=>{c.forEach(d=>{d.reject(new He(Ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield bf(t,i.Ki)}var r}),cO.apply(this,arguments)}function nz(n,e){const t=at(n),i=t.ic.get(e);if(i&&i.Xu)return dn().add(i.key);{let r=dn();const s=t.ec.get(e);if(!s)return r;for(const c of s){const d=t.tc.get(c);r=r.unionWith(d.view.qu)}return r}}function iz(n,e){return uO.apply(this,arguments)}function uO(){return uO=(0,Me.Z)(function*(n,e){const t=at(n),i=yield A_(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&oO(t,e.targetId,r.zu),r}),uO.apply(this,arguments)}function rz(n,e){return dO.apply(this,arguments)}function dO(){return dO=(0,Me.Z)(function*(n,e){const t=at(n);return bD(t.localStore,e).then(i=>bf(t,i))}),dO.apply(this,arguments)}function sz(n,e,t,i){return hO.apply(this,arguments)}function hO(){return hO=(0,Me.Z)(function*(n,e,t,i){const r=at(n),s=yield function(c,d){const p=at(c),v=at(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",T=>v.yn(T,d).next(S=>S?p.localDocuments.getDocuments(T,S):Te.resolve(null)))}(r.localStore,e);var d;null!==s?("pending"===t?yield B_(r.remoteStore):"acknowledged"===t||"rejected"===t?(q_(r,e,i||null),W_(r,e),d=e,at(at(r.localStore).mutationQueue).In(d)):bt(),yield bf(r,s)):Xe("SyncEngine","Cannot apply mutation batch with id: "+e)}),hO.apply(this,arguments)}function fO(){return fO=(0,Me.Z)(function*(n,e){const t=at(n);if(_O(t),yO(t),!0===e&&!0!==t.ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield hF(t,i.toArray());t.ac=!0,yield PC(t.remoteStore,!0);for(const s of r)TC(t.remoteStore,s)}else if(!1===e&&!1!==t.ac){const i=[];let r=Promise.resolve();t.ec.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(o0(t,c),um(t.localStore,c,!0))),N_(t.remoteStore,c)}),yield r,yield hF(t,i),function(s){const c=at(s);c.ic.forEach((d,p)=>{N_(c.remoteStore,p)}),c.rc.cs(),c.ic=new Map,c.sc=new Gi(dt.comparator)}(t),t.ac=!1,yield PC(t.remoteStore,!1)}}),fO.apply(this,arguments)}function hF(n,e,t){return pO.apply(this,arguments)}function pO(){return pO=(0,Me.Z)(function*(n,e,t){const i=at(n),r=[],s=[];for(const c of e){let d;const p=i.ec.get(c);if(p&&0!==p.length){d=yield _f(i.localStore,ia(p[0]));for(const v of p){const T=i.tc.get(v),S=yield iz(i,T);S.snapshot&&s.push(S.snapshot)}}else{const v=yield vD(i.localStore,c);d=yield _f(i.localStore,v),yield Le(i,fF(v),c,!1)}r.push(d)}return i.Zu.Go(s),r}),pO.apply(this,arguments)}function fF(n){return gS(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function az(n){const e=at(n);return at(at(e.localStore).persistence).Ri()}function lz(n,e,t,i){return mO.apply(this,arguments)}function mO(){return mO=(0,Me.Z)(function*(n,e,t,i){const r=at(n);if(r.ac)return void Xe("SyncEngine","Ignoring unexpected query state notification.");const s=r.ec.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield bD(r.localStore,Sb(s[0])),d=Ud.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield bf(r,c,d);break}case"rejected":yield um(r.localStore,e,!0),o0(r,e,i);break;default:bt()}}),mO.apply(this,arguments)}function cz(n,e,t){return gO.apply(this,arguments)}function gO(){return gO=(0,Me.Z)(function*(n,e,t){const i=_O(n);if(i.ac){for(const r of e){if(i.ec.has(r)){Xe("SyncEngine","Adding an already active target "+r);continue}const s=yield vD(i.localStore,r),c=yield _f(i.localStore,s);yield Le(i,fF(s),c.targetId,!1),TC(i.remoteStore,c)}for(const r of t)i.ec.has(r)&&(yield um(i.localStore,r,!1).then(()=>{N_(i.remoteStore,r),o0(i,r)}).catch(Ad))}}),gO.apply(this,arguments)}function _O(n){const e=at(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vn.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vf.bind(null,e),e.Zu.Go=cF.bind(null,e.eventManager),e.Zu.lc=uF.bind(null,e.eventManager),e}function yO(n){const e=at(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BC.bind(null,e),e}class pF{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Me.Z)(function*(){t.wt=R_(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return gD(this.persistence,new mD,e.initialUser,this.wt)}_c(e){return new dC(cm.Ms,this.wt)}dc(e){return new ED}terminate(){var e=this;return(0,Me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class mF extends pF{constructor(e,t,i){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Me.Z)(function*(){yield t().call(i,e),yield i.yc.initialize(i,e),yield yO(i.yc.syncEngine),yield B_(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return gD(this.persistence,new mD,e.initialUser,this.wt)}mc(e,t){return new Uk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const i=new rS(t,this.persistence);return new iS(e.asyncQueue,i)}_c(e){const t=hC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Do.withCacheSize(this.cacheSizeBytes):Do.DEFAULT;return new fD(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,CC(),O_(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new ED}}class dz extends mF{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Me.Z)(function*(){yield t().call(i,e);const r=i.yc.syncEngine;i.sharedClientState instanceof wC&&(i.sharedClientState.syncEngine={kr:sz.bind(null,r),Or:lz.bind(null,r),Mr:cz.bind(null,r),Ri:az.bind(null,r),Nr:rz.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var s=(0,Me.Z)(function*(c){yield function oz(n,e){return fO.apply(this,arguments)}(i.yc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}dc(e){const t=CC();if(!wC.V(t))throw new He(Ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=hC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wC(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class vO{initialize(e,t){var i=this;return(0,Me.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Ao(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=tz.bind(null,i.syncEngine),yield PC(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lF}createDatastore(e){const t=R_(e.databaseInfo.databaseId),i=new Yk(e.databaseInfo);return new Qk(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>Ao(this.syncEngine,d,0),c=Xb.V()?new Xb:new CD,new Xk(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,d,p,v){const T=new Y(i,r,s,c,d,p);return v&&(T.ac=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Me.Z)(function*(t){const i=at(t);Xe("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield P_(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function gF(n,e=10240){let t=0;return{read:()=>(0,Me.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class VD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class hz{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Vr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Me.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Me.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.bc();if(null===t)return null;const i=e.Ac.decode(t),r=Number(i);isNaN(r)&&e.Pc(`length string (${i}) is not valid number`);const s=yield e.vc(r);return new u(JSON.parse(s),t.length+r)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Me.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,Me.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const i=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class fz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new He(Ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Me.Z)(function*(s,c){const d=at(s),p=uf(d.wt)+"/documents",v={documents:c.map(j=>Rb(d.wt,j))},T=yield d.ao("BatchGetDocuments",p,v,c.length),S=new Map;T.forEach(j=>{const $=function yk(n,e){return"found"in e?function(t,i){Qt(!!i.found);const r=wl(t,i.found.name),s=Cs(i.found.updateTime),c=new Xr({mapValue:{fields:i.found.fields}});return Yn.newFoundDocument(r,s,c)}(n,e):"missing"in e?function(t,i){Qt(!!i.missing),Qt(!!i.readTime);const r=wl(t,i.missing),s=Cs(i.readTime);return Yn.newNoDocument(r,s)}(n,e):bt()}(d.wt,j);S.set($.key.toString(),$)});const P=[];return c.forEach(j=>{const $=S.get(j.toString());Qt(!!$),P.push($)}),P}),function(s,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new cf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=dt.fromPath(r);e.mutations.push(new VE(s,e.precondition(s)))}),yield(i=(0,Me.Z)(function*(r,s){const c=at(r),d=uf(c.wt)+"/documents",p={writes:s.map(v=>v_(c.wt,v))};yield c.ro("Commit",d,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw bt();t=Zt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new He(Ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Wi.updateTime(t):Wi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Zt.min()))throw new He(Ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wi.updateTime(t)}return Wi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pz{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Dc=i.maxAttempts,this.So=new IC(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Me.Z)(function*(){const t=new fz(e.datastore),i=e.xc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Nc(s)}))}).catch(r=>{e.Nc(r)})}))}xc(e){try{const t=this.updateFunction(e);return!c_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!uk(t)}return!1}}class mz{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=$i.UNAUTHENTICATED,this.clientId=vE.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Me.Z)(function*(d){Xe("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Xe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=fm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function _F(n,e){return bO.apply(this,arguments)}function bO(){return bO=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Me.Z)(function*(s){i.isEqual(s)||(yield Na(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),bO.apply(this,arguments)}function yF(n,e){return wO.apply(this,arguments)}function wO(){return wO=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield EO(n);Xe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>RC(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>RC(e.remoteStore,s)),n.onlineComponents=e}),wO.apply(this,arguments)}function EO(n){return CO.apply(this,arguments)}function CO(){return CO=(0,Me.Z)(function*(n){return n.offlineComponents||(Xe("FirestoreClient","Using default OfflineComponentProvider"),yield _F(n,new pF)),n.offlineComponents}),CO.apply(this,arguments)}function UD(n){return IO.apply(this,arguments)}function IO(){return IO=(0,Me.Z)(function*(n){return n.onlineComponents||(Xe("FirestoreClient","Using default OnlineComponentProvider"),yield yF(n,new vO)),n.onlineComponents}),IO.apply(this,arguments)}function vF(n){return EO(n).then(e=>e.persistence)}function TO(n){return EO(n).then(e=>e.localStore)}function bF(n){return UD(n).then(e=>e.remoteStore)}function SO(n){return UD(n).then(e=>e.syncEngine)}function a0(n){return DO.apply(this,arguments)}function DO(){return DO=(0,Me.Z)(function*(n){const e=yield UD(n),t=e.eventManager;return t.onListen=re.bind(null,e.syncEngine),t.onUnlisten=ht.bind(null,e.syncEngine),t}),DO.apply(this,arguments)}function wF(n,e,t={}){const i=new Vr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,s,c,d,p){const v=new VD({next:S=>{s.enqueueAndForget(()=>LD(r,T));const P=S.docs.has(c);!P&&S.fromCache?p.reject(new He(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&d&&"server"===d.source?p.reject(new He(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new l(qp(c.path),v,{includeMetadataChanges:!0,Du:!0});return FD(r,T)}(yield a0(n),n.asyncQueue,e,t,i)})),i.promise}function EF(n,e,t={}){const i=new Vr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(r,s,c,d,p){const v=new VD({next:S=>{s.enqueueAndForget(()=>LD(r,T)),S.fromCache&&"server"===d.source?p.reject(new He(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new l(c,v,{includeMetadataChanges:!0,Du:!0});return FD(r,T)}(yield a0(n),n.asyncQueue,e,t,i)})),i.promise}const CF=new Map;function xO(n,e,t){if(!t)throw new He(Ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IF(n,e,t,i){if(!0===e&&!0===i)throw new He(Ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TF(n){if(!dt.isDocumentKey(n))throw new He(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SF(n){if(dt.isDocumentKey(n))throw new He(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":bt()}function Nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new He(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jD(n);throw new He(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function DF(n,e){if(e<=0)throw new He(Ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class xF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new He(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new He(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,IF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class UC{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xF({}),this._settingsFrozen=!1,e instanceof hu?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new He(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(r.options.projectId)}(e))}get app(){if(!this._app)throw new He(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new He(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $M;switch(t.type){case"gapi":const i=t.client;return Qt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new yE(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new He(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=CF.get(e);t&&(Xe("ComponentProvider","Removing Datastore"),CF.delete(e),t.terminate())}(this),Promise.resolve()}}class qi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qi(this.firestore,e,this._key)}}class Mo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Mo(this.firestore,e,this._query)}}class Wd extends Mo{constructor(e,t,i){super(e,t,qp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qi(this.firestore,null,new dt(e))}withConverter(e){return new Wd(this.firestore,e,this._path)}}function AF(n,e,...t){if(n=Si(n),xO("collection","path",e),n instanceof UC){const i=En.fromString(e,...t);return SF(i),new Wd(n,null,i)}{if(!(n instanceof qi||n instanceof Wd))throw new He(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(e,...t));return SF(i),new Wd(n.firestore,null,i)}}function HD(n,e,...t){if(n=Si(n),1===arguments.length&&(e=vE.I()),xO("doc","path",e),n instanceof UC){const i=En.fromString(e,...t);return TF(i),new qi(n,null,new dt(i))}{if(!(n instanceof qi||n instanceof Wd))throw new He(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(e,...t));return TF(i),new qi(n.firestore,n instanceof Wd?n.converter:null,new dt(i))}}function MF(n,e){return n=Si(n),e=Si(e),(n instanceof qi||n instanceof Wd)&&(e instanceof qi||e instanceof Wd)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function kF(n,e){return n=Si(n),e=Si(e),n instanceof Mo&&e instanceof Mo&&n.firestore===e.firestore&&Yp(n._query,e._query)&&n.converter===e.converter}class Sz{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new IC(this,"async_queue_retry"),this.Kc=()=>{const t=O_();t&&Xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=O_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=O_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Vr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Me.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!Md(t))throw t;Xe("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(i=>{throw this.Bc=i,this.Lc=!1,Br("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=t,t}enqueueAfterDelay(e,t,i){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=ND.createAndSchedule(this,e,t,i,s=>this.Wc(s));return this.$c.push(r),r}Gc(){this.Bc&&bt()}verifyOperationInProgress(){}zc(){var e=this;return(0,Me.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function AO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Dz{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xi extends UC{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new Sz,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||OF(this),this._firestoreClient.terminate()}}function ts(n){return n._firestoreClient||OF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function OF(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new tk(n._databaseId,s,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new mz(n._authCredentials,n._appCheckCredentials,n._queue,i)}function RF(n,e,t){const i=new Vr;return n.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield _F(n,t),yield yF(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===Ie.FAILED_PRECONDITION||c.code===Ie.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function PF(n){if(n._initialized||n._terminated)throw new He(Ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new He(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ji(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qd(Li.fromBase64String(e))}catch(t){throw new He(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qd(Li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Z_{constructor(e){this._methodName=e}}class zD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new He(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new He(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ln(this._lat,e._lat)||ln(this._long,e._long)}}const Lz=/^__.*__$/;class Bz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new mu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vd(e,this.data,t,this.fieldTransforms)}}class NF{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new mu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class $D{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.wt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new $D(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.sa(e),r}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return qD(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(FF(this.Zc)&&Lz.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Vz{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=i||R_(e)}aa(e,t,i,r=!1){return new $D({Zc:e,methodName:t,ca:i,path:Ji.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Y_(n){const e=n._freezeSettings(),t=R_(n._databaseId);return new Vz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function GD(n,e,t,i,r,s={}){const c=n.aa(s.merge||s.mergeFields?2:0,e,t,r);RO("Data must be an object, but it was:",c,i);const d=VF(i,c);let p,v;if(s.merge)p=new na(c.fieldMask),v=c.fieldTransforms;else if(s.mergeFields){const T=[];for(const S of s.mergeFields){const P=PO(e,S,t);if(!c.contains(P))throw new He(Ie.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);jF(T,P)||T.push(P)}p=new na(T),v=c.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,v=c.fieldTransforms;return new Bz(new Xr(d),p,v)}class jC extends Z_{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jC}}function LF(n,e,t){return new $D({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class MO extends Z_{_toFieldTransform(e){return new Jp(e.path,new Kp)}isEqual(e){return e instanceof MO}}class Uz extends Z_{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=LF(this,e,!0),i=this.ha.map(s=>K_(s,t)),r=new sf(i);return new Jp(e.path,r)}isEqual(e){return this===e}}class jz extends Z_{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=LF(this,e,!0),i=this.ha.map(s=>K_(s,t)),r=new af(i);return new Jp(e.path,r)}isEqual(e){return this===e}}class Hz extends Z_{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Qp(e.wt,CS(e.wt,this.la));return new Jp(e.path,t)}isEqual(e){return this===e}}function kO(n,e,t,i){const r=n.aa(1,e,t);RO("Data must be an object, but it was:",r,i);const s=[],c=Xr.empty();kd(i,(p,v)=>{const T=WD(e,p,t);v=Si(v);const S=r.ia(T);if(v instanceof jC)s.push(T);else{const P=K_(v,S);null!=P&&(s.push(T),c.set(T,P))}});const d=new na(s);return new NF(c,d,r.fieldTransforms)}function OO(n,e,t,i,r,s){const c=n.aa(1,e,t),d=[PO(e,i,t)],p=[r];if(s.length%2!=0)throw new He(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<s.length;P+=2)d.push(PO(e,s[P])),p.push(s[P+1]);const v=[],T=Xr.empty();for(let P=d.length-1;P>=0;--P)if(!jF(v,d[P])){const j=d[P];let $=p[P];$=Si($);const oe=c.ia(j);if($ instanceof jC)v.push(j);else{const _e=K_($,oe);null!=_e&&(v.push(j),T.set(j,_e))}}const S=new na(v);return new NF(T,S,c.fieldTransforms)}function BF(n,e,t,i=!1){return K_(t,n.aa(i?4:3,e))}function K_(n,e){if(UF(n=Si(n)))return RO("Unsupported field value:",e,n),VF(n,e);if(n instanceof Z_)return function(t,i){if(!FF(i.Zc))throw i.oa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let d=K_(c,i.ra(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=Si(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return CS(i.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=xi.fromDate(t);return{timestampValue:gc(i.wt,r)}}if(t instanceof xi){const r=new xi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gc(i.wt,r)}}if(t instanceof zD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qd)return{bytesValue:HE(i.wt,t._byteString)};if(t instanceof qi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Ob(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.oa(`Unsupported field value: ${jD(t)}`)}(n,e)}function VF(n,e){const t={};return SE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kd(n,(i,r)=>{const s=K_(r,e.ea(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function UF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof xi||n instanceof zD||n instanceof qd||n instanceof qi||n instanceof Z_)}function RO(n,e,t){if(!UF(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=jD(t);throw e.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function PO(n,e,t){if((e=Si(e))instanceof wf)return e._internalPath;if("string"==typeof e)return WD(n,e);throw qD("Field path arguments must be of type string or ",n,!1,void 0,t)}const zz=new RegExp("[~\\*/\\[\\]]");function WD(n,e,t){if(e.search(zz)>=0)throw qD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wf(...e.split("."))._internalPath}catch(i){throw qD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qD(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new He(Ie.INVALID_ARGUMENT,d+n+p)}function jF(n,e){return n.some(t=>t.isEqual(e))}class HC{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $z(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ZD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $z extends HC{data(){return super.data()}}function ZD(n,e){return"string"==typeof e?WD(n,e):e instanceof wf?e._internalPath:e._delegate._internalPath}class Q_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ef extends HC{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ZD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class zC extends Ef{data(e={}){return super.data(e)}}class mm{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Q_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new zC(this._firestore,this._userDataWriter,i.key,i,new Q_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new He(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new zC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Q_(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new zC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Q_(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,v=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),v=s.indexOf(c.doc.key)),{type:Gz(c.type),doc:d,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Gz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}function HF(n,e){return n instanceof Ef&&e instanceof Ef?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof mm&&e instanceof mm&&n._firestore===e._firestore&&kF(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function zF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new He(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $C{}function gm(n,...e){for(const t of e)n=t._apply(n);return n}class Wz extends $C{constructor(e,t,i){super(),this.fa=e,this.da=t,this._a=i,this.type="where"}_apply(e){const t=Y_(e.firestore),i=function(r,s,c,d,p,v,T){let S;if(p.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new He(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){YF(T,v);const j=[];for(const $ of T)j.push(ZF(d,r,$));S={arrayValue:{values:j}}}else S=ZF(d,r,T)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||YF(T,v),S=BF(c,"where",T,"in"===v||"not-in"===v);const P=Es.create(p,v,S);return function(j,$){if($.ht()){const _e=OE(j);if(null!==_e&&!_e.isEqual($.field))throw new He(Ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_e.toString()}' and '${$.field.toString()}'`);const Je=kE(j);null!==Je&&KF(0,$.field,Je)}const oe=function(_e,Je){for(const st of _e.filters)if(Je.indexOf(st.op)>=0)return st.op;return null}(j,function(_e){switch(_e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($.op));if(null!==oe)throw new He(Ie.INVALID_ARGUMENT,oe===$.op?`Invalid query. You cannot use more than one '${$.op.toString()}' filter.`:`Invalid query. You cannot use '${$.op.toString()}' filters with '${oe.toString()}' filters.`)}(r,P),P}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Mo(e.firestore,e.converter,function(r,s){const c=r.filters.concat([s]);return new pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class Zz extends $C{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new He(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new He(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new rf(r,s);return function(d,p){if(null===kE(d)){const v=OE(d);null!==v&&KF(0,v,p.field)}}(i,c),c}(e._query,this.fa,this.wa);return new Mo(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new pu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class $F extends $C{constructor(e,t,i){super(),this.type=e,this.ma=t,this.ga=i}_apply(e){return new Mo(e.firestore,e.converter,yS(e._query,this.ma,this.ga))}}class GF extends $C{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=qF(e,this.type,this.ya,this.pa);return new Mo(e.firestore,e.converter,(r=t,new pu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class WF extends $C{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=qF(e,this.type,this.ya,this.pa);return new Mo(e.firestore,e.converter,(r=t,new pu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function qF(n,e,t,i){if(t[0]=Si(t[0]),t[0]instanceof HC)return function(r,s,c,d,p){if(!d)throw new He(Ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const T of Zp(r))if(T.field.isKeyField())v.push(Nd(s,d.key));else{const S=d.data.field(T.field);if(bb(S))throw new He(Ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const P=T.field.canonicalString();throw new He(Ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}v.push(S)}return new Ld(v,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Y_(n.firestore);return function(s,c,d,p,v,T){const S=s.explicitOrderBy;if(v.length>S.length)throw new He(Ie.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let j=0;j<v.length;j++){const $=v[j];if(S[j].field.isKeyField()){if("string"!=typeof $)throw new He(Ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof $}`);if(!Bd(s)&&-1!==$.indexOf("/"))throw new He(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${$}' contains a slash.`);const oe=s.path.child(En.fromString($));if(!dt.isDocumentKey(oe))throw new He(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${oe}' is not because it contains an odd number of segments.`);const _e=new dt(oe);P.push(Nd(c,_e))}else{const oe=BF(d,p,$);P.push(oe)}}return new Ld(P,T)}(n._query,n.firestore._databaseId,r,e,t,i)}}function ZF(n,e,t){if("string"==typeof(t=Si(t))){if(""===t)throw new He(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bd(e)&&-1!==t.indexOf("/"))throw new He(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(En.fromString(t));if(!dt.isDocumentKey(i))throw new He(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Nd(n,new dt(i))}if(t instanceof qi)return Nd(n,t._key);throw new He(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jD(t)}.`)}function YF(n,e){if(!Array.isArray(n)||0===n.length)throw new He(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new He(Ie.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function KF(n,e,t){if(!t.isEqual(e))throw new He(Ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const n$={maxAttempts:5};class NO{convertValue(e,t="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Od(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bt()}}convertObject(e,t){const i={};return kd(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new zD(cr(e.latitude),cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ek(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Gt(e));default:return null}}convertTimestamp(e){const t=mc(e);return new xi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=En.fromString(e);Qt(qS(i));const r=new hu(i.get(1),i.get(3)),s=new dt(i.popFirst(5));return r.isEqual(t)||Br(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function YD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class i$ extends NO{constructor(e){super(),this.firestore=e}convertBytes(e){return new qd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,t)}}class QF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Y_(e)}set(e,t,i){this._verifyNotCommitted();const r=_m(e,this._firestore),s=YD(r.converter,t,i),c=GD(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Wi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=_m(e,this._firestore);let c;return c="string"==typeof(t=Si(t))||t instanceof wf?OO(this._dataReader,"WriteBatch.update",s._key,t,i,r):kO(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,Wi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_m(e,this._firestore);return this._mutations=this._mutations.concat(new cf(t._key,Wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _m(n,e){if((n=Si(n)).firestore!==e)throw new He(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class J_ extends NO{constructor(e){super(),this.firestore=e}convertBytes(e){return new qd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,t)}}function JF(n,e,t){n=Nn(n,qi);const i=Nn(n.firestore,Xi),r=YD(n.converter,e,t);return l0(i,[GD(Y_(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Wi.none())])}function XF(n,e,t,...i){n=Nn(n,qi);const r=Nn(n.firestore,Xi),s=Y_(r);let c;return c="string"==typeof(e=Si(e))||e instanceof wf?OO(s,"updateDoc",n._key,e,t,i):kO(s,"updateDoc",n._key,e),l0(r,[c.toMutation(n._key,Wi.exists(!0))])}function eL(n,...e){var t,i,r;n=Si(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||AO(e[c])||(s=e[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(AO(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[c+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let p,v,T;if(n instanceof qi)v=Nn(n.firestore,Xi),T=qp(n._key.path),p={next:S=>{e[c]&&e[c](FO(v,n,S))},error:e[c+1],complete:e[c+2]};else{const S=Nn(n,Mo);v=Nn(S.firestore,Xi),T=S._query;const P=new J_(v);p={next:j=>{e[c]&&e[c](new mm(v,P,S,j))},error:e[c+1],complete:e[c+2]},zF(n._query)}return function(S,P,j,$){const oe=new VD($),_e=new l(P,oe,j);return S.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return FD(yield a0(S),_e)})),()=>{oe.Tc(),S.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return LD(yield a0(S),_e)}))}}(ts(v),T,d,p)}function l0(n,e){return function(t,i){const r=new Vr;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function ze(n,e,t){return Ht.apply(this,arguments)}(yield SO(t),i,r)})),r.promise}(ts(n),e)}function FO(n,e,t){const i=t.docs.get(e._key),r=new J_(n);return new Ef(n,r,e._key,i,new Q_(t.hasPendingWrites,t.fromCache),e.converter)}class f$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Y_(e)}get(e){const t=_m(e,this._firestore),i=new i$(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return bt();const s=r[0];if(s.isFoundDocument())return new HC(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new HC(this._firestore,i,t._key,null,t.converter);throw bt()})}set(e,t,i){const r=_m(e,this._firestore),s=YD(r.converter,t,i),c=GD(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const s=_m(e,this._firestore);let c;return c="string"==typeof(t=Si(t))||t instanceof wf?OO(this._dataReader,"Transaction.update",s._key,t,i,r):kO(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=_m(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_m(e,this._firestore),i=new J_(this._firestore);return super.get(e).then(r=>new Ef(this._firestore,i,t._key,r._document,new Q_(!1,!1),t.converter))}}!function(n,e=!0){Hp=Fr.SDK_VERSION,(0,Fr._registerComponent)(new Bh("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new Xi(r,new WM(t.getProvider("auth-internal")),new ZM(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),(0,Fr.registerVersion)(gE,"3.4.13",n),(0,Fr.registerVersion)(gE,"3.4.13","esm2017")}();function cL(n){return n&&n._delegate?n._delegate:n}Error;class V${constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}function jO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new He("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function uL(){if("undefined"==typeof Uint8Array)throw new He("unimplemented","Uint8Arrays are not available in this environment.")}function dL(){if(!function XM(){return"undefined"!=typeof atob}())throw new He("unimplemented","Blobs are unavailable in Firestore in this environment.")}class GC{constructor(e){this._delegate=e}static fromBase64String(e){return dL(),new GC(qd.fromBase64String(e))}static fromUint8Array(e){return uL(),new GC(qd.fromUint8Array(e))}toBase64(){return dL(),this._delegate.toBase64()}toUint8Array(){return uL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function HO(n){return function G$(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class W${enableIndexedDbPersistence(e,t){return function Az(n,e){PF(n=Nn(n,Xi));const t=ts(n),i=n._freezeSettings(),r=new vO;return RF(t,r,new mF(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Mz(n){PF(n=Nn(n,Xi));const e=ts(n),t=n._freezeSettings(),i=new vO;return RF(e,i,new dz(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function kz(n){if(n._initialized&&!n._terminated)throw new He(Ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(t=(0,Me.Z)(function*(i){if(!_l.V())return Promise.resolve();const r=i+"main";yield _l.delete(r)}),function(i){return t.apply(this,arguments)})(hC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hL{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof hu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Qh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function Iz(n,e,t,i={}){var r;const s=(n=Nn(n,UC))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Qh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=$i.MOCK_USER;else{c=function yp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bv(JSON.stringify({alg:"none",type:"JWT"})),bv(JSON.stringify(c)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new He(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new $i(p)}n._authCredentials=new GM(new _E(c,d))}}(this._delegate,e,t,i)}enableNetwork(){return function Rz(n){return function gz(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield vF(n),t=yield bF(n);return e.setNetworkEnabled(!0),function(i){const r=at(i);return r.lu.delete(0),e0(r)}(t)}))}(ts(n=Nn(n,Xi)))}(this._delegate)}disableNetwork(){return function Pz(n){return function _z(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield vF(n),t=yield bF(n);return e.setNetworkEnabled(!1),(i=(0,Me.Z)(function*(r){const s=at(r);s.lu.add(0),yield P_(s),s._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(ts(n=Nn(n,Xi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,IF("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Oz(n){return function(e){const t=new Vr;return e.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function VC(n,e){return G_.apply(this,arguments)}(yield SO(e),t)})),t.promise}(ts(n=Nn(n,Xi)))}(this._delegate)}onSnapshotsInSync(e){return function h$(n,e){return function bz(n,e){const t=new VD(e);return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return i=yield a0(n),r=t,at(i).Tu.add(r),void r.next();var i,r})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return i=yield a0(n),r=t,void at(i).Tu.delete(r);var i,r}))}}(ts(n=Nn(n,Xi)),AO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new He("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new c0(this,AF(this._delegate,e))}catch(t){throw sa(t,"collection()","Firestore.collection()")}}doc(e){try{return new vc(this,HD(this._delegate,e))}catch(t){throw sa(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new oa(this,function Tz(n,e){if(n=Nn(n,UC),xO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new He(Ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Mo(n,null,(t=e,new pu(En.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw sa(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function p$(n,e,t){n=Nn(n,Xi);const i=Object.assign(Object.assign({},n$),t);return function(r){if(r.maxAttempts<1)throw new He(Ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function wz(n,e,t){const i=new Vr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const r=yield(s=n,UD(s).then(c=>c.datastore));var s;new pz(n.asyncQueue,r,t,e,i).run()})),i.promise}(ts(n),r=>e(new f$(n,r)),i)}(this._delegate,t=>e(new fL(this,t)))}batch(){return ts(this._delegate),new pL(new QF(this._delegate,e=>l0(this._delegate,e)))}loadBundle(e){return function Nz(n,e){const t=ts(n=Nn(n,Xi)),i=new Dz;return function Ez(n,e,t,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,v){if(p instanceof Uint8Array)return gF(p,v);if(p instanceof ArrayBuffer)return gF(new Uint8Array(p),v);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new hz(p,c);var p}(t,R_(e));n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function uz(n,e,t){const i=at(n);var r;(r=(0,Me.Z)(function*(s,c,d){try{const p=yield c.getMetadata();if(yield function(P,j){const $=at(P),oe=Cs(j.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",_e=>$.Ds.getBundleMetadata(_e,j.id)).then(_e=>!!_e&&_e.createTime.compareTo(oe)>=0)}(s.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(P=p).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);d._updateProgress(y(p));const v=new m(p,s.localStore,c.wt);let T=yield c.fc();for(;T;){const P=yield v.Nu(T);P&&d._updateProgress(P),T=yield c.fc()}const S=yield v.complete();return yield bf(s,S.Mu,void 0),yield function(P,j){const $=at(P);return $.persistence.runTransaction("Save bundle","readwrite",oe=>$.Ds.saveBundleMetadata(oe,j))}(s.localStore,p),d._completeWith(S.progress),Promise.resolve(S.Ou)}catch(p){return Qh("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var P}),function(s,c,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield SO(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Fz(n,e){return function Cz(n,e){return n.asyncQueue.enqueue((0,Me.Z)(function*(){return function(t,i){const r=at(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ds.getNamedQuery(s,i))}(yield TO(n),e)}))}(ts(n=Nn(n,Xi)),e).then(t=>t?new Mo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new oa(this,t):null)}}class JD extends NO{constructor(e){super(),this.firestore=e}convertBytes(e){return new GC(new qd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return vc.forKey(t,this.firestore,null)}}class fL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new JD(e)}get(e){const t=ty(e);return this._delegate.get(t).then(i=>new WC(this._firestore,new Ef(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=ty(e);return i?(jO("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=ty(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=ty(e);return this._delegate.delete(t),this}}class pL{constructor(e){this._delegate=e}set(e,t,i){const r=ty(e);return i?(jO("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=ty(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=ty(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ey{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new zC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qC(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=ey.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new ey(e,new JD(e),t),r.set(t,s)),s}}ey.INSTANCES=new WeakMap;class vc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new JD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new He("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new vc(t,new qi(t._delegate,i,new dt(e)))}static forKey(e,t,i){return new vc(t,new qi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new c0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new c0(this.firestore,AF(this._delegate,e))}catch(t){throw sa(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=cL(e))instanceof qi&&MF(this._delegate,e)}set(e,t){t=jO("DocumentReference.set",t);try{return t?JF(this._delegate,e,t):JF(this._delegate,e)}catch(i){throw sa(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?XF(this._delegate,e):XF(this._delegate,e,t,...i)}catch(r){throw sa(r,"updateDoc()","DocumentReference.update()")}}delete(){return function u$(n){return l0(Nn(n.firestore,Xi),[new cf(n._key,Wi.none())])}(this._delegate)}onSnapshot(...e){const t=mL(e),i=gL(e,r=>new WC(this.firestore,new Ef(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return eL(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function s$(n){n=Nn(n,qi);const e=Nn(n.firestore,Xi),t=ts(e),i=new J_(e);return function yz(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(i=(0,Me.Z)(function*(r,s,c){try{const d=yield function(p,v){const T=at(p);return T.persistence.runTransaction("read document","readonly",S=>T.localDocuments.getDocument(S,v))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new He(Ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=fm(d,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield TO(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Ef(e,i,n._key,r,new Q_(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function o$(n){n=Nn(n,qi);const e=Nn(n.firestore,Xi);return wF(ts(e),n._key,{source:"server"}).then(t=>FO(e,n,t))}(this._delegate):function r$(n){n=Nn(n,qi);const e=Nn(n.firestore,Xi);return wF(ts(e),n._key).then(t=>FO(e,n,t))}(this._delegate),t.then(i=>new WC(this.firestore,new Ef(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new vc(this.firestore,this._delegate.withConverter(e?ey.getInstance(this.firestore,e):null))}}function sa(n,e,t){return n.message=n.message.replace(e,t),n}function mL(n){for(const e of n)if("object"==typeof e&&!HO(e))return e;return{}}function gL(n,e){var t,i;let r;return r=HO(n[0])?n[0]:HO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class WC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new vc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return HF(this._delegate,e._delegate)}}class qC extends WC{data(e){const t=this._delegate.data(e);return function zM(n,e){n||bt()}(void 0!==t),t}}class oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new JD(e)}where(e,t,i){try{return new oa(this.firestore,gm(this._delegate,function qz(n,e,t){const i=e,r=ZD("where",n);return new Wz(r,i,t)}(e,t,i)))}catch(r){throw sa(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new oa(this.firestore,gm(this._delegate,function Yz(n,e="asc"){const t=e,i=ZD("orderBy",n);return new Zz(i,t)}(e,t)))}catch(i){throw sa(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new oa(this.firestore,gm(this._delegate,function Kz(n){return DF("limit",n),new $F("limit",n,"F")}(e)))}catch(t){throw sa(t,"limit()","Query.limit()")}}limitToLast(e){try{return new oa(this.firestore,gm(this._delegate,function Qz(n){return DF("limitToLast",n),new $F("limitToLast",n,"L")}(e)))}catch(t){throw sa(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new oa(this.firestore,gm(this._delegate,function Jz(...n){return new GF("startAt",n,!0)}(...e)))}catch(t){throw sa(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new oa(this.firestore,gm(this._delegate,function Xz(...n){return new GF("startAfter",n,!1)}(...e)))}catch(t){throw sa(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new oa(this.firestore,gm(this._delegate,function e$(...n){return new WF("endBefore",n,!1)}(...e)))}catch(t){throw sa(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new oa(this.firestore,gm(this._delegate,function t$(...n){return new WF("endAt",n,!0)}(...e)))}catch(t){throw sa(t,"endAt()","Query.endAt()")}}isEqual(e){return kF(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function l$(n){n=Nn(n,Mo);const e=Nn(n.firestore,Xi),t=ts(e),i=new J_(e);return function vz(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(i=(0,Me.Z)(function*(r,s,c){try{const d=yield A_(r,s,!0),p=new k(s,d.ji),v=p.Ku(d.documents),T=p.applyChanges(v,!1);c.resolve(T.snapshot)}catch(d){const p=fm(d,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield TO(n),e,t);var i})),t.promise}(t,n._query).then(r=>new mm(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function c$(n){n=Nn(n,Mo);const e=Nn(n.firestore,Xi),t=ts(e),i=new J_(e);return EF(t,n._query,{source:"server"}).then(r=>new mm(e,i,n,r))}(this._delegate):function a$(n){n=Nn(n,Mo);const e=Nn(n.firestore,Xi),t=ts(e),i=new J_(e);return zF(n._query),EF(t,n._query).then(r=>new mm(e,i,n,r))}(this._delegate),t.then(i=>new zO(this.firestore,new mm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=mL(e),i=gL(e,r=>new zO(this.firestore,new mm(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return eL(this._delegate,t,i)}withConverter(e){return new oa(this.firestore,this._delegate.withConverter(e?ey.getInstance(this.firestore,e):null))}}class Z${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new qC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new oa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new qC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Z$(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new qC(this._firestore,i))})}isEqual(e){return HF(this._delegate,e._delegate)}}class c0 extends oa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new vc(this.firestore,e):null}doc(e){try{return new vc(this.firestore,void 0===e?HD(this._delegate):HD(this._delegate,e))}catch(t){throw sa(t,"doc()","CollectionReference.doc()")}}add(e){return function d$(n,e){const t=Nn(n.firestore,Xi),i=HD(n),r=YD(n.converter,e);return l0(t,[GD(Y_(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Wi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new vc(this.firestore,t))}isEqual(e){return MF(this._delegate,e._delegate)}withConverter(e){return new c0(this.firestore,this._delegate.withConverter(e?ey.getInstance(this.firestore,e):null))}}function ty(n){return Nn(n,qi)}class $O{constructor(...e){this._delegate=new wf(...e)}static documentId(){return new $O(Ji.keyField().canonicalString())}isEqual(e){return(e=cL(e))instanceof wf&&this._delegate._internalPath.isEqual(e._internalPath)}}class ny{constructor(e){this._delegate=e}static serverTimestamp(){const e=function g$(){return new MO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ny(e)}static delete(){const e=function m$(){return new jC("deleteField")}();return e._methodName="FieldValue.delete",new ny(e)}static arrayUnion(...e){const t=function _$(...n){return new Uz("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ny(t)}static arrayRemove(...e){const t=function y$(...n){return new jz("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ny(t)}static increment(e){const t=function v$(n){return new Hz("increment",n)}(e);return t._methodName="FieldValue.increment",new ny(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Y$={Firestore:hL,GeoPoint:zD,Timestamp:xi,Blob:GC,Transaction:fL,WriteBatch:pL,DocumentReference:vc,DocumentSnapshot:WC,Query:oa,QueryDocumentSnapshot:qC,QuerySnapshot:zO,CollectionReference:c0,FieldPath:$O,FieldValue:ny,setLogLevel:function q$(n){!function HM(n){Dd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Q$(n){(function K$(n,e){n.INTERNAL.registerComponent(new V$("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Y$)))})(n,(e,t)=>new hL(e,t,new W$)),n.registerVersion("@firebase/firestore-compat","0.1.22")}(to.Z);var bc=G(6451),XD=G(5363),J$=G(6063);class X$ extends Xt.x{constructor(e=1/0,t=1/0,i=J$.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}var GO=G(3099);function _L(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,GO.B)({connector:()=>new X$(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function yL(n,e){return(0,fs.m)(e)?yi(()=>n,e):yi(()=>n)}var WO=G(9468);G(5867);const YO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],c=r+1<n.length,d=c?n[r+1]:0,p=r+2<n.length,v=p?n[r+2]:0;let P=(15&d)<<2|v>>6,j=63&v;p||(j=64,c||(P=64)),i.push(t[s>>2],t[(3&s)<<4|d>>4],t[P],t[j])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const p=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(1023&p))}else{const s=n[t++],c=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&c)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],d=r<n.length?t[n.charAt(r)]:0;++r;const v=r<n.length?t[n.charAt(r)]:64;++r;const S=r<n.length?t[n.charAt(r)]:64;if(++r,null==s||null==d||null==v||null==S)throw Error();i.push(s<<2|d>>4),64!==v&&(i.push(d<<4&240|v>>2),64!==S&&i.push(v<<6&192|S))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}class QO extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,QO.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,IL.prototype.create)}}class IL{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],c=s?function hG(n,e){return n.replace(fG,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new QO(r,`${this.serviceName}: ${c} (${r}).`,i)}}const fG=/\{\$([^}]+)}/g;class DL{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const eR=[];var Ai=(()=>(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(Ai||(Ai={})),Ai))();const xL={debug:Ai.DEBUG,verbose:Ai.VERBOSE,info:Ai.INFO,warn:Ai.WARN,error:Ai.ERROR,silent:Ai.SILENT},TG=Ai.INFO,SG={[Ai.DEBUG]:"log",[Ai.VERBOSE]:"log",[Ai.INFO]:"info",[Ai.WARN]:"warn",[Ai.ERROR]:"error"},DG=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=SG[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)},AL=new Map,AG={activated:!1,tokenObservers:[]},MG={initialized:!1,enabled:!1};function Hs(n){return AL.get(n)||AG}function wu(n,e){AL.set(n,e)}function ix(){return MG}class NG{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Me.Z)(function*(){t.stop();try{t.pending=new KO,yield function FG(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new KO,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const aa=new IL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kL(n){if(!Hs(n).activated)throw aa.create("use-before-activation",{appName:n.name})}function iR(n,e){return rR.apply(this,arguments)}function rR(){return rR=(0,Me.Z)(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const j=yield c.getHeartbeatsHeader();j&&(s["X-Firebase-Client"]=j)}const d={method:"POST",body:JSON.stringify(e),headers:s};let p,v;try{p=yield fetch(n,d)}catch(j){throw aa.create("fetch-network-error",{originalErrorMessage:null===(i=j)||void 0===i?void 0:i.message})}if(200!==p.status)throw aa.create("fetch-status-error",{httpStatus:p.status});try{v=yield p.json()}catch(j){throw aa.create("fetch-parse-error",{originalErrorMessage:null===(r=j)||void 0===r?void 0:r.message})}const T=v.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw aa.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const S=1e3*Number(T[1]),P=Date.now();return{token:v.token,expireTimeMillis:P+S,issuedAtTimeMillis:P}}),rR.apply(this,arguments)}function UG(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const ZC="firebase-app-check-store";let ox=null;function RL(){return ox||(ox=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(aa.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ZC,{keyPath:"compositeKey"})}}catch(i){e(aa.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),ox)}function sR(){return sR=(0,Me.Z)(function*(n,e){const i=(yield RL()).transaction(ZC,"readwrite"),s=i.objectStore(ZC).put({compositeKey:n,value:e});return new Promise((c,d)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var v;d(aa.create("storage-set",{originalErrorMessage:null===(v=p.target.error)||void 0===v?void 0:v.message}))}})}),sR.apply(this,arguments)}const YC=new class xG{constructor(e){this.name=e,this._logLevel=TG,this._logHandler=DG,this._userLogHandler=null,eR.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ai))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?xL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ai.DEBUG,...e),this._logHandler(this,Ai.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ai.VERBOSE,...e),this._logHandler(this,Ai.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ai.INFO,...e),this._logHandler(this,Ai.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ai.WARN,...e),this._logHandler(this,Ai.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ai.ERROR,...e),this._logHandler(this,Ai.ERROR,...e)}}("@firebase/app-check");function LL(n,e){return function uG(){return"object"==typeof indexedDB}()?function $G(n,e){return function PL(n,e){return sR.apply(this,arguments)}(function FL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{YC.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function BL(){return ix().enabled}function VL(){return cR.apply(this,arguments)}function cR(){return cR=(0,Me.Z)(function*(){const n=ix();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),cR.apply(this,arguments)}const KG={error:"UNKNOWN_ERROR"};function QG(n){return YO.encodeString(JSON.stringify(n),!1)}function ax(n){return uR.apply(this,arguments)}function uR(){return uR=(0,Me.Z)(function*(n,e=!1){const t=n.app;kL(t);const i=Hs(t);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&lx(p)&&(r=p)}if(!e&&r&&lx(r))return{token:r.token};let d,c=!1;if(BL()){i.exchangeTokenPromise||(i.exchangeTokenPromise=iR(UG(t,yield VL()),n.heartbeatServiceProvider).then(v=>(i.exchangeTokenPromise=void 0,v)),c=!0);const p=yield i.exchangeTokenPromise;return yield LL(t,p),wu(t,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?YC.warn(p.message):YC.error(p),s=p}return r?(d={token:r.token},wu(t,Object.assign(Object.assign({},i),{token:r})),yield LL(t,r)):d=XG(s),c&&jL(t,d),d}),uR.apply(this,arguments)}function hR(n,e){const t=Hs(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),wu(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function UL(n){const{app:e}=n,t=Hs(e);let i=t.tokenRefresher;i||(i=function JG(n){const{app:e}=n;return new NG((0,Me.Z)(function*(){let i;if(i=Hs(e).token?yield ax(n,!0):yield ax(n),i.error)throw i.error}),()=>!0,()=>{const t=Hs(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),wu(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function jL(n,e){const t=Hs(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function lx(n){return n.expireTimeMillis-Date.now()>0}function XG(n){return{token:QG(KG),error:n}}class e4{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Hs(this.app);for(const t of e)hR(this.app,t.next);return Promise.resolve()}}const YL="app-check-internal";!function m4(){(0,Fr._registerComponent)(new DL("app-check",n=>function t4(n,e){return new e4(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(YL).initialize()})),(0,Fr._registerComponent)(new DL(YL,n=>function n4(n){return{getToken:e=>ax(n,e),addTokenListener:e=>function dR(n,e,t,i){const{app:r}=n,s=Hs(r),c={next:t,error:i,type:e};if(wu(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&lx(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),UL(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>UL(n))}(n,"INTERNAL",e),removeTokenListener:e=>hR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Fr.registerVersion)("@firebase/app-check","0.5.12")}();class KC{constructor(){return(0,jn.vb)("app-check")}}"undefined"!=typeof window&&window;var ux=G(127);const _R=new o.OlP("angularfire2.auth.use-emulator"),yR=new o.OlP("angularfire2.auth.settings"),vR=new o.OlP("angularfire2.auth.tenant-id"),bR=new o.OlP("angularfire2.auth.langugage-code"),wR=new o.OlP("angularfire2.auth.use-device-language"),ER=new o.OlP("angularfire.auth.persistence"),CR=(n,e,t,i,r,s,c,d)=>(0,Er.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[v,T]of Object.entries(c))p.settings[v]=T;return d&&p.setPersistence(d),p},[t,i,r,s,c,d]);let QC=(()=>{class n{constructor(t,i,r,s,c,d,p,v,T,S,P,j){const $=new Xt.x,oe=Dt(void 0).pipe((0,XD.Q)(c.outsideAngular),yi(()=>s.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,6255)))),(0,Ot.U)(()=>(0,Er.on)(t,s,i)),(0,Ot.U)(_e=>CR(_e,s,d,v,T,S,p,P)),_L({bufferSize:1,refCount:!1}));if(M(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Dt(null);else{oe.pipe(Zl()).subscribe();const Je=oe.pipe(yi(ot=>ot.getRedirectResult().then(Yt=>Yt,()=>null)),jn.iC,_L({bufferSize:1,refCount:!1})),st=oe.pipe(yi(ot=>new si.y(Yt=>({unsubscribe:s.runOutsideAngular(()=>ot.onAuthStateChanged(nn=>Yt.next(nn),nn=>Yt.error(nn),()=>Yt.complete()))})))),rt=oe.pipe(yi(ot=>new si.y(Yt=>({unsubscribe:s.runOutsideAngular(()=>ot.onIdTokenChanged(nn=>Yt.next(nn),nn=>Yt.error(nn),()=>Yt.complete()))}))));this.authState=Je.pipe(yL(st),(0,WO.R)(c.outsideAngular),(0,XD.Q)(c.insideAngular)),this.user=Je.pipe(yL(rt),(0,WO.R)(c.outsideAngular),(0,XD.Q)(c.insideAngular)),this.idToken=this.user.pipe(yi(ot=>ot?(0,Jn.D)(ot.getIdToken()):Dt(null))),this.idTokenResult=this.user.pipe(yi(ot=>ot?(0,Jn.D)(ot.getIdTokenResult()):Dt(null))),this.credential=(0,bc.T)(Je,$,this.authState.pipe(ui(ot=>!ot))).pipe((0,Ot.U)(ot=>(null==ot?void 0:ot.user)?ot:null),(0,WO.R)(c.outsideAngular),(0,XD.Q)(c.insideAngular))}return(0,Er.pX)(this,oe,s,{spy:{apply:(_e,Je,st)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&st.then(rt=>$.next(rt))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Er.Dh),o.LFG(Er.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(jn.HU),o.LFG(_R,8),o.LFG(yR,8),o.LFG(vR,8),o.LFG(bR,8),o.LFG(wR,8),o.LFG(ER,8),o.LFG(KC,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),w4=(()=>{class n{constructor(){ux.Z.registerVersion("angularfire",jn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[QC]}),n})();function QL(n,e){return function E4(n,e=Oh.z){return new si.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function IR(n,e){return QL(n,e).pipe((0,Ot.U)(t=>({payload:t,type:"query"})))}function dx(n,e){return IR(n,e).pipe(Ni(void 0),bg(),(0,Ot.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(T=>T.doc.ref.isEqual(c.ref)),v=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function JL(n,e,t){return dx(n,t).pipe(Rs((i,r)=>function I4(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function T4(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return TR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return TR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return TR(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),Rh(),(0,Ot.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function TR(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function XL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class e2{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=dx(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ot.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ni(void 0),bg(),ui(([i,r])=>r.length>0||!i),(0,Ot.U)(([i,r])=>r),jn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Rs((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=XL(e);return JL(this.query,t,this.afs.schedulers.outsideAngular).pipe(jn.iC)}valueChanges(e={}){return IR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),jn.iC)}get(e){return(0,Jn.D)(this.query.get(e)).pipe(jn.iC)}add(e){return this.ref.add(e)}doc(e){return new t2(this.ref.doc(e),this.afs)}}class t2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=s2(i,t);return new e2(r,s,this.afs)}snapshotChanges(){return function C4(n,e){return QL(n,e).pipe(Ni(void 0),bg(),(0,Ot.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(jn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ot.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Jn.D)(this.ref.get(e)).pipe(jn.iC)}}class S4{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?dx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),ui(t=>t.length>0),jn.iC):dx(this.query,this.afs.schedulers.outsideAngular).pipe(jn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Rs((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=XL(e);return JL(this.query,t,this.afs.schedulers.outsideAngular).pipe(jn.iC)}valueChanges(e={}){return IR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),jn.iC)}get(e){return(0,Jn.D)(this.query.get(e)).pipe(jn.iC)}}const n2=new o.OlP("angularfire2.enableFirestorePersistence"),r2=new o.OlP("angularfire2.firestore.persistenceSettings"),D4=new o.OlP("angularfire2.firestore.settings"),x4=new o.OlP("angularfire2.firestore.use-emulator");function s2(n,e=(t=>t)){return{query:e(n),ref:n}}let hx=(()=>{class n{constructor(t,i,r,s,c,d,p,v,T,S,P,j,$,oe,_e,Je,st){this.schedulers=p;const rt=(0,Er.on)(t,d,i),ot=T;S&&CR(rt,d,P,$,oe,_e,j,Je),[this.firestore,this.persistenceEnabled$]=(0,Er.cc)(`${rt.name}.firestore`,"AngularFirestore",rt.name,()=>{const Yt=d.runOutsideAngular(()=>rt.firestore());if(s&&Yt.settings(s),ot&&Yt.useEmulator(...ot),r&&!M(c)){const nn=()=>{try{return(0,Jn.D)(Yt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Rn){return"undefined"!=typeof console&&console.warn(Rn),Dt(!1)}};return[Yt,d.runOutsideAngular(nn)]}return[Yt,Dt(!1)]},[s,ot,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=s2(r,i),d=this.schedulers.ngZone.run(()=>s);return new e2(d,c,this)}collectionGroup(t,i){const r=i||(c=>c),s=this.firestore.collectionGroup(t);return new S4(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new t2(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Er.Dh),o.LFG(Er.xv,8),o.LFG(n2,8),o.LFG(D4,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(jn.HU),o.LFG(r2,8),o.LFG(x4,8),o.LFG(QC,8),o.LFG(_R,8),o.LFG(yR,8),o.LFG(vR,8),o.LFG(bR,8),o.LFG(wR,8),o.LFG(ER,8),o.LFG(KC,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),A4=(()=>{class n{constructor(){ux.Z.registerVersion("angularfire",jn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:n2,useValue:!0},{provide:r2,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[hx]}),n})(),Cf=(()=>{class n{constructor(t,i,r,s){this.afs=t,this.afAuth=i,this.router=r,this.ngZone=s,this.afAuth.authState.subscribe(c=>{c?(this.userData=c,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(t,i){return this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{this.ngZone.run(()=>{this.router.navigate(["dashboard"])}),this.SetUserData(r.user)}).catch(r=>{window.alert(r.message)})}SignUp(t,i){return this.afAuth.createUserWithEmailAndPassword(t,i).then(r=>{this.SendVerificationMail(),this.SetUserData(r.user)}).catch(r=>{window.alert(r.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(i=>{window.alert(i)})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}GoogleAuth(){return this.AuthLogin(new hw.Q).then(t=>{})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(i=>{this.ngZone.run(()=>{this.router.navigate(["dashboard"])}),this.SetUserData(i.user)}).catch(i=>{window.alert(i)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(hx),o.LFG(QC),o.LFG(ms),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M4=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return!0!==this.authService.isLoggedIn&&this.router.navigate(["login"]),!0}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Cf),o.LFG(ms))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class o2{}const If="*";function ry(n,e){return{type:7,name:n,definitions:e,options:{}}}function Zd(n,e=null){return{type:4,styles:e,timings:n}}function a2(n,e=null){return{type:2,steps:n,options:e}}function ur(n){return{type:6,styles:n,offset:null}}function Cl(n,e,t){return{type:0,name:n,styles:e,options:t}}function Eu(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function R4(n=null){return{type:9,options:n}}function P4(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function l2(n){Promise.resolve(null).then(n)}class JC{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){l2(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class c2{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?l2(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const On=!1;function u2(n){return new o.vHH(3e3,On)}function p8(){return"undefined"!=typeof window&&void 0!==window.document}function DR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ym(n){switch(n.length){case 0:return new JC;case 1:return n[0];default:return new c2(n)}}function d2(n,e,t,i,r={},s={}){const c=[],d=[];let p=-1,v=null;if(i.forEach(T=>{const S=T.offset,P=S==p,j=P&&v||{};Object.keys(T).forEach($=>{let oe=$,_e=T[$];if("offset"!==$)switch(oe=e.normalizePropertyName(oe,c),_e){case"!":_e=r[$];break;case If:_e=s[$];break;default:_e=e.normalizeStyleValue($,oe,_e,c)}j[oe]=_e}),P||d.push(j),v=j,p=S}),c.length)throw function i8(n){return new o.vHH(3502,On)}();return d}function xR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&AR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&AR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&AR(t,"destroy",n)))}}function AR(n,e,t){const i=t.totalTime,s=MR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function MR(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Il(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function h2(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let kR=(n,e)=>!1,f2=(n,e,t)=>[],p2=null;function OR(n){const e=n.parentNode||n.host;return e===p2?null:e}(DR()||"undefined"!=typeof Element)&&(p8()?(p2=(()=>document.documentElement)(),kR=(n,e)=>{for(;e;){if(e===n)return!0;e=OR(e)}return!1}):kR=(n,e)=>n.contains(e),f2=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let sy=null,m2=!1;function g2(n){sy||(sy=function g8(){return"undefined"!=typeof document?document.body:null}()||{},m2=!!sy.style&&"WebkitAppearance"in sy.style);let e=!0;return sy.style&&!function m8(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in sy.style,!e&&m2&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in sy.style)),e}const _2=kR,y2=f2;let v2=(()=>{class n{validateStyleProperty(t){return g2(t)}matchesElement(t,i){return!1}containsElement(t,i){return _2(t,i)}getParentElement(t){return OR(t)}query(t,i,r){return y2(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,d=[],p){return new JC(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),RR=(()=>{class n{}return n.NOOP=new v2,n})();const PR="ng-enter",px="ng-leave",mx="ng-trigger",gx=".ng-trigger",w2="ng-animating",NR=".ng-animating";function oy(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:FR(parseFloat(e[1]),e[2])}function FR(n,e){return"s"===e?1e3*n:n}function _x(n,e,t){return n.hasOwnProperty("duration")?n:function v8(n,e,t){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(u2()),{duration:0,delay:0,easing:""};r=FR(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=FR(parseFloat(p),d[4]));const v=d[5];v&&(c=v)}else r=n;if(!t){let d=!1,p=e.length;r<0&&(e.push(function N4(){return new o.vHH(3100,On)}()),d=!0),s<0&&(e.push(function F4(){return new o.vHH(3101,On)}()),d=!0),d&&e.splice(p,0,u2())}return{duration:r,delay:s,easing:c}}(n,e,t)}function u0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function vm(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else u0(n,t);return t}function C2(n,e,t){return t?e+":"+t+";":""}function I2(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=C2(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=C2(0,E8(t),n.style[t]));n.setAttribute("style",e)}function Yd(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=BR(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),DR()&&I2(n))}function ay(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=BR(t);n.style[i]=""}),DR()&&I2(n))}function XC(n){return Array.isArray(n)?1==n.length?n[0]:a2(n):n}const LR=new RegExp("{{\\s*(.+?)\\s*}}","g");function T2(n){let e=[];if("string"==typeof n){let t;for(;t=LR.exec(n);)e.push(t[1]);LR.lastIndex=0}return e}function yx(n,e,t){const i=n.toString(),r=i.replace(LR,(s,c)=>{let d=e[c];return e.hasOwnProperty(c)||(t.push(function B4(n){return new o.vHH(3003,On)}()),d=""),d.toString()});return r==i?n:r}function vx(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const w8=/-+([a-z0-9])/g;function BR(n){return n.replace(w8,(...e)=>e[1].toUpperCase())}function E8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Tl(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function V4(n){return new o.vHH(3004,On)}()}}function S2(n,e){return window.getComputedStyle(n)[e]}function x8(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function A8(n,e,t){if(":"==n[0]){const p=function M8(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function X4(n){return new o.vHH(3016,On)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function J4(n){return new o.vHH(3015,On)}()),e;const r=i[1],s=i[2],c=i[3];e.push(D2(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&e.push(D2(c,r))}(i,t,e)):t.push(n),t}const Cx=new Set(["true","1"]),Ix=new Set(["false","0"]);function D2(n,e){const t=Cx.has(n)||Ix.has(n),i=Cx.has(e)||Ix.has(e);return(r,s)=>{let c="*"==n||n==r,d="*"==e||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?Cx.has(n):Ix.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Cx.has(e):Ix.has(e)),c&&d}}const k8=new RegExp("s*:selfs*,?","g");function VR(n,e,t,i){return new O8(n).build(e,t,i)}class O8{constructor(e){this._driver=e}build(e,t,i){const r=new N8(t);this._resetContextStyleTimingState(r);const s=Tl(this,XC(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function j4(){return new o.vHH(3006,On)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const p=d,v=p.name;v.toString().split(/\s*,\s*/).forEach(T=>{p.name=T,s.push(this.visitState(p,t))}),p.name=v}else if(1==d.type){const p=this.visitTransition(d,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function H4(){return new o.vHH(3007,On)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{if(Tx(d)){const p=d;Object.keys(p).forEach(v=>{T2(p[v]).forEach(T=>{c.hasOwnProperty(T)||s.add(T)})})}}),s.size&&(vx(s.values()),t.errors.push(function z4(n,e){return new o.vHH(3008,On)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Tl(this,XC(e.animation),t);return{type:1,matchers:x8(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ly(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Tl(this,i,t)),options:ly(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const d=Tl(this,c,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:s,options:ly(e.options)}}visitAnimate(e,t){const i=function L8(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return UR(_x(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=UR(0,0,"");return s.dynamic=!0,s.strValue=i,s}return t=t||_x(i,e),UR(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:ur({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,d=!1;if(!c){d=!0;const v={};i.easing&&(v.easing=i.easing),c=ur(v)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=d,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==If?i.push(c):t.errors.push(function $4(n){return new o.vHH(3002,On)}()):i.push(c)}):i.push(e.styles);let r=!1,s=null;return i.forEach(c=>{if(Tx(c)){const d=c,p=d.easing;if(p&&(s=p,delete d.easing),!r)for(let v in d)if(d[v].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(d=>{if(!this._driver.validateStyleProperty(d))return delete c[d],void t.unsupportedCSSPropertiesFound.add(d);const p=t.collectedStyles[t.currentQuerySelector],v=p[d];let T=!0;v&&(s!=r&&s>=v.startTime&&r<=v.endTime&&(t.errors.push(function G4(n,e,t,i,r){return new o.vHH(3010,On)}()),T=!1),s=v.startTime),T&&(p[d]={startTime:s,endTime:r}),t.options&&function b8(n,e,t){const i=e.params||{},r=T2(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function L4(n){return new o.vHH(3001,On)}())})}(c[d],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function W4(){return new o.vHH(3011,On)}()),i;let s=0;const c=[];let d=!1,p=!1,v=0;const T=e.steps.map(Je=>{const st=this._makeStyleAst(Je,t);let rt=null!=st.offset?st.offset:function F8(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Tx(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Tx(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(st.styles),ot=0;return null!=rt&&(s++,ot=st.offset=rt),p=p||ot<0||ot>1,d=d||ot<v,v=ot,c.push(ot),st});p&&t.errors.push(function q4(){return new o.vHH(3012,On)}()),d&&t.errors.push(function Z4(){return new o.vHH(3200,On)}());const S=e.steps.length;let P=0;s>0&&s<S?t.errors.push(function Y4(){return new o.vHH(3202,On)}()):0==s&&(P=1/(S-1));const j=S-1,$=t.currentTime,oe=t.currentAnimateTimings,_e=oe.duration;return T.forEach((Je,st)=>{const rt=P>0?st==j?1:P*st:c[st],ot=rt*_e;t.currentTime=$+oe.delay+ot,oe.duration=ot,this._validateStyleAst(Je,t),Je.offset=rt,i.styles.push(Je)}),i}visitReference(e,t){return{type:8,animation:Tl(this,XC(e.animation),t),options:ly(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ly(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ly(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function R8(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(k8,"")),n=n.replace(/@\*/g,gx).replace(/@\w+/g,t=>gx+"-"+t.substr(1)).replace(/:animating/g,NR),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Il(t.collectedStyles,t.currentQuerySelector,{});const d=Tl(this,XC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:e.selector,options:ly(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function K4(){return new o.vHH(3013,On)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:_x(e.timings,t.errors,!0);return{type:12,animation:Tl(this,XC(e.animation),t),timings:i,options:null}}}class N8{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Tx(n){return!Array.isArray(n)&&"object"==typeof n}function ly(n){return n?(n=u0(n)).params&&(n.params=function P8(n){return n?u0(n):null}(n.params)):n={},n}function UR(n,e,t){return{duration:n,delay:e,easing:t}}function jR(n,e,t,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class Sx{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const U8=new RegExp(":enter","g"),H8=new RegExp(":leave","g");function HR(n,e,t,i,r,s={},c={},d,p,v=[]){return(new z8).buildKeyframes(n,e,t,i,r,s,c,d,p,v)}class z8{buildKeyframes(e,t,i,r,s,c,d,p,v,T=[]){v=v||new Sx;const S=new zR(e,t,v,r,s,T,[]);S.options=p,S.currentTimeline.setStyles([c],null,S.errors,p),Tl(this,i,S);const P=S.timelines.filter(j=>j.containsAnimation());if(Object.keys(d).length){let j;for(let $=P.length-1;$>=0;$--){const oe=P[$];if(oe.element===t){j=oe;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([d],null,S.errors,p)}return P.length?P.map(j=>j.buildKeyframes()):[jR(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?oy(i.duration):null,d=null!=i.delay?oy(i.delay):null;return 0!==c&&e.forEach(p=>{const v=t.appendInstructionToTimeline(p,c,d);s=Math.max(s,v.duration+v.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Tl(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Dx);const c=oy(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Tl(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?oy(e.options.delay):0;e.steps.forEach(c=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),Tl(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return _x(t.params?yx(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?oy(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Dx);let c=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let p=null;d.forEach((v,T)=>{t.currentQueryIndex=T;const S=t.createSubContext(e.options,v);s&&S.delayNextStep(s),v===t.element&&(p=S.currentTimeline),Tl(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),d=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const T=t.currentTimeline;p&&T.delayNextStep(p);const S=T.currentTime;Tl(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const Dx={};class zR{constructor(e,t,i,r,s,c,d,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Dx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new xx(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=oy(i.duration)),null!=i.delay&&(r.delay=oy(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!c.hasOwnProperty(d))&&(c[d]=yx(s[d],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new zR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Dx,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new $8(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(U8,"."+this._enterClassName)).replace(H8,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),d.push(...v)}return!s&&0==d.length&&c.push(function Q4(n){return new o.vHH(3014,On)}()),d}}class xx{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new xx(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||If,this._currentKeyframe[t]=If}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},c=function G8(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=If})):vm(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(d=>{const p=yx(c[d],s,i);this._pendingStyles[d]=p,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:If),this._updateStyle(d,p)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const v=vm(d,!0);Object.keys(v).forEach(T=>{const S=v[T];"!"==S?e.add(T):S==If&&t.add(T)}),i||(v.offset=p/this.duration),r.push(v)});const s=e.size?vx(e.values()):[],c=t.size?vx(t.values()):[];if(i){const d=r[0],p=u0(d);d.offset=0,p.offset=1,r=[d,p]}return jR(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class $8 extends xx{constructor(e,t,i,r,s,c,d=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,d=t/c,p=vm(e[0],!1);p.offset=0,s.push(p);const v=vm(e[0],!1);v.offset=M2(d),s.push(v);const T=e.length-1;for(let S=1;S<=T;S++){let P=vm(e[S],!1);P.offset=M2((t+P.offset*i)/c),s.push(P)}i=c,t=0,r="",e=s}return jR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function M2(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class $R{}class W8 extends $R{normalizePropertyName(e,t){return BR(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(q8[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function U4(n,e){return new o.vHH(3005,On)}())}return c+s}}const q8=(()=>function Z8(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function k2(n,e,t,i,r,s,c,d,p,v,T,S,P){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:v,postStyleProps:T,totalTime:S,errors:P}}const GR={};class O2{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Y8(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],c=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):c}build(e,t,i,r,s,c,d,p,v,T){const S=[],P=this.ast.options&&this.ast.options.params||GR,$=this.buildStyles(i,d&&d.params||GR,S),oe=p&&p.params||GR,_e=this.buildStyles(r,oe,S),Je=new Set,st=new Map,rt=new Map,ot="void"===r,Yt={params:Object.assign(Object.assign({},P),oe)},nn=T?[]:HR(e,t,this.ast.animation,s,c,$,_e,Yt,v,S);let Rn=0;if(nn.forEach(Ml=>{Rn=Math.max(Ml.duration+Ml.delay,Rn)}),S.length)return k2(t,this._triggerName,i,r,ot,$,_e,[],[],st,rt,Rn,S);nn.forEach(Ml=>{const Pf=Ml.element,WH=Il(st,Pf,{});Ml.preStyleProps.forEach(Ly=>WH[Ly]=!0);const iT=Il(rt,Pf,{});Ml.postStyleProps.forEach(Ly=>iT[Ly]=!0),Pf!==t&&Je.add(Pf)});const jr=vx(Je.values());return k2(t,this._triggerName,i,r,ot,$,_e,nn,jr,st,rt,Rn)}}class K8{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=u0(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(d=>{let p=c[d];p.length>1&&(p=yx(p,r,t));const v=this.normalizer.normalizePropertyName(d,t);p=this.normalizer.normalizeStyleValue(d,v,p,t),i[v]=p})}}),i}}class J8{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new K8(r.style,r.options&&r.options.params||{},i)}),R2(this.states,"true","1"),R2(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new O2(e,r,this.states))}),this.fallbackTransition=function X8(n,e,t){return new O2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function R2(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const eW=new Sx;class tW{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=VR(this._driver,t,i,[]);if(i.length)throw function r8(n){return new o.vHH(3503,On)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=d2(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let c;const d=new Map;if(s?(c=HR(this._driver,t,s,PR,px,{},{},i,eW,r),c.forEach(T=>{const S=Il(d,T.element,{});T.postStyleProps.forEach(P=>S[P]=null)})):(r.push(function s8(){return new o.vHH(3300,On)}()),c=[]),r.length)throw function o8(n){return new o.vHH(3504,On)}();d.forEach((T,S)=>{Object.keys(T).forEach(P=>{T[P]=this._driver.computeStyle(S,P,If)})});const v=ym(c.map(T=>{const S=d.get(T.element);return this._buildPlayer(T,{},S)}));return this._playersById[e]=v,v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function a8(n){return new o.vHH(3301,On)}();return t}listen(e,t,i,r){const s=MR(t,"","","");return xR(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const P2="ng-animate-queued",WR="ng-animate-disabled",oW=[],N2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wc="__ng_removed";class qR{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function dW(n){return null!=n?n:null}(i?e.value:e),i){const s=u0(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const eI="void",ZR=new qR(eI);class lW{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ec(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function l8(n,e){return new o.vHH(3302,On)}();if(null==i||0==i.length)throw function c8(n){return new o.vHH(3303,On)}();if(!function hW(n){return"start"==n||"done"==n}(i))throw function u8(n,e){return new o.vHH(3400,On)}();const s=Il(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const d=Il(this._engine.statesByElement,e,{});return d.hasOwnProperty(t)||(Ec(e,mx),Ec(e,mx+"-"+t),d[t]=ZR),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers[t]||delete d[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function d8(n){return new o.vHH(3401,On)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new YR(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(Ec(e,mx),Ec(e,mx+"-"+t),this._engine.statesByElement.set(e,d={}));let p=d[t];const v=new qR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&v.absorbOptions(p.options),d[t]=v,p||(p=ZR),v.value!==eI&&p.value===v.value){if(!function mW(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,v.params)){const oe=[],_e=s.matchStyles(p.value,p.params,oe),Je=s.matchStyles(v.value,v.params,oe);oe.length?this._engine.reportError(oe):this._engine.afterFlush(()=>{ay(e,_e),Yd(e,Je)})}return}const P=Il(this._engine.playersByElement,e,[]);P.forEach(oe=>{oe.namespaceId==this.id&&oe.triggerName==t&&oe.queued&&oe.destroy()});let j=s.matchTransition(p.value,v.value,e,v.params),$=!1;if(!j){if(!r)return;j=s.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:j,fromState:p,toState:v,player:c,isFallbackTransition:$}),$||(Ec(e,P2),c.onStart(()=>{d0(e,P2)})),c.onDone(()=>{let oe=this.players.indexOf(c);oe>=0&&this.players.splice(oe,1);const _e=this._engine.playersByElement.get(e);if(_e){let Je=_e.indexOf(c);Je>=0&&_e.splice(Je,1)}}),this.players.push(c),P.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,gx,!0);i.forEach(r=>{if(r[wc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const d=[];if(Object.keys(s).forEach(p=>{if(c.set(p,s[p].value),this._triggers[p]){const v=this.trigger(e,p,eI,r);v&&d.push(v)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&ym(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers[c].fallbackTransition,v=i[c]||ZR,T=new qR(eI),S=new YR(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:v,toState:T,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[wc];(!s||s===N2)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ec(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=MR(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,xR(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class cW{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new lW(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let c=!1;if(void 0!==this.driver.getParentElement){let d=this.driver.getParentElement(t);for(;d;){const p=r.get(d);if(p){const v=i.indexOf(p);i.splice(v+1,0,e),c=!0;break}d=this.driver.getParentElement(d)}}else for(let d=s;d>=0;d--)if(this.driver.containsElement(i[d].hostElement,t)){i.splice(d+1,0,e),c=!0;break}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const d=this._fetchNamespace(c);d&&t.add(d)}}}return t}trigger(e,t,i,r){if(Ax(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Ax(t))return;const s=t[wc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ec(e,WR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),d0(e,WR))}removeNode(e,t,i,r){if(Ax(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[wc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Ax(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,gx,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,NR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ym(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[wc];if(i&&i.setForRemoval){if(e[wc]=N2,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(WR))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ec(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ym(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function h8(n){return new o.vHH(3402,On)}()}_flushAnimations(e,t){const i=new Sx,r=[],s=new Map,c=[],d=new Map,p=new Map,v=new Map,T=new Set;this.disabledNodes.forEach(Ft=>{T.add(Ft);const Wt=this.driver.query(Ft,".ng-animate-queued",!0);for(let rn=0;rn<Wt.length;rn++)T.add(Wt[rn])});const S=this.bodyNode,P=Array.from(this.statesByElement.keys()),j=B2(P,this.collectedEnterElements),$=new Map;let oe=0;j.forEach((Ft,Wt)=>{const rn=PR+oe++;$.set(Wt,rn),Ft.forEach(Gn=>Ec(Gn,rn))});const _e=[],Je=new Set,st=new Set;for(let Ft=0;Ft<this.collectedLeaveElements.length;Ft++){const Wt=this.collectedLeaveElements[Ft],rn=Wt[wc];rn&&rn.setForRemoval&&(_e.push(Wt),Je.add(Wt),rn.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(Gn=>Je.add(Gn)):st.add(Wt))}const rt=new Map,ot=B2(P,Array.from(Je));ot.forEach((Ft,Wt)=>{const rn=px+oe++;rt.set(Wt,rn),Ft.forEach(Gn=>Ec(Gn,rn))}),e.push(()=>{j.forEach((Ft,Wt)=>{const rn=$.get(Wt);Ft.forEach(Gn=>d0(Gn,rn))}),ot.forEach((Ft,Wt)=>{const rn=rt.get(Wt);Ft.forEach(Gn=>d0(Gn,rn))}),_e.forEach(Ft=>{this.processLeaveNode(Ft)})});const Yt=[],nn=[];for(let Ft=this._namespaceList.length-1;Ft>=0;Ft--)this._namespaceList[Ft].drainQueuedTransitions(t).forEach(rn=>{const Gn=rn.player,Ws=rn.element;if(Yt.push(Gn),this.collectedEnterElements.length){const pa=Ws[wc];if(pa&&pa.setForMove){if(pa.previousTriggersValues&&pa.previousTriggersValues.has(rn.triggerName)){const By=pa.previousTriggersValues.get(rn.triggerName),Vm=this.statesByElement.get(rn.element);Vm&&Vm[rn.triggerName]&&(Vm[rn.triggerName].value=By)}return void Gn.destroy()}}const rh=!S||!this.driver.containsElement(S,Ws),kl=rt.get(Ws),Bm=$.get(Ws),hr=this._buildInstruction(rn,i,Bm,kl,rh);if(hr.errors&&hr.errors.length)return void nn.push(hr);if(rh)return Gn.onStart(()=>ay(Ws,hr.fromStyles)),Gn.onDestroy(()=>Yd(Ws,hr.toStyles)),void r.push(Gn);if(rn.isFallbackTransition)return Gn.onStart(()=>ay(Ws,hr.fromStyles)),Gn.onDestroy(()=>Yd(Ws,hr.toStyles)),void r.push(Gn);const YH=[];hr.timelines.forEach(pa=>{pa.stretchStartingKeyframe=!0,this.disabledNodes.has(pa.element)||YH.push(pa)}),hr.timelines=YH,i.append(Ws,hr.timelines),c.push({instruction:hr,player:Gn,element:Ws}),hr.queriedElements.forEach(pa=>Il(d,pa,[]).push(Gn)),hr.preStyleProps.forEach((pa,By)=>{const Vm=Object.keys(pa);if(Vm.length){let Vy=p.get(By);Vy||p.set(By,Vy=new Set),Vm.forEach(jN=>Vy.add(jN))}}),hr.postStyleProps.forEach((pa,By)=>{const Vm=Object.keys(pa);let Vy=v.get(By);Vy||v.set(By,Vy=new Set),Vm.forEach(jN=>Vy.add(jN))})});if(nn.length){const Ft=[];nn.forEach(Wt=>{Ft.push(function f8(n,e){return new o.vHH(3505,On)}())}),Yt.forEach(Wt=>Wt.destroy()),this.reportError(Ft)}const Rn=new Map,jr=new Map;c.forEach(Ft=>{const Wt=Ft.element;i.has(Wt)&&(jr.set(Wt,Wt),this._beforeAnimationBuild(Ft.player.namespaceId,Ft.instruction,Rn))}),r.forEach(Ft=>{const Wt=Ft.element;this._getPreviousPlayers(Wt,!1,Ft.namespaceId,Ft.triggerName,null).forEach(Gn=>{Il(Rn,Wt,[]).push(Gn),Gn.destroy()})});const Ml=_e.filter(Ft=>U2(Ft,p,v)),Pf=new Map;L2(Pf,this.driver,st,v,If).forEach(Ft=>{U2(Ft,p,v)&&Ml.push(Ft)});const iT=new Map;j.forEach((Ft,Wt)=>{L2(iT,this.driver,new Set(Ft),p,"!")}),Ml.forEach(Ft=>{const Wt=Pf.get(Ft),rn=iT.get(Ft);Pf.set(Ft,Object.assign(Object.assign({},Wt),rn))});const Ly=[],qH=[],ZH={};c.forEach(Ft=>{const{element:Wt,player:rn,instruction:Gn}=Ft;if(i.has(Wt)){if(T.has(Wt))return rn.onDestroy(()=>Yd(Wt,Gn.toStyles)),rn.disabled=!0,rn.overrideTotalTime(Gn.totalTime),void r.push(rn);let Ws=ZH;if(jr.size>1){let kl=Wt;const Bm=[];for(;kl=kl.parentNode;){const hr=jr.get(kl);if(hr){Ws=hr;break}Bm.push(kl)}Bm.forEach(hr=>jr.set(hr,Ws))}const rh=this._buildAnimation(rn.namespaceId,Gn,Rn,s,iT,Pf);if(rn.setRealPlayer(rh),Ws===ZH)Ly.push(rn);else{const kl=this.playersByElement.get(Ws);kl&&kl.length&&(rn.parentPlayer=ym(kl)),r.push(rn)}}else ay(Wt,Gn.fromStyles),rn.onDestroy(()=>Yd(Wt,Gn.toStyles)),qH.push(rn),T.has(Wt)&&r.push(rn)}),qH.forEach(Ft=>{const Wt=s.get(Ft.element);if(Wt&&Wt.length){const rn=ym(Wt);Ft.setRealPlayer(rn)}}),r.forEach(Ft=>{Ft.parentPlayer?Ft.syncPlayerEvents(Ft.parentPlayer):Ft.destroy()});for(let Ft=0;Ft<_e.length;Ft++){const Wt=_e[Ft],rn=Wt[wc];if(d0(Wt,px),rn&&rn.hasAnimation)continue;let Gn=[];if(d.size){let rh=d.get(Wt);rh&&rh.length&&Gn.push(...rh);let kl=this.driver.query(Wt,NR,!0);for(let Bm=0;Bm<kl.length;Bm++){let hr=d.get(kl[Bm]);hr&&hr.length&&Gn.push(...hr)}}const Ws=Gn.filter(rh=>!rh.destroyed);Ws.length?fW(this,Wt,Ws):this.processLeaveNode(Wt)}return _e.length=0,Ly.forEach(Ft=>{this.players.push(Ft),Ft.onDone(()=>{Ft.destroy();const Wt=this.players.indexOf(Ft);this.players.splice(Wt,1)}),Ft.play()}),Ly}elementContainsData(e,t){let i=!1;const r=t[wc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(c=d)}else{const d=this.playersByElement.get(e);if(d){const p=!s||s==eI;d.forEach(v=>{v.queued||!p&&v.triggerName!=r||c.push(v)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const v=p.element,T=v!==s,S=Il(i,v,[]);this._getPreviousPlayers(v,T,c,d,t.toState).forEach(j=>{const $=j.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),j.destroy(),S.push(j)})}ay(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const d=t.triggerName,p=t.element,v=[],T=new Set,S=new Set,P=t.timelines.map($=>{const oe=$.element;T.add(oe);const _e=oe[wc];if(_e&&_e.removedBeforeQueried)return new JC($.duration,$.delay);const Je=oe!==p,st=function pW(n){const e=[];return V2(n,e),e}((i.get(oe)||oW).map(Rn=>Rn.getRealPlayer())).filter(Rn=>!!Rn.element&&Rn.element===oe),rt=s.get(oe),ot=c.get(oe),Yt=d2(0,this._normalizer,0,$.keyframes,rt,ot),nn=this._buildPlayer($,Yt,st);if($.subTimeline&&r&&S.add(oe),Je){const Rn=new YR(e,d,oe);Rn.setRealPlayer(nn),v.push(Rn)}return nn});v.forEach($=>{Il(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function uW(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,$.element,$))}),T.forEach($=>Ec($,w2));const j=ym(P);return j.onDestroy(()=>{T.forEach($=>d0($,w2)),Yd(p,t.toStyles)}),S.forEach($=>{Il(r,$,[]).push(j)}),j}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new JC(e.duration,e.delay)}}class YR{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new JC,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>xR(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Il(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ax(n){return n&&1===n.nodeType}function F2(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function L2(n,e,t,i,r){const s=[];t.forEach(p=>s.push(F2(p)));const c=[];i.forEach((p,v)=>{const T={};p.forEach(S=>{const P=T[S]=e.computeStyle(v,S,r);(!P||0==P.length)&&(v[wc]=aW,c.push(v))}),n.set(v,T)});let d=0;return t.forEach(p=>F2(p,s[d++])),c}function B2(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(d){if(!d)return 1;let p=s.get(d);if(p)return p;const v=d.parentNode;return p=t.has(v)?v:r.has(v)?1:c(v),s.set(d,p),p}return e.forEach(d=>{const p=c(d);1!==p&&t.get(p).push(d)}),t}function Ec(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function d0(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function fW(n,e,t){ym(t).onDone(()=>n.processLeaveNode(e))}function V2(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof c2?V2(i.players,e):e.push(i)}}function U2(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Mx{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new cW(e,t,i),this._timelineEngine=new tW(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],T=VR(this._driver,s,p,[]);if(p.length)throw function n8(n,e){return new o.vHH(3404,On)}();d=function Q8(n,e,t){return new J8(n,e,t)}(r,T,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=h2(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,d]=h2(i);return this._timelineEngine.listen(c,t,d,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _W=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Yd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yd(this._element,this._initialStyles),this._endStyles&&(Yd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ay(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ay(this._element,this._endStyles),this._endStyles=null),Yd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function KR(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];yW(r)&&(e=e||{},e[r]=n[r])}return e}function yW(n){return"display"===n||"position"===n}class j2{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:S2(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class vW{validateStyleProperty(e){return g2(e)}matchesElement(e,t){return!1}containsElement(e,t){return _2(e,t)}getParentElement(e){return OR(e)}query(e,t,i){return y2(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const v={},T=c.filter(P=>P instanceof j2);(function C8(n,e){return 0===n||0===e})(i,r)&&T.forEach(P=>{let j=P.currentSnapshot;Object.keys(j).forEach($=>v[$]=j[$])}),t=function I8(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],c=[];if(i.forEach(d=>{s.hasOwnProperty(d)||c.push(d),s[d]=t[d]}),c.length)for(var r=1;r<e.length;r++){let d=e[r];c.forEach(function(p){d[p]=S2(n,p)})}}return e}(e,t=t.map(P=>vm(P,!1)),v);const S=function gW(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=KR(e[0]),e.length>1&&(i=KR(e[e.length-1]))):e&&(t=KR(e)),t||i?new _W(n,t,i):null}(e,t);return new j2(e,t,p,S)}}let bW=(()=>{class n extends o2{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?a2(t):t;return H2(this._renderer,null,i,"register",[r]),new wW(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(be))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class wW extends class k4{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new EW(this._id,e,t||{},this._renderer)}}class EW{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return H2(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function H2(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const z2="@.disabled";let CW=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=null==c?void 0:c.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(s);return T||(T=new $2("",s,this.engine),this._rendererCache.set(s,T)),T}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const p=T=>{Array.isArray(T)?T.forEach(p):this.engine.registerTrigger(c,d,t,T.name,T)};return i.data.animation.forEach(p),new IW(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(Mx),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class $2{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==z2?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class IW extends $2{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==z2?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function TW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function SW(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let DW=(()=>{class n extends Mx{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(be),o.LFG(RR),o.LFG($R))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Is=new o.OlP("AnimationModuleType"),G2=[{provide:o2,useClass:bW},{provide:$R,useFactory:function xW(){return new W8}},{provide:Mx,useClass:DW},{provide:o.FYo,useFactory:function AW(n,e,t){return new CW(n,e,t)},deps:[zn,Mx,o.R0b]}],W2=[{provide:RR,useFactory:()=>new vW},{provide:Is,useValue:"BrowserAnimations"},...G2],MW=[{provide:RR,useClass:v2},{provide:Is,useValue:"NoopAnimations"},...G2];let kW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?MW:W2}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:W2,imports:[Vl]}),n})();const OW=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function RW(){return(0,o.f3M)(be)}}),PW=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let QR,Cu=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new o.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function NW(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?PW.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(OW,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();try{QR="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){QR=!1}let h0,ns=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function O(n){return n===ja}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!QR)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Z2=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Y2(){if(h0)return h0;if("object"!=typeof document||!document)return h0=new Set(Z2),h0;let n=document.createElement("input");return h0=new Set(Z2.filter(e=>(n.setAttribute("type",e),n.type===e))),h0}let nI,cy,JR;function f0(n){return function FW(){if(null==nI&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nI=!0}))}finally{nI=nI||!1}return nI}()?n:!!n.capture}function LW(){if(null==cy){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return cy=!1,cy;if("scrollBehavior"in document.documentElement.style)cy=!0;else{const n=Element.prototype.scrollTo;cy=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return cy}function uy(n){return n.composedPath?n.composedPath()[0]:n.target}function XR(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function bm(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Rx(n,e=Oh.z){return(0,Hi.e)((t,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const v=s;s=null,i.next(v)}};function p(){const v=c+n,T=e.now();if(T<v)return r=this.schedule(void 0,v-T),void i.add(r);d()}t.subscribe((0,Pn.x)(i,v=>{s=v,c=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function eB(n){return ui((e,t)=>n<=t)}var tB=G(5032);function $n(n){return(0,Hi.e)((e,t)=>{(0,_o.Xf)(n).subscribe((0,Pn.x)(t,()=>t.complete(),tB.Z)),!t.closed&&e.subscribe(t)})}function bn(n){return null!=n&&"false"!=`${n}`}function Sl(n,e=0){return function QW(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Px(n){return Array.isArray(n)?n:[n]}function is(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Tf(n){return n instanceof o.SBq?n.nativeElement:n}let nB=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JW=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Tf(t);return new si.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Xt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(nB))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n1=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=bn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Sl(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Rx(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(JW),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Nx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[nB]}),n})();function Fx(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const rB="cdk-describedby-message",Lx="cdk-describedby-host";let sB=0,tq=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+sB++,this._document=t}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const s=r1(i,r);"string"!=typeof i?(oB(i),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,i,r){var s;if(!i||!this._isElementNode(t))return;const c=r1(i,r);if(this._isElementDescribedByMessage(t,c)&&this._removeMessageReference(t,c),"string"==typeof i){const d=this._messageRegistry.get(c);d&&0===d.referenceCount&&this._deleteMessageElement(c)}0===(null===(s=this._messagesContainer)||void 0===s?void 0:s.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var t;const i=this._document.querySelectorAll(`[${Lx}="${this._id}"]`);for(let r=0;r<i.length;r++)this._removeCdkDescribedByReferenceIds(i[r]),i[r].removeAttribute(Lx);null===(t=this._messagesContainer)||void 0===t||t.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");oB(r),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(r1(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){var i,r;null===(r=null===(i=this._messageRegistry.get(t))||void 0===i?void 0:i.messageElement)||void 0===r||r.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=Fx(t,"aria-describedby").filter(r=>0!=r.indexOf(rB));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function XW(n,e,t){const i=Fx(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(Lx,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function eq(n,e,t){const r=Fx(n,e).filter(s=>s!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(Lx)}_isElementDescribedByMessage(t,i){const r=Fx(t,"aria-describedby"),s=this._messageRegistry.get(i),c=s&&s.messageElement.id;return!!c&&-1!=r.indexOf(c)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(be),o.LFG(ns))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function r1(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function oB(n){n.id||(n.id=`${rB}-${sB++}`)}class aB{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Xt.x,this._typeaheadSubscription=_i.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Xt.x,this.change=new Xt.x,e instanceof o.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,sr.b)(t=>this._pressedLetters.push(t)),Rx(e),ui(()=>this._pressedLetters.length>0),(0,Ot.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||bm(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class nq extends aB{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class lB extends aB{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function uB(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function dB(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const lq=new o.OlP("cdk-input-modality-detector-options"),cq={ignoreKeys:[18,17,224,91,16]},p0=f0({passive:!0,capture:!0});let uq=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new ir(null),this._lastTouchMs=0,this._onKeydown=c=>{var d,p;(null===(p=null===(d=this._options)||void 0===d?void 0:d.ignoreKeys)||void 0===p?void 0:p.some(v=>v===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=uy(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(uB(c)?"keyboard":"mouse"),this._mostRecentTarget=uy(c))},this._onTouchstart=c=>{dB(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=uy(c))},this._options=Object.assign(Object.assign({},cq),s),this.modalityDetected=this._modality.pipe(eB(1)),this.modalityChanged=this.modalityDetected.pipe(Rh()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,p0),r.addEventListener("mousedown",this._onMousedown,p0),r.addEventListener("touchstart",this._onTouchstart,p0)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,p0),document.removeEventListener("mousedown",this._onMousedown,p0),document.removeEventListener("touchstart",this._onTouchstart,p0))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ns),o.LFG(o.R0b),o.LFG(be),o.LFG(lq,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dq=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function hq(){return null}}),fq=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let pq=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,i;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(dq,8),o.LFG(o.R0b),o.LFG(be),o.LFG(fq,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mq=new o.OlP("cdk-focus-monitor-default-options"),Bx=f0({passive:!0,capture:!0});let m0=(()=>{class n{constructor(t,i,r,s,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Xt.x,this._rootNodeFocusAndBlurListener=d=>{const p=uy(d),v="focus"===d.type?this._onFocus:this._onBlur;for(let T=p;T;T=T.parentElement)v.call(this,d,T)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(t,i=!1){const r=Tf(t);if(!this._platform.isBrowser||1!==r.nodeType)return Dt(null);const s=function VW(n){if(function BW(){if(null==JR){const n="undefined"!=typeof document?document.head:null;JR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return JR}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new Xt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(t){const i=Tf(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Tf(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=uy(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Bx),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Bx)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($n(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Bx),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Bx),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b),o.LFG(ns),o.LFG(uq),o.LFG(be,8),o.LFG(mq,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gq=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this.cdkFocusChange=new o.vpe}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(m0))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const fB="cdk-high-contrast-black-on-white",pB="cdk-high-contrast-white-on-black",s1="cdk-high-contrast-active";let mB=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(s1),t.remove(fB),t.remove(pB),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(s1),t.add(fB)):2===i&&(t.add(s1),t.add(pB))}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ns),o.LFG(be))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gB=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(mB))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Nx]]}),n})();function _q(n,e){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=o.oxw();o.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function yq(n,e){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.hij("(",t.group.label,")")}}const vq=["*"],wq=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function bq(){return!0}});let ei=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!XR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(mB),o.LFG(wq,8),o.LFG(be))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[tI],tI]}),n})();function g0(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=bn(e)}}}function _0(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function sI(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=bn(e)}}}function Vx(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Sl(t):this.defaultTabIndex}}}function yB(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Xt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}function Eq(n){return class extends n{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new si.y(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}let o1=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Iq{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const vB={enterDuration:225,exitDuration:150},a1=f0({passive:!0}),bB=["mousedown","touchstart"],wB=["mouseup","mouseleave","touchend","touchcancel"];class Sq{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Tf(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},vB),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function xq(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),d=e-r.left,p=t-r.top,v=s.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=d-c+"px",T.style.top=p-c+"px",T.style.height=2*c+"px",T.style.width=2*c+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(T),function Dq(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const S=new Iq(this,T,i);return S.state=0,this._activeRipples.add(S),i.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const P=S===this._mostRecentTransientRipple;S.state=1,!i.persistent&&(!P||!this._isPointerDown)&&S.fadeOut()},v),S}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},vB),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Tf(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(bB))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(wB),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=uB(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!dB(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,a1)})})}_removeTriggerEvents(){this._triggerElement&&(bB.forEach(e=>{this._triggerElement.removeEventListener(e,this,a1)}),this._pointerUpEventsRegistered&&wB.forEach(e=>{this._triggerElement.removeEventListener(e,this,a1)}))}}const Aq=new o.OlP("mat-ripple-global-options");let wm=(()=>{class n{constructor(t,i,r,s,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Sq(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(ns),o.Y36(Aq,8),o.Y36(Is,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),aI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ei],ei]}),n})(),Mq=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Is,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),kq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ei]]}),n})();const EB=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),CB=new o.OlP("MatOptgroup");let Oq=0;class Rq{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let Pq=(()=>{class n{constructor(t,i,r,s){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Oq++,this.onSelectionChange=new o.vpe,this._stateChanges=new Xt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=bn(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!bm(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Rq(this,t))}}return n.\u0275fac=function(t){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),l1=(()=>{class n extends Pq{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(EB,8),o.Y36(CB,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&t&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:vq,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(o.F$t(),o.YNc(0,_q,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,yq,2,1,"span",2),o._UZ(4,"div",3)),2&t&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[Mq,li,wm],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function IB(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),s=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[s]&&s++;return s}return 0}let TB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[aI,Ii,ei,kq]]}),n})();const Fq=["*",[["mat-card-footer"]]],Lq=["*","mat-card-footer"],Bq=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Vq=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let dy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),c1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),SB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Uq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),n})(),hy=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Is,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:Lq,decls:2,vars:0,template:function(t,i){1&t&&(o.F$t(Fq),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),fy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Vq,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,i){1&t&&(o.F$t(Bq),o.Hsn(0),o.TgZ(1,"div",0),o.Hsn(2,1),o.qZA(),o.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),jq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ei],ei]}),n})();const Hq=["*",[["mat-toolbar-row"]]],zq=["*","mat-toolbar-row"],$q=_0(class{constructor(n){this._elementRef=n}});let Gq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Wq=(()=>{class n extends $q{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(ns),o.Y36(be))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,Gq,5),2&t){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:zq,decls:2,vars:0,template:function(t,i){1&t&&(o.F$t(Hq),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),qq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ei],ei]}),n})();const Zq=["mat-button",""],Yq=["*"],Qq=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Jq=_0(g0(sI(class{constructor(n){this._elementRef=n}})));let Em=(()=>{class n extends Jq{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of Qq)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(m0),o.Y36(Is,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&o.Gf(wm,5),2&t){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:Zq,ngContentSelectors:Yq,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&t&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[wm],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),DB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[aI,ei],ei]}),n})();function Xq(n,e){1&n&&(o.TgZ(0,"a",12)(1,"button",13),o._uU(2," Dashboard "),o.qZA()())}function e5(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"a")(1,"button",14),o.NdJ("click",function(){return o.CHM(t),o.oxw().authenticationService.SignOut()}),o._uU(2," Log Out "),o.qZA()()}}function t5(n,e){1&n&&(o.TgZ(0,"a",15)(1,"button",16),o._uU(2," Login "),o.qZA()())}function n5(n,e){1&n&&(o.TgZ(0,"a",17)(1,"button",18),o._uU(2," Sign Up "),o.qZA()())}let lI=(()=>{class n{constructor(t){this.authenticationService=t}ngOnInit(){let t=window.location.href;const i=t.substring(t.lastIndexOf("/")+1);var r=["homeBtn","pokefindBtn","dashboardBtn","logoutBtn","loginBtn","signupBtn"];for(let s=0;s<r.length;s++){const c=r[s];i+"Btn"==c&&(document.getElementById(c).style.borderBottom="10px solid black")}this.selectedPage="home"==i?"Pok\xe9 Home":"pokefind"==i?"Pok\xe9find":"sign-up"==i?"Sign Up":i,1==this.authenticationService.isLoggedIn&&(this.signedIn=!0)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-navbar"]],decls:17,vars:7,consts:[[1,"navbar-wrapper"],[1,"navbar-title"],["id","page-name"],[1,"navbar-contents"],["routerLink","/home"],["id","homeBtn","mat-raised-button",""],["routerLink","/pokefind"],["id","pokefindBtn","mat-raised-button",""],["routerLink","/dashboard",4,"ngIf"],[4,"ngIf"],["routerLink","/login",4,"ngIf"],["routerLink","/sign-up",4,"ngIf"],["routerLink","/dashboard"],["id","dashboardBtn","mat-raised-button",""],["id","logoutBtn","mat-raised-button","",3,"click"],["routerLink","/login"],["id","loginBtn","mat-raised-button",""],["routerLink","/sign-up"],["id","signupBtn","mat-raised-button",""]],template:function(t,i){1&t&&(o.TgZ(0,"mat-toolbar")(1,"div",0)(2,"div",1)(3,"label",2),o._uU(4),o.ALo(5,"titlecase"),o.qZA()(),o.TgZ(6,"div",3)(7,"a",4)(8,"button",5),o._uU(9," Home "),o.qZA()(),o.TgZ(10,"a",6)(11,"button",7),o._uU(12," Pok\xe9find "),o.qZA()(),o.YNc(13,Xq,3,0,"a",8),o.YNc(14,e5,3,0,"a",9),o.YNc(15,t5,3,0,"a",10),o.YNc(16,n5,3,0,"a",11),o.qZA()()()),2&t&&(o.xp6(4),o.Oqu(o.lcZ(5,5,i.selectedPage)),o.xp6(9),o.Q6J("ngIf",i.signedIn),o.xp6(1),o.Q6J("ngIf",i.signedIn),o.xp6(1),o.Q6J("ngIf",!i.signedIn),o.xp6(1),o.Q6J("ngIf",!i.signedIn))},directives:[Wq,Ah,Em,li],pipes:[kc],styles:[".navbar-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;height:auto;justify-content:space-between}.navbar-wrapper[_ngcontent-%COMP%]   .navbar-contents[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.navbar-wrapper[_ngcontent-%COMP%]   .navbar-contents[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.navbar-wrapper[_ngcontent-%COMP%]   .navbar-contents[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   #homeBtn[_ngcontent-%COMP%]{background-color:#fc0328;color:#eee}.navbar-wrapper[_ngcontent-%COMP%]   .navbar-contents[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   #pokefindBtn[_ngcontent-%COMP%]{background-color:#302f30;color:#eee}.navbar-wrapper[_ngcontent-%COMP%]   .navbar-contents[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   #dashboardBtn[_ngcontent-%COMP%]{background-color:#858585;color:#eee}.navbar-wrapper[_ngcontent-%COMP%]   .navbar-contents[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   #logoutBtn[_ngcontent-%COMP%]{background-color:#8a6a43;color:#eee}.navbar-wrapper[_ngcontent-%COMP%]   .navbar-contents[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   #loginBtn[_ngcontent-%COMP%]{background-color:#384196;color:#f7ba6f}.navbar-wrapper[_ngcontent-%COMP%]   .navbar-contents[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   #signupBtn[_ngcontent-%COMP%]{background-color:#490278;color:#c2ed77}"]}),n})(),r5=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home"]],decls:30,vars:0,consts:[[1,"homeBannerWrapper"],[1,"homeBannerTitleWrapper"],[1,"homeBannerTitle"],["src","../../../assets/images/pokebanner.jpeg",1,"homeBannerImg"],[1,"homeBannerTextbox"],["href","https://pokemoncenter.com/",1,"pokemonCenterLink"],[1,"footerIconsWrapper"],["href","https://github.com/KaydanYard"],[1,"fa","fa-github"],["href","#"],[1,"fa","fa-linkedin"],[1,"fa","fa-envelope"]],template:function(t,i){1&t&&(o.TgZ(0,"mat-card")(1,"mat-card-header"),o._UZ(2,"app-navbar"),o.qZA(),o.TgZ(3,"mat-card-content")(4,"div",0)(5,"div",1)(6,"h1",2),o._uU(7,"Pok\xe9find API App"),o.qZA()(),o._UZ(8,"img",3),o.TgZ(9,"div",4)(10,"ul")(11,"li"),o._uU(12," Find Pok\xe9mon and favorite them. Look through their stats and movesets to find the pokemon that suits you. "),o.qZA(),o.TgZ(13,"li"),o._uU(14," Admire your favorited Pok\xe9mon in a list and look at their descriptions. "),o.qZA(),o.TgZ(15,"li"),o._uU(16," Interested in purchasing Pok\xe9mon merchandise? Visit "),o.TgZ(17,"a",5),o._uU(18," The Official Pok\xe9mon Center "),o.qZA(),o._uU(19," to buy official Pok\xe9mon products "),o.qZA()()()()(),o.TgZ(20,"mat-card-footer")(21,"div",6)(22,"a",7),o._UZ(23,"i",8),o.qZA(),o.TgZ(24,"a",9),o._UZ(25,"i",10),o.qZA(),o.TgZ(26,"a",9),o._UZ(27,"i",11),o.qZA()(),o.TgZ(28,"p"),o._uU(29,"\xa9KaydanYard 2022"),o.qZA()()())},directives:[hy,fy,lI,dy,Uq],styles:[".mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:5em;margin-right:5em;align-items:flex-start}.mat-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{margin-bottom:1em}.mat-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   app-navbar[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .homeBannerWrapper[_ngcontent-%COMP%]{position:relative;max-height:700px;overflow:hidden}.mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .homeBannerWrapper[_ngcontent-%COMP%]   .homeBannerTitleWrapper[_ngcontent-%COMP%]{position:absolute;width:100%}.mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .homeBannerWrapper[_ngcontent-%COMP%]   .homeBannerTitleWrapper[_ngcontent-%COMP%]   .homeBannerTitle[_ngcontent-%COMP%]{padding:.5em;text-align:center;font-size:8vw;color:#dadfea;text-shadow:0 0 10px #302f30}.mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .homeBannerWrapper[_ngcontent-%COMP%]   .homeBannerImg[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .homeBannerWrapper[_ngcontent-%COMP%]   .homeBannerTextbox[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px;padding-left:20px;padding-right:20px;background-color:#eee}.mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .homeBannerWrapper[_ngcontent-%COMP%]   .homeBannerTextbox[_ngcontent-%COMP%]   .pokemonCenterLink[_ngcontent-%COMP%]:link, .mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .homeBannerWrapper[_ngcontent-%COMP%]   .homeBannerTextbox[_ngcontent-%COMP%]   .pokemonCenterLink[_ngcontent-%COMP%]:active{color:#fc3503}.mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .homeBannerWrapper[_ngcontent-%COMP%]   .homeBannerTextbox[_ngcontent-%COMP%]   .pokemonCenterLink[_ngcontent-%COMP%]:visited{color:#8a2d01}.mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .homeBannerWrapper[_ngcontent-%COMP%]   .homeBannerTextbox[_ngcontent-%COMP%]   .pokemonCenterLink[_ngcontent-%COMP%]:hover{color:#036bfc}.mat-card[_ngcontent-%COMP%]   .mat-card-footer[_ngcontent-%COMP%]{width:100%;margin:0;text-align:center}.mat-card[_ngcontent-%COMP%]   .mat-card-footer[_ngcontent-%COMP%]   .footerIconsWrapper[_ngcontent-%COMP%]{padding:0px 22vw;justify-content:space-evenly;display:flex}.mat-card[_ngcontent-%COMP%]   .mat-card-footer[_ngcontent-%COMP%]   .footerIconsWrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:0;font-size:32px}.mat-card[_ngcontent-%COMP%]   .mat-card-footer[_ngcontent-%COMP%]   .footerIconsWrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .mat-card[_ngcontent-%COMP%]   .mat-card-footer[_ngcontent-%COMP%]   .footerIconsWrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#fc3503}.mat-card[_ngcontent-%COMP%]   .mat-card-footer[_ngcontent-%COMP%]   .footerIconsWrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#8a2d01}.mat-card[_ngcontent-%COMP%]   .mat-card-footer[_ngcontent-%COMP%]   .footerIconsWrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transition:.5s ease-in-out;font-size:40px;color:#036bfc}"]}),n})();class xB{}class AB{}class Sf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Sf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Sf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Sf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class s5{encodeKey(e){return MB(e)}encodeValue(e){return MB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const a5=/%(\d[a-f0-9])/gi,l5={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function MB(n){return encodeURIComponent(n).replace(a5,(e,t)=>{var i;return null!==(i=l5[t])&&void 0!==i?i:e})}function kB(n){return`${n}`}class Cm{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new s5,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function o5(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(c)||[];p.push(d),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Cm({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(kB(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(kB(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class c5{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function OB(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function RB(n){return"undefined"!=typeof Blob&&n instanceof Blob}function PB(n){return"undefined"!=typeof FormData&&n instanceof FormData}class cI{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function u5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Sf),this.context||(this.context=new c5),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+c}}else this.params=new Cm,this.urlWithParams=t}serializeBody(){return null===this.body?null:OB(this.body)||RB(this.body)||PB(this.body)||function d5(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Cm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||PB(this.body)?null:RB(this.body)?this.body.type||null:OB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Cm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,T=e.params||this.params;const S=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((P,j)=>P.set(j,e.setHeaders[j]),v)),e.setParams&&(T=Object.keys(e.setParams).reduce((P,j)=>P.set(j,e.setParams[j]),T)),new cI(i,r,c,{params:T,headers:v,context:S,reportProgress:p,responseType:s,withCredentials:d})}}var rs=(()=>((rs=rs||{})[rs.Sent=0]="Sent",rs[rs.UploadProgress=1]="UploadProgress",rs[rs.ResponseHeader=2]="ResponseHeader",rs[rs.DownloadProgress=3]="DownloadProgress",rs[rs.Response=4]="Response",rs[rs.User=5]="User",rs))();class u1{constructor(e,t=200,i="OK"){this.headers=e.headers||new Sf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class d1 extends u1{constructor(e={}){super(e),this.type=rs.ResponseHeader}clone(e={}){return new d1({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ux extends u1{constructor(e={}){super(e),this.type=rs.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ux({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class NB extends u1{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function h1(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let jx=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof cI)s=t;else{let p,v;p=r.headers instanceof Sf?r.headers:new Sf(r.headers),r.params&&(v=r.params instanceof Cm?r.params:new Cm({fromObject:r.params})),s=new cI(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=Dt(s).pipe(Ca(p=>this.handler.handle(p)));if(t instanceof cI||"events"===r.observe)return c;const d=c.pipe(ui(p=>p instanceof Ux));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,Ot.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,Ot.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,Ot.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,Ot.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Cm).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,h1(r,i))}post(t,i,r={}){return this.request("POST",t,h1(r,i))}put(t,i,r={}){return this.request("PUT",t,h1(r,i))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(xB))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class FB{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const LB=new o.OlP("HTTP_INTERCEPTORS");let h5=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const f5=/^\)\]\}',?\n/;let BB=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new si.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((j,$)=>r.setRequestHeader(j,$.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const j=t.detectContentTypeHeader();null!==j&&r.setRequestHeader("Content-Type",j)}if(t.responseType){const j=t.responseType.toLowerCase();r.responseType="json"!==j?j:"text"}const s=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const j=r.statusText||"OK",$=new Sf(r.getAllResponseHeaders()),oe=function p5(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new d1({headers:$,status:r.status,statusText:j,url:oe}),c},p=()=>{let{headers:j,status:$,statusText:oe,url:_e}=d(),Je=null;204!==$&&(Je=void 0===r.response?r.responseText:r.response),0===$&&($=Je?200:0);let st=$>=200&&$<300;if("json"===t.responseType&&"string"==typeof Je){const rt=Je;Je=Je.replace(f5,"");try{Je=""!==Je?JSON.parse(Je):null}catch(ot){Je=rt,st&&(st=!1,Je={error:ot,text:Je})}}st?(i.next(new Ux({body:Je,headers:j,status:$,statusText:oe,url:_e||void 0})),i.complete()):i.error(new NB({error:Je,headers:j,status:$,statusText:oe,url:_e||void 0}))},v=j=>{const{url:$}=d(),oe=new NB({error:j,status:r.status||0,statusText:r.statusText||"Unknown Error",url:$||void 0});i.error(oe)};let T=!1;const S=j=>{T||(i.next(d()),T=!0);let $={type:rs.DownloadProgress,loaded:j.loaded};j.lengthComputable&&($.total=j.total),"text"===t.responseType&&!!r.responseText&&($.partialText=r.responseText),i.next($)},P=j=>{let $={type:rs.UploadProgress,loaded:j.loaded};j.lengthComputable&&($.total=j.total),i.next($)};return r.addEventListener("load",p),r.addEventListener("error",v),r.addEventListener("timeout",v),r.addEventListener("abort",v),t.reportProgress&&(r.addEventListener("progress",S),null!==s&&r.upload&&r.upload.addEventListener("progress",P)),r.send(s),i.next({type:rs.Sent}),()=>{r.removeEventListener("error",v),r.removeEventListener("abort",v),r.removeEventListener("load",p),r.removeEventListener("timeout",v),t.reportProgress&&(r.removeEventListener("progress",S),null!==s&&r.upload&&r.upload.removeEventListener("progress",P)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG($t))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const f1=new o.OlP("XSRF_COOKIE_NAME"),p1=new o.OlP("XSRF_HEADER_NAME");class VB{}let m5=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Tn(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(be),o.LFG(o.Lbi),o.LFG(f1))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),m1=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(VB),o.LFG(p1))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),g5=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(LB,[]);this.chain=i.reduceRight((r,s)=>new FB(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(AB),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),_5=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:m1,useClass:h5}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:f1,useValue:t.cookieName}:[],t.headerName?{provide:p1,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[m1,{provide:LB,useExisting:m1,multi:!0},{provide:VB,useClass:m5},{provide:f1,useValue:"XSRF-TOKEN"},{provide:p1,useValue:"X-XSRF-TOKEN"}]}),n})(),y5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[jx,{provide:xB,useClass:g5},BB,{provide:AB,useExisting:BB}],imports:[[_5.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),v5=(()=>{class n{constructor(t){this._http=t}getPokemon(t){return this._http.get("https://pokeapi.co/api/v2/pokemon/"+t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(jx))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var b5=G(1144);const w5=["addListener","removeListener"],E5=["addEventListener","removeEventListener"],C5=["on","off"];function py(n,e,t,i){if((0,fs.m)(t)&&(i=t,t=void 0),i)return py(n,e,t).pipe(rr(i));const[r,s]=function S5(n){return(0,fs.m)(n.addEventListener)&&(0,fs.m)(n.removeEventListener)}(n)?E5.map(c=>d=>n[c](e,d,t)):function I5(n){return(0,fs.m)(n.addListener)&&(0,fs.m)(n.removeListener)}(n)?w5.map(UB(n,e)):function T5(n){return(0,fs.m)(n.on)&&(0,fs.m)(n.off)}(n)?C5.map(UB(n,e)):[];if(!r&&(0,b5.z)(n))return(0,vi.z)(c=>py(c,e,t))((0,_o.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new si.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>s(d)})}function UB(n,e){return t=>i=>n[t](e,i)}const D5=["connectionContainer"],x5=["inputContainer"],A5=["label"];function M5(n,e){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function k5(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){return o.CHM(t),o.oxw().updateOutlineGap()}),o.Hsn(1,1),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function O5(n,e){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const t=o.oxw(2);o.xp6(3),o.Oqu(t._control.placeholder)}}function R5(n,e){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function P5(n,e){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function N5(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(t),o.oxw().updateOutlineGap()}),o.YNc(2,O5,4,1,"ng-container",12),o.YNc(3,R5,1,0,"ng-content",12),o.YNc(4,P5,2,0,"span",22),o.qZA()}if(2&n){const t=o.oxw();o.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),o.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),o.uIk("for",t._control.id)("aria-owns",t._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function F5(n,e){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function L5(n,e){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function B5(n,e){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const t=o.oxw();o.Q6J("@transitionMessages",t._subscriptAnimationState)}}function V5(n,e){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.Q6J("id",t._hintLabelId),o.xp6(1),o.Oqu(t.hintLabel)}}function U5(n,e){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,V5,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const t=o.oxw();o.Q6J("@transitionMessages",t._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",t.hintLabel)}}const j5=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],H5=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],z5=new o.OlP("MatError"),$5={transitionMessages:ry("transitionMessages",[Cl("enter",ur({opacity:1,transform:"translateY(0%)"})),Eu("void => enter",[ur({opacity:0,transform:"translateY(-5px)"}),Zd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Hx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n}),n})();const G5=new o.OlP("MatHint");let g1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),W5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const q5=new o.OlP("MatPrefix"),Z5=new o.OlP("MatSuffix");let jB=0;const K5=_0(class{constructor(n){this._elementRef=n}},"primary"),Q5=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),_1=new o.OlP("MatFormField");let uI=(()=>{class n extends K5{constructor(t,i,r,s,c,d,p){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Xt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+jB++,this._labelId="mat-form-field-label-"+jB++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=bn(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Ni(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe($n(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe($n(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,bc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ni(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ni(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe($n(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,py(this._label.nativeElement,"transitionend").pipe((0,zi.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const T=i.querySelectorAll(`${r}, ${s}`);for(let S=0;S<T.length;S++)T[S].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const p=i.querySelectorAll(r),v=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const T=i.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(T),P=t.children,j=this._getStartEnd(P[0].getBoundingClientRect());let $=0;for(let oe=0;oe<P.length;oe++)$+=P[oe].offsetWidth;c=Math.abs(j-S)-5,d=$>0?.75*$+10:0}for(let T=0;T<p.length;T++)p[T].style.width=`${c}px`;for(let T=0;T<v.length;T++)v[T].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Cu,8),o.Y36(Q5,8),o.Y36(ns),o.Y36(o.R0b),o.Y36(Is,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,Hx,5),o.Suo(r,Hx,7),o.Suo(r,g1,5),o.Suo(r,g1,7),o.Suo(r,W5,5),o.Suo(r,z5,5),o.Suo(r,G5,5),o.Suo(r,q5,5),o.Suo(r,Z5,5)),2&t){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(o.Gf(D5,7),o.Gf(x5,5),o.Gf(A5,5)),2&t){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:_1,useExisting:n}]),o.qOj],ngContentSelectors:H5,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(o.F$t(j5),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,M5,9,0,"ng-container",3),o.YNc(4,k5,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,N5,5,16,"label",8),o.qZA()(),o.YNc(10,F5,2,0,"div",9),o.qZA(),o.YNc(11,L5,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,B5,2,1,"div",12),o.YNc(14,U5,5,2,"div",13),o.qZA()()),2&t&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[li,n1,ci,Pi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[$5.transitionMessages]},changeDetection:0}),n})(),zx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ii,ei,Nx],ei]}),n})();var zB=G(4408);const dI={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=dI;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new _i.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=dI;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=dI;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var $B=G(7565);new class X5 extends $B.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class J5 extends zB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=dI.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(dI.cancelAnimationFrame(t),e._scheduled=void 0)}});let y1,tZ=1;const $x={};function GB(n){return n in $x&&(delete $x[n],!0)}const nZ={setImmediate(n){const e=tZ++;return $x[e]=!0,y1||(y1=Promise.resolve()),y1.then(()=>GB(e)&&n()),e},clearImmediate(n){GB(n)}},{setImmediate:iZ,clearImmediate:rZ}=nZ,Gx={setImmediate(...n){const{delegate:e}=Gx;return((null==e?void 0:e.setImmediate)||iZ)(...n)},clearImmediate(n){const{delegate:e}=Gx;return((null==e?void 0:e.clearImmediate)||rZ)(n)},delegate:void 0};new class oZ extends $B.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class sZ extends zB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Gx.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(Gx.clearImmediate(t),e._scheduled=void 0)}});var cZ=G(3532);function WB(n=0,e,t=Oh.P){let i=-1;return null!=e&&((0,cZ.K)(e)?t=e:i=e),new si.y(r=>{let s=function uZ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function qB(n,e=Oh.z){return function lZ(n){return(0,Hi.e)((e,t)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const v=r;r=null,t.next(v)}c&&t.complete()},p=()=>{s=null,c&&t.complete()};e.subscribe((0,Pn.x)(t,v=>{i=!0,r=v,s||(0,_o.Xf)(n(v)).subscribe(s=(0,Pn.x)(t,d,p))},()=>{c=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>WB(n,e))}let ZB=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Xt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new si.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(qB(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Dt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ui(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Tf(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>py(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b),o.LFG(ns),o.LFG(be,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),my=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Xt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(qB(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ns),o.LFG(o.R0b),o.LFG(be,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),v1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[tI,Wx],tI,Wx]}),n})();class b1{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class YB extends b1{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class qx extends b1{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class fZ extends b1{constructor(e){super(),this.element=e instanceof o.SBq?e.nativeElement:e}}class KB{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof YB?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof qx?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof fZ?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class pZ extends KB{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Zx=(()=>{class n extends KB{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(be))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),w1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const QB=LW();class gZ{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=is(-this._previousScrollPosition.left),e.style.top=is(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),QB&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),QB&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class _Z{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class JB{enable(){}disable(){}attach(){}}function E1(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function XB(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class yZ{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();E1(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let vZ=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new JB,this.close=c=>new _Z(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new gZ(this._viewportRuler,this._document),this.reposition=c=>new yZ(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ZB),o.LFG(my),o.LFG(o.R0b),o.LFG(be))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class eV{constructor(e){if(this.scrollStrategy=new JB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class bZ{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class wZ{constructor(e,t,i,r,s,c,d,p,v){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=v,this._backdropElement=null,this._backdropClick=new Xt.x,this._attachments=new Xt.x,this._detachments=new Xt.x,this._locationChanges=_i.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new Xt.x,this._outsidePointerEvents=new Xt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,zi.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=is(this._config.width),e.height=is(this._config.height),e.minWidth=is(this._config.minWidth),e.minHeight=is(this._config.minHeight),e.maxWidth=is(this._config.maxWidth),e.maxHeight=is(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=Px(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe($n((0,bc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let tV=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||XR()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),XR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(be),o.LFG(ns))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nV="cdk-overlay-connected-position-bounding-box",EZ=/([A-Za-z%]+)$/;class CZ{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Xt.x,this._resizeSubscription=_i.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(nV),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(e,r,d),v=this._getOverlayPoint(p,t,d),T=this._getOverlayFit(v,t,i,d);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(T,v,i)?s.push({position:d,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<T.visibleArea)&&(c={overlayFit:T,overlayPoint:v,originPoint:p,position:d,overlayRect:t})}if(s.length){let d=null,p=-1;for(const v of s){const T=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);T>p&&(p=T,d=v)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gy(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;r="start"==i.originX?c:d}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=rV(t);let{x:c,y:d}=e,p=this._getOffset(r,"x"),v=this._getOffset(r,"y");p&&(c+=p),v&&(d+=v);let P=0-d,j=d+s.height-i.height,$=this._subtractOverflows(s.width,0-c,c+s.width-i.width),oe=this._subtractOverflows(s.height,P,j),_e=$*oe;return{visibleArea:_e,isCompletelyWithinViewport:s.width*s.height===_e,fitsInViewportVertically:oe===s.height,fitsInViewportHorizontally:$==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,c=iV(this._overlayRef.getConfig().minHeight),d=iV(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=d&&d<=s;return(e.fitsInViewportVertically||null!=c&&c<=r)&&v}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=rV(t),s=this._viewportRect,c=Math.max(e.x+r.width-s.width,0),d=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),v=Math.max(s.left-i.left-e.x,0);let T=0,S=0;return T=r.width<=s.width?v||-c:e.x<this._viewportMargin?s.left-i.left-e.x:0,S=r.height<=s.height?p||-d:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:T,y:S},{x:e.x+T,y:e.y+S}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new bZ(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,c,d,T,S,P;if("top"===t.overlayY)c=e.y,s=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)d=i.height-e.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const j=Math.min(i.bottom-e.y+i.top,e.y),$=this._lastBoundingBoxSize.height;s=2*j,c=e.y-j,s>$&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-$/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)P=i.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)S=e.x,T=i.right-e.x;else{const j=Math.min(i.right-e.x+i.left,e.x),$=this._lastBoundingBoxSize.width;T=2*j,S=e.x-j,T>$&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-$/2)}return{top:c,left:S,bottom:d,right:P,width:T,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=is(i.height),r.top=is(i.top),r.bottom=is(i.bottom),r.width=is(i.width),r.left=is(i.left),r.right=is(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=is(s)),c&&(r.maxWidth=is(c))}this._lastBoundingBoxSize=i,gy(this._boundingBox.style,r)}_resetBoundingBoxStyles(){gy(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gy(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();gy(i,this._getExactOverlayY(t,e,T)),gy(i,this._getExactOverlayX(t,e,T))}else i.position="static";let d="",p=this._getOffset(t,"x"),v=this._getOffset(t,"y");p&&(d+=`translateX(${p}px) `),v&&(d+=`translateY(${v}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=is(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=is(c.maxWidth):s&&(i.maxWidth="")),gy(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=is(s.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=is(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:XB(e,i),isOriginOutsideView:E1(e,i),isOverlayClipped:XB(t,i),isOverlayOutsideView:E1(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Px(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof o.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function gy(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function iV(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(EZ);return t&&"px"!==t?null:parseFloat(e)}return n||null}function rV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const sV="cdk-global-overlay-wrapper";class IZ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(sV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),v=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d);e.position=this._cssPosition,e.marginLeft=p?"0":this._leftOffset,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,p?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(sV),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let TZ=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new IZ}flexibleConnectedTo(t){return new CZ(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(my),o.LFG(be),o.LFG(ns),o.LFG(tV))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oV=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(be))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SZ=(()=>{class n extends oV{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(be),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DZ=(()=>{class n extends oV{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=uy(s)},this._clickListener=s=>{const c=uy(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let v=p.length-1;v>-1;v--){const T=p[v];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(c)||T.overlayElement.contains(d))break;const S=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(s)):S.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(be),o.LFG(ns),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xZ=0,y0=(()=>{class n{constructor(t,i,r,s,c,d,p,v,T,S,P){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=v,this._directionality=T,this._location=S,this._outsideClickDispatcher=P}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new eV(t);return c.direction=c.direction||this._directionality.value,new wZ(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+xZ++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new pZ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(vZ),o.LFG(tV),o.LFG(o._Vd),o.LFG(TZ),o.LFG(SZ),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(be),o.LFG(Cu),o.LFG(Ge),o.LFG(DZ))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const AZ=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],aV=new o.OlP("cdk-connected-overlay-scroll-strategy");let lV=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),cV=(()=>{class n{constructor(t,i,r,s,c){this._overlay=t,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=_i.w0.EMPTY,this._attachSubscription=_i.w0.EMPTY,this._detachSubscription=_i.w0.EMPTY,this._positionSubscription=_i.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new qx(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=bn(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=bn(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=bn(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=bn(t)}get push(){return this._push}set push(t){this._push=bn(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=AZ);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!bm(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new eV({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof lV?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function mZ(n,e=!1){return(0,Hi.e)((t,i)=>{let r=0;t.subscribe((0,Pn.x)(i,s=>{const c=n(s,r++);(c||e)&&i.next(s),!c&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(y0),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(aV),o.Y36(Cu,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const kZ={provide:aV,deps:[y0],useFactory:function MZ(n){return()=>n.scrollStrategies.reposition()}};let uV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[y0,kZ],imports:[[tI,w1,v1],v1]}),n})();class OZ{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Xt.x,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}let I1=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fV(...n){const e=(0,Wa.jO)(n),{args:t,keys:i}=qa(n),r=new si.y(s=>{const{length:c}=t;if(!c)return void s.complete();const d=new Array(c);let p=c,v=c;for(let T=0;T<c;T++){let S=!1;(0,_o.Xf)(t[T]).subscribe((0,Pn.x)(s,P=>{S||(S=!0,v--),d[T]=P},()=>p--,void 0,()=>{(!p||!S)&&(v||s.next(i?zf(i,d):d),s.complete())}))}});return e?r.pipe(rr(e)):r}function Im(n){return null==n||0===n.length}function gV(n){return null!=n&&"number"==typeof n.length}const ro=new o.OlP("NgValidators"),Tm=new o.OlP("NgAsyncValidators"),LZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class v0{static min(e){return function _V(n){return e=>{if(Im(e.value)||Im(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function yV(n){return e=>{if(Im(e.value)||Im(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function vV(n){return Im(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function bV(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function wV(n){return Im(n.value)||LZ.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function EV(n){return e=>Im(e.value)||!gV(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function CV(n){return e=>gV(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function IV(n){if(!n)return Yx;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Im(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return MV(e)}static composeAsync(e){return kV(e)}}function Yx(n){return null}function TV(n){return null!=n}function SV(n){const e=(0,o.QGY)(n)?(0,Jn.D)(n):n;return(0,o.CqO)(e),e}function DV(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function xV(n,e){return e.map(t=>t(n))}function AV(n){return n.map(e=>function BZ(n){return!n.validate}(e)?e:t=>e.validate(t))}function MV(n){if(!n)return null;const e=n.filter(TV);return 0==e.length?null:function(t){return DV(xV(t,e))}}function S1(n){return null!=n?MV(AV(n)):null}function kV(n){if(!n)return null;const e=n.filter(TV);return 0==e.length?null:function(t){return fV(xV(t,e).map(SV)).pipe((0,Ot.U)(DV))}}function D1(n){return null!=n?kV(AV(n)):null}function OV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function RV(n){return n._rawValidators}function PV(n){return n._rawAsyncValidators}function x1(n){return n?Array.isArray(n)?n:[n]:[]}function Kx(n,e){return Array.isArray(n)?n.includes(e):n===e}function NV(n,e){const t=x1(e);return x1(n).forEach(r=>{Kx(t,r)||t.push(r)}),t}function FV(n,e){return x1(e).filter(t=>!Kx(n,t))}class LV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=S1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=D1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Kd extends LV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class la extends LV{get formDirective(){return null}get path(){return null}}function fI(n,e){k1(n,e),e.valueAccessor.writeValue(n.value),function ZZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&UV(n,e)})}(n,e),function KZ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function YZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&UV(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function qZ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Xx(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),tA(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function eA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function k1(n,e){const t=RV(n);null!==e.validator?n.setValidators(OV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=PV(n);null!==e.asyncValidator?n.setAsyncValidators(OV(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();eA(e._rawValidators,r),eA(e._rawAsyncValidators,r)}function tA(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=RV(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=PV(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return eA(e._rawValidators,i),eA(e._rawAsyncValidators,i),t}function UV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jV(n,e){k1(n,e)}function zV(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function P1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const pI="VALID",nA="INVALID",b0="PENDING",mI="DISABLED";function F1(n){return(iA(n)?n.validators:n)||null}function $V(n){return Array.isArray(n)?S1(n):n||null}function L1(n,e){return(iA(e)?e.asyncValidators:n)||null}function GV(n){return Array.isArray(n)?D1(n):n||null}function iA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const WV=n=>n instanceof gI,B1=n=>n instanceof U1;function qV(n){return WV(n)?n.value:n.getRawValue()}function ZV(n,e){const t=B1(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[e])throw new o.vHH(1001,"")}function YV(n,e){B1(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,"")})}class V1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=$V(this._rawValidators),this._composedAsyncValidatorFn=GV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===pI}get invalid(){return this.status===nA}get pending(){return this.status==b0}get disabled(){return this.status===mI}get enabled(){return this.status!==mI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=$V(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=GV(e)}addValidators(e){this.setValidators(NV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(NV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FV(e,this._rawAsyncValidators))}hasValidator(e){return Kx(this._rawValidators,e)}hasAsyncValidator(e){return Kx(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=b0,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mI,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pI,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pI||this.status===b0)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mI:pI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=b0,this._hasOwnPendingAsyncValidator=!0;const t=SV(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function eY(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=B1(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof nY)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?mI:this.errors?nA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(b0)?b0:this._anyControlsHaveStatus(nA)?nA:pI}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){iA(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gI extends V1{constructor(e=null,t,i){super(F1(t),L1(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),iA(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){P1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){P1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class U1 extends V1{constructor(e,t,i){super(F1(t),L1(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){YV(this,e),Object.keys(e).forEach(i=>{ZV(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=qV(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class nY extends V1{constructor(e,t,i){super(F1(t),L1(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){YV(this,e),e.forEach((i,r)=>{ZV(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>qV(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const iY={provide:la,useExisting:(0,o.Gpc)(()=>yI)},_I=(()=>Promise.resolve(null))();let yI=(()=>{class n extends la{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new U1({},S1(t),D1(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){_I.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),fI(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){_I.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){_I.then(()=>{const i=this._findContainer(t.path),r=new U1({});jV(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){_I.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){_I.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,zV(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ro,10),o.Y36(Tm,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([iY]),o.qOj]}),n})(),tU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const j1=new o.OlP("NgModelWithFormControlWarning"),hY={provide:la,useExisting:(0,o.Gpc)(()=>vI)};let vI=(()=>{class n extends la{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return fI(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Xx(t.control||null,t,!1),P1(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,zV(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Xx(i||null,t),WV(r)&&(fI(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);jV(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function QZ(n,e){return tA(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){k1(this.form,this),this._oldForm&&tA(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ro,10),o.Y36(Tm,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([hY]),o.qOj,o.TTD]}),n})(),_U=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[tU]]}),n})(),kY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[_U]}),n})(),OY=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:j1,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[_U]}),n})();const RY=["trigger"],PY=["panel"];function NY(n,e){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Oqu(t.placeholder)}}function FY(n,e){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Oqu(t.triggerValue)}}function LY(n,e){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function BY(n,e){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,FY,2,1,"span",10),o.YNc(2,LY,1,0,"ng-content",11),o.qZA()),2&n){const t=o.oxw();o.Q6J("ngSwitch",!!t.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function VY(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",13)(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){return o.CHM(t),o.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return o.CHM(t),o.oxw()._handleKeydown(r)}),o.Hsn(3,1),o.qZA()()}if(2&n){const t=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",t._getPanelTheme(),""),o.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),o.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),o.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const UY=[[["mat-select-trigger"]],"*"],jY=["mat-select-trigger","*"],yU={transformPanelWrap:ry("transformPanelWrap",[Eu("* => void",P4("@transformPanel",[R4()],{optional:!0}))]),transformPanel:ry("transformPanel",[Cl("void",ur({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Cl("showing",ur({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Cl("showing-multiple",ur({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Eu("void => *",Zd("120ms cubic-bezier(0, 0, 0.2, 1)")),Eu("* => void",Zd("100ms 25ms linear",ur({opacity:0})))])};let vU=0;const wU=new o.OlP("mat-select-scroll-strategy"),GY=new o.OlP("MAT_SELECT_CONFIG"),WY={provide:wU,deps:[y0],useFactory:function $Y(n){return()=>n.scrollStrategies.reposition()}};class qY{constructor(e,t){this.source=e,this.value=t}}const ZY=sI(Vx(g0(yB(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r}})))),YY=new o.OlP("MatSelectTrigger");let KY=(()=>{class n extends ZY{constructor(t,i,r,s,c,d,p,v,T,S,P,j,$,oe){var _e,Je,st;super(c,s,p,v,S),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=T,this._liveAnnouncer=$,this._defaultOptions=oe,this._panelOpen=!1,this._compareWith=(rt,ot)=>rt===ot,this._uid="mat-select-"+vU++,this._triggerAriaLabelledBy=null,this._destroy=new Xt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+vU++,this._panelDoneAnimatingStream=new Xt.x,this._overlayPanelClass=(null===(_e=this._defaultOptions)||void 0===_e?void 0:_e.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(st=null===(Je=this._defaultOptions)||void 0===Je?void 0:Je.disableOptionCentering)&&void 0!==st&&st,this.ariaLabel="",this.optionSelectionChanges=zc(()=>{const rt=this.options;return rt?rt.changes.pipe(Ni(rt),yi(()=>(0,bc.T)(...rt.map(ot=>ot.onSelectionChange)))):this._ngZone.onStable.pipe((0,zi.q)(1),yi(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(ui(rt=>rt),(0,Ot.U)(()=>{})),this._closedStream=this.openedChange.pipe(ui(rt=>!rt),(0,Ot.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==oe?void 0:oe.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=oe.typeaheadDebounceInterval),this._scrollStrategyFactory=j,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(P)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,i,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(v0.required))&&void 0!==s&&s}set required(t){this._required=bn(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=bn(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=bn(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Sl(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new OZ(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Rh(),$n(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe($n(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ni(null),$n(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,i;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&s&&!bm(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(t);const p=this.selected;p&&d!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,s=40===r||38===r,c=i.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||bm(t))if(!c&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const d=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(d?p.select():p.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(t),this._multiple&&s&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,zi.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch(s){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new nq(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe($n(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe($n(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,bc.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe($n(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,bc.T)(...this.options.map(i=>i._stateChanges)).pipe($n(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(my),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(o1),o.Y36(o.SBq),o.Y36(Cu,8),o.Y36(yI,8),o.Y36(vI,8),o.Y36(_1,8),o.Y36(Kd,10),o.$8M("tabindex"),o.Y36(wU),o.Y36(pq),o.Y36(GY,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(t,i){if(1&t&&(o.Gf(RY,5),o.Gf(PY,5),o.Gf(cV,5)),2&t){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),EU=(()=>{class n extends KY{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*t-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe($n(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,zi.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=IB(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:function Nq(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}((t+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new qY(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let v=this._selectionModel.selected[0]||this.options.first;c=v&&v.group?32:16}r||(c*=-1);const d=0-(t.left+c-(r?s:0)),p=t.right+c-i.width+(r?0:s);d>0?c+=d+8:p>0&&(c-=p+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,r){const s=this._getItemHeight(),c=(s-this._triggerRect.height)/2,d=Math.floor(256/s);let p;return this.disableOptionCentering?0:(p=0===this._scrollTop?t*s:this._scrollTop===r?(t-(this._getItemCount()-d))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*p-c))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,c=r.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),v=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;v>c?this._adjustPanelUp(v,c):d>s?this._adjustPanelDown(d,s,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const r=Math.round(t-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,r){const s=Math.round(t-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*t,256),c=i*t-r;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=IB(d,this.options,this.optionGroups);const p=r/2;this._scrollTop=this._calculateOverlayScroll(d,p,c),this._offsetY=this._calculateOverlayOffsetY(d,p,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,YY,5),o.Suo(r,l1,5),o.Suo(r,CB,5)),2&t){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,i){1&t&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:Hx,useExisting:n},{provide:EB,useExisting:n}]),o.qOj],ngContentSelectors:jY,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(o.F$t(UY),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,NY,2,1,"span",3),o.YNc(5,BY,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA()(),o.YNc(8,VY,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[lV,ci,Pi,_a,cV,pi],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[yU.transformPanelWrap,yU.transformPanel]},changeDetection:0}),n})(),CU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[WY],imports:[[Ii,uV,TB,ei],Wx,zx,TB,ei]}),n})();const IU=f0({passive:!0});let QY=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ea.E;const i=Tf(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Xt.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,IU),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,IU)}}),s}stopMonitoring(t){const i=Tf(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ns),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const JY=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),XY=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let eK=0;const tK=yB(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let sA=(()=>{class n extends tK{constructor(t,i,r,s,c,d,p,v,T,S){super(d,s,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=v,this._formField=S,this._uid="mat-input-"+eK++,this.focused=!1,this.stateChanges=new Xt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter($=>Y2().has($)),this._iOSKeyupListener=$=>{const oe=$.target;!oe.value&&0===oe.selectionStart&&0===oe.selectionEnd&&(oe.setSelectionRange(1,1),oe.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,j=P.nodeName.toLowerCase();this._inputValueAccessor=p||P,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&T.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===j,this._isTextarea="textarea"===j,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=bn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(v0.required))&&void 0!==s&&s}set required(t){this._required=bn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Y2().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=bn(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){XY.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(ns),o.Y36(Kd,10),o.Y36(yI,8),o.Y36(vI,8),o.Y36(o1),o.Y36(JY,10),o.Y36(QY),o.Y36(o.R0b),o.Y36(_1,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:Hx,useExisting:n}]),o.qOj,o.TTD]}),n})(),nK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[o1],imports:[[TU,zx,ei],TU,zx]}),n})();function iK(n,e){1&n&&o.Hsn(0)}const SU=["*"];function rK(n,e){}const sK=function(n){return{animationDuration:n}},oK=function(n,e){return{value:n,params:e}},aK=["tabListContainer"],lK=["tabList"],cK=["tabListInner"],uK=["nextPaginator"],dK=["previousPaginator"],hK=["tabBodyWrapper"],fK=["tabHeader"];function pK(n,e){}function mK(n,e){if(1&n&&o.YNc(0,pK,0,0,"ng-template",10),2&n){const t=o.oxw().$implicit;o.Q6J("cdkPortalOutlet",t.templateLabel)}}function gK(n,e){if(1&n&&o._uU(0),2&n){const t=o.oxw().$implicit;o.Oqu(t.textLabel)}}function _K(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(){const r=o.CHM(t),s=r.$implicit,c=r.index,d=o.oxw(),p=o.MAs(1);return d._handleClick(s,p,c)})("cdkFocusChange",function(r){const c=o.CHM(t).index;return o.oxw()._tabFocusChanged(r,c)}),o.TgZ(1,"div",7),o.YNc(2,mK,1,1,"ng-template",8),o.YNc(3,gK,1,1,"ng-template",null,9,o.W1O),o.qZA()()}if(2&n){const t=e.$implicit,i=e.index,r=o.MAs(4),s=o.oxw();o.ekj("mat-tab-label-active",s.selectedIndex===i),o.Q6J("id",s._getTabLabelId(i))("ngClass",t.labelClass)("disabled",t.disabled)("matRippleDisabled",t.disabled||s.disableRipple),o.uIk("tabIndex",s._getTabIndex(t,i))("aria-posinset",i+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(i))("aria-selected",s.selectedIndex===i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),o.xp6(2),o.Q6J("ngIf",t.templateLabel)("ngIfElse",r)}}function yK(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"mat-tab-body",11),o.NdJ("_onCentered",function(){return o.CHM(t),o.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(r){return o.CHM(t),o.oxw()._setTabBodyWrapperHeight(r)}),o.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=o.oxw();o.ekj("mat-tab-body-active",r.selectedIndex===i),o.Q6J("id",r._getTabContentId(i))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration),o.uIk("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const vK=new o.OlP("MatInkBarPositioner",{providedIn:"root",factory:function bK(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let DU=(()=>{class n{constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=s}alignToElement(t){this.show(),this._ngZone.onStable.pipe((0,zi.q)(1)).subscribe(()=>{const i=this._inkBarPositioner(t),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(vK),o.Y36(Is,8))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const wK=new o.OlP("MatTabContent"),EK=new o.OlP("MatTabLabel"),CK=new o.OlP("MAT_TAB"),IK=g0(class{}),xU=new o.OlP("MAT_TAB_GROUP");let AU=(()=>{class n extends IK{constructor(t,i){super(),this._viewContainerRef=t,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new Xt.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new qx(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(xU,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,EK,5),o.Suo(r,wK,7,o.Rgc)),2&t){let s;o.iGM(s=o.CRH())&&(i.templateLabel=s.first),o.iGM(s=o.CRH())&&(i._explicitContent=s.first)}},viewQuery:function(t,i){if(1&t&&o.Gf(o.Rgc,7),2&t){let r;o.iGM(r=o.CRH())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[o._Bn([{provide:CK,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:SU,decls:1,vars:0,template:function(t,i){1&t&&(o.F$t(),o.YNc(0,iK,1,0,"ng-template"))},encapsulation:2}),n})();const TK={translateTab:ry("translateTab",[Cl("center, void, left-origin-center, right-origin-center",ur({transform:"none"})),Cl("left",ur({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Cl("right",ur({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Eu("* => left, * => right, left => center, right => center",Zd("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Eu("void => left-origin-center",[ur({transform:"translate3d(-100%, 0, 0)"}),Zd("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Eu("void => right-origin-center",[ur({transform:"translate3d(100%, 0, 0)"}),Zd("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let SK=(()=>{class n extends Zx{constructor(t,i,r,s){super(t,i,s),this._host=r,this._centeringSub=_i.w0.EMPTY,this._leavingSub=_i.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ni(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36((0,o.Gpc)(()=>MU)),o.Y36(be))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[o.qOj]}),n})(),DK=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._dir=i,this._dirChangeSubscription=_i.w0.EMPTY,this._translateTabComplete=new Xt.x,this._onCentering=new o.vpe,this._beforeCentering=new o.vpe,this._afterLeavingCenter=new o.vpe,this._onCentered=new o.vpe(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.pipe(Rh((s,c)=>s.fromState===c.fromState&&s.toState===c.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const i=this._isCenterPosition(t.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const i=this._getLayoutDirection();return"ltr"==i&&t<=0||"rtl"==i&&t>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(Cu,8),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),MU=(()=>{class n extends DK{constructor(t,i,r){super(t,i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(Cu,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(t,i){if(1&t&&o.Gf(Zx,5),2&t){let r;o.iGM(r=o.CRH())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[o.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,i){1&t&&(o.TgZ(0,"div",0,1),o.NdJ("@translateTab.start",function(s){return i._onTranslateTabStarted(s)})("@translateTab.done",function(s){return i._translateTabComplete.next(s)}),o.YNc(2,rK,0,0,"ng-template",2),o.qZA()),2&t&&o.Q6J("@translateTab",o.WLB(3,oK,i._position,o.VKq(1,sK,i.animationDuration)))},directives:[SK],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[TK.translateTab]}}),n})();const kU=new o.OlP("MAT_TABS_CONFIG"),xK=g0(class{});let OU=(()=>{class n extends xK{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,i){2&t&&(o.uIk("aria-disabled",!!i.disabled),o.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[o.qOj]}),n})();const RU=f0({passive:!0});let kK=(()=>{class n{constructor(t,i,r,s,c,d,p){this._elementRef=t,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=s,this._ngZone=c,this._platform=d,this._animationMode=p,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Xt.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Xt.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new o.vpe,this.indexFocused=new o.vpe,c.runOutsideAngular(()=>{py(t.nativeElement,"mouseleave").pipe($n(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Sl(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){py(this._previousPaginator.nativeElement,"touchstart",RU).pipe($n(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),py(this._nextPaginator.nativeElement,"touchstart",RU).pipe($n(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Dt("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new lB(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,zi.q)(1)).subscribe(r),(0,bc.T)(t,i,this._items.changes).pipe($n(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe($n(this._destroyed)).subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!bm(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const i=this._items?this._items.toArray()[t]:null;return!!i&&!i.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const i=this._items?this._items.toArray()[t]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:c}=i.elementRef.nativeElement;let d,p;"ltr"==this._getLayoutDirection()?(d=s,p=d+c):(p=this._tabListInner.nativeElement.offsetWidth-s,d=p-c);const v=this.scrollDistance,T=this.scrollDistance+r;d<v?this.scrollDistance-=v-d+60:p>T&&(this.scrollDistance+=p-T+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),WB(650,100).pipe($n((0,bc.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(t);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(my),o.Y36(Cu,8),o.Y36(o.R0b),o.Y36(ns),o.Y36(Is,8))},n.\u0275dir=o.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),OK=(()=>{class n extends kK{constructor(t,i,r,s,c,d,p){super(t,i,r,s,c,d,p),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=bn(t)}_itemSelected(t){t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(my),o.Y36(Cu,8),o.Y36(o.R0b),o.Y36(ns),o.Y36(Is,8))},n.\u0275dir=o.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[o.qOj]}),n})(),RK=(()=>{class n extends OK{constructor(t,i,r,s,c,d,p){super(t,i,r,s,c,d,p)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(my),o.Y36(Cu,8),o.Y36(o.R0b),o.Y36(ns),o.Y36(Is,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,OU,4),2&t){let s;o.iGM(s=o.CRH())&&(i._items=s)}},viewQuery:function(t,i){if(1&t&&(o.Gf(DU,7),o.Gf(aK,7),o.Gf(lK,7),o.Gf(cK,7),o.Gf(uK,5),o.Gf(dK,5)),2&t){let r;o.iGM(r=o.CRH())&&(i._inkBar=r.first),o.iGM(r=o.CRH())&&(i._tabListContainer=r.first),o.iGM(r=o.CRH())&&(i._tabList=r.first),o.iGM(r=o.CRH())&&(i._tabListInner=r.first),o.iGM(r=o.CRH())&&(i._nextPaginator=r.first),o.iGM(r=o.CRH())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,i){2&t&&o.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[o.qOj],ngContentSelectors:SU,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"button",0,1),o.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(s){return i._handlePaginatorPress("before",s)})("touchend",function(){return i._stopInterval()}),o._UZ(2,"div",2),o.qZA(),o.TgZ(3,"div",3,4),o.NdJ("keydown",function(s){return i._handleKeydown(s)}),o.TgZ(5,"div",5,6),o.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),o.TgZ(7,"div",7,8),o.Hsn(9),o.qZA(),o._UZ(10,"mat-ink-bar"),o.qZA()(),o.TgZ(11,"button",9,10),o.NdJ("mousedown",function(s){return i._handlePaginatorPress("after",s)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),o._UZ(13,"div",2),o.qZA()),2&t&&(o.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),o.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),o.xp6(5),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),o.xp6(6),o.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),o.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},directives:[wm,n1,DU],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),n})(),PK=0;class NK{}const FK=_0(sI(class{constructor(n){this._elementRef=n}}),"primary");let LK=(()=>{class n extends FK{constructor(t,i,r,s){var c;super(t),this._changeDetectorRef=i,this._animationMode=s,this._tabs=new o.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=_i.w0.EMPTY,this._tabLabelSubscription=_i.w0.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new o.vpe,this.focusChange=new o.vpe,this.animationDone=new o.vpe,this.selectedTabChange=new o.vpe(!0),this._groupId=PK++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=null!==(c=null==r?void 0:r.contentTabIndex)&&void 0!==c?c:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=bn(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Sl(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t+"")?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=Sl(t,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),t&&i.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===t),i||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-t,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const i=this._tabs.toArray();let r;for(let s=0;s<i.length;s++)if(i[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,r=i[s];break}!r&&i[t]&&Promise.resolve().then(()=>{i[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ni(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const i=this._tabHeader;i&&(i.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const i=new NK;return i.index=t,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[t]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,bc.T)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,i,r){t.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(t,i){var r;return t.disabled?null:i===(null!==(r=this._lastFocusedTabIndex)&&void 0!==r?r:this.selectedIndex)?0:-1}_tabFocusChanged(t,i){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(kU,8),o.Y36(Is,8))},n.\u0275dir=o.lG2({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[o.qOj]}),n})(),BK=(()=>{class n extends LK{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(kU,8),o.Y36(Is,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,AU,5),2&t){let s;o.iGM(s=o.CRH())&&(i._allTabs=s)}},viewQuery:function(t,i){if(1&t&&(o.Gf(hK,5),o.Gf(fK,5)),2&t){let r;o.iGM(r=o.CRH())&&(i._tabBodyWrapper=r.first),o.iGM(r=o.CRH())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,i){2&t&&o.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[o._Bn([{provide:xU,useExisting:n}]),o.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,i){1&t&&(o.TgZ(0,"mat-tab-header",0,1),o.NdJ("indexFocused",function(s){return i._focusChanged(s)})("selectFocusedIndex",function(s){return i.selectedIndex=s}),o.YNc(2,_K,5,15,"div",2),o.qZA(),o.TgZ(3,"div",3,4),o.YNc(5,yK,1,10,"mat-tab-body",5),o.qZA()),2&t&&(o.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),o.xp6(2),o.Q6J("ngForOf",i._tabs),o.xp6(1),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),o.xp6(2),o.Q6J("ngForOf",i._tabs))},directives:[RK,MU,mi,OU,wm,gq,pi,li,Zx],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})(),VK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ii,ei,w1,aI,Nx,gB],ei]}),n})();const UK=["*"];let oA;function wI(n){var e;return(null===(e=function jK(){if(void 0===oA&&(oA=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(oA=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return oA}())||void 0===e?void 0:e.createHTML(n))||n}function NU(n){return Error(`Unable to find icon with the name "${n}"`)}function FU(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function LU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class vy{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let aA=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new vy(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const c=this._sanitizer.sanitize(o.q3G.HTML,r);if(!c)throw LU(r);const d=wI(c);return this._addSvgIconConfig(t,i,new vy("",d,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new vy(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw LU(i);const c=wI(s);return this._addSvgIconSetConfig(t,new vy("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,t);if(!i)throw FU(t);const r=this._cachedIconsByUrl.get(i);return r?Dt(lA(r)):this._loadSvgIconFromConfig(new vy(t,null)).pipe((0,sr.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,Ot.U)(s=>lA(s)))}getNamedSvgIcon(t,i=""){const r=BU(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):Qa(NU(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Dt(lA(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Ot.U)(i=>lA(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Dt(r):fV(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Js(d=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(v)),Dt(null)})))).pipe((0,Ot.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw NU(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,t,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,sr.b)(i=>t.svgText=i),(0,Ot.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Dt(null):this._fetchIcon(t).pipe((0,sr.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(wI("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(wI("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:s}=t,c=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function HK(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,r);if(!d)throw FU(r);const p=this._inProgressUrlFetches.get(d);if(p)return p;const v=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,Ot.U)(T=>wI(T)),Gy(()=>this._inProgressUrlFetches.delete(d)),(0,GO.B)());return this._inProgressUrlFetches.set(d,v),v}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(BU(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return $K(s)?new vy(s.url,null,s.options):new vy(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(jx,8),o.LFG(Os),o.LFG(be,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lA(n){return n.cloneNode(!0)}function BU(n,e){return n+":"+e}function $K(n){return!(!n.url||!n.options)}const GK=_0(class{constructor(n){this._elementRef=n}}),WK=new o.OlP("mat-icon-location",{providedIn:"root",factory:function qK(){const n=(0,o.f3M)(be),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),VU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ZK=VU.map(n=>`[${n}]`).join(", "),YK=/^url\(['"]?#(.*?)['"]?\)$/;let UU=(()=>{class n extends GK{constructor(t,i,r,s,c){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._currentIconFetch=_i.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=bn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(ZK),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)VU.forEach(c=>{const d=i[s],p=d.getAttribute(c),v=p?p.match(YK):null;if(v){let T=r.get(d);T||(T=[],r.set(d,T)),T.push({name:c,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,zi.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(aA),o.$8M("aria-hidden"),o.Y36(WK),o.Y36(o.qLn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:UK,decls:1,vars:0,template:function(t,i){1&t&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),KK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ei],ei]}),n})(),QK=0;const Z1=new o.OlP("CdkAccordion");let JK=(()=>{class n{constructor(){this._stateChanges=new Xt.x,this._openCloseAllActions=new Xt.x,this.id="cdk-accordion-"+QK++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=bn(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[o._Bn([{provide:Z1,useExisting:n}]),o.TTD]}),n})(),XK=0,e7=(()=>{class n{constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=_i.w0.EMPTY,this.closed=new o.vpe,this.opened=new o.vpe,this.destroyed=new o.vpe,this.expandedChange=new o.vpe,this.id="cdk-accordion-child-"+XK++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,c)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===c&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=bn(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=bn(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Z1,12),o.Y36(o.sBO),o.Y36(I1))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[o._Bn([{provide:Z1,useValue:void 0}])]}),n})(),t7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const n7=["body"];function r7(n,e){}const s7=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],o7=["mat-expansion-panel-header","*","mat-action-row"];function a7(n,e){if(1&n&&o._UZ(0,"span",2),2&n){const t=o.oxw();o.Q6J("@indicatorRotate",t._getExpandedState())}}const l7=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],c7=["mat-panel-title","mat-panel-description","*"],Y1=new o.OlP("MAT_ACCORDION"),jU="225ms cubic-bezier(0.4,0.0,0.2,1)",HU={indicatorRotate:ry("indicatorRotate",[Cl("collapsed, void",ur({transform:"rotate(0deg)"})),Cl("expanded",ur({transform:"rotate(180deg)"})),Eu("expanded <=> collapsed, void => collapsed",Zd(jU))]),bodyExpansion:ry("bodyExpansion",[Cl("collapsed, void",ur({height:"0px",visibility:"hidden"})),Cl("expanded",ur({height:"*",visibility:"visible"})),Eu("expanded <=> collapsed, void => collapsed",Zd(jU))])};let u7=(()=>{class n{constructor(t){this._template=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),d7=0;const zU=new o.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let $U=(()=>{class n extends e7{constructor(t,i,r,s,c,d,p){super(t,i,r),this._viewContainerRef=s,this._animationMode=d,this._hideToggle=!1,this.afterExpand=new o.vpe,this.afterCollapse=new o.vpe,this._inputChanges=new Xt.x,this._headerId="mat-expansion-panel-header-"+d7++,this._bodyAnimationDone=new Xt.x,this.accordion=t,this._document=c,this._bodyAnimationDone.pipe(Rh((v,T)=>v.fromState===T.fromState&&v.toState===T.toState)).subscribe(v=>{"void"!==v.fromState&&("expanded"===v.toState?this.afterExpand.emit():"collapsed"===v.toState&&this.afterCollapse.emit())}),p&&(this.hideToggle=p.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=bn(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Ni(null),ui(()=>this.expanded&&!this._portal),(0,zi.q)(1)).subscribe(()=>{this._portal=new qx(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Y1,12),o.Y36(o.sBO),o.Y36(I1),o.Y36(o.s_b),o.Y36(be),o.Y36(Is,8),o.Y36(zU,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,u7,5),2&t){let s;o.iGM(s=o.CRH())&&(i._lazyContent=s.first)}},viewQuery:function(t,i){if(1&t&&o.Gf(n7,5),2&t){let r;o.iGM(r=o.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&o.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[o._Bn([{provide:Y1,useValue:void 0}]),o.qOj,o.TTD],ngContentSelectors:o7,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(o.F$t(s7),o.Hsn(0),o.TgZ(1,"div",0,1),o.NdJ("@bodyExpansion.done",function(s){return i._bodyAnimationDone.next(s)}),o.TgZ(3,"div",2),o.Hsn(4,1),o.YNc(5,r7,0,0,"ng-template",3),o.qZA(),o.Hsn(6,2),o.qZA()),2&t&&(o.xp6(1),o.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),o.uIk("aria-labelledby",i._headerId),o.xp6(4),o.Q6J("cdkPortalOutlet",i._portal))},directives:[Zx],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n'],encapsulation:2,data:{animation:[HU.bodyExpansion]},changeDetection:0}),n})();class h7{}const f7=Vx(h7);let GU=(()=>{class n extends f7{constructor(t,i,r,s,c,d,p){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=d,this._parentChangeSubscription=_i.w0.EMPTY;const v=t.accordion?t.accordion._stateChanges.pipe(ui(T=>!(!T.hideToggle&&!T.togglePosition))):Ea.E;this.tabIndex=parseInt(p||"")||0,this._parentChangeSubscription=(0,bc.T)(t.opened,t.closed,v,t._inputChanges.pipe(ui(T=>!!(T.hideToggle||T.disabled||T.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(ui(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),c&&(this.expandedHeight=c.expandedHeight,this.collapsedHeight=c.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:bm(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36($U,1),o.Y36(o.SBq),o.Y36(m0),o.Y36(o.sBO),o.Y36(zU,8),o.Y36(Is,8),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&o.NdJ("click",function(){return i._toggle()})("keydown",function(s){return i._keydown(s)}),2&t&&(o.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),o.Udp("height",i._getHeaderHeight()),o.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[o.qOj],ngContentSelectors:c7,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(o.F$t(l7),o.TgZ(0,"span",0),o.Hsn(1),o.Hsn(2,1),o.Hsn(3,2),o.qZA(),o.YNc(4,a7,1,1,"span",1)),2&t&&(o.xp6(4),o.Q6J("ngIf",i._showToggle()))},directives:[li],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[HU.indicatorRotate]},changeDetection:0}),n})(),p7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),m7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),g7=(()=>{class n extends JK{constructor(){super(...arguments),this._ownHeaders=new o.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=bn(t)}ngAfterContentInit(){this._headers.changes.pipe(Ni(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new lB(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,GU,5),2&t){let s;o.iGM(s=o.CRH())&&(i._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[o._Bn([{provide:Y1,useExisting:n}]),o.qOj]}),n})(),_7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ii,ei,t7,w1]]}),n})();const WU=new Set;let E0,y7=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):b7}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function v7(n){if(!WU.has(n))try{E0||(E0=document.createElement("style"),E0.setAttribute("type","text/css"),document.head.appendChild(E0)),E0.sheet&&(E0.sheet.insertRule(`@media ${n} {body{ }}`,0),WU.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ns))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b7(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let w7=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Xt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return qU(Px(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=Wo(qU(Px(t)).map(c=>this._registerQuery(c).observable));return s=ph(s.pipe((0,zi.q)(1)),s.pipe(eB(1),Rx(0))),s.pipe((0,Ot.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:v})=>{d.matches=d.matches||p,d.breakpoints[v]=p}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new si.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(Ni(i),(0,Ot.U)(({matches:c})=>({query:t,matches:c})),$n(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(y7),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qU(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const C7=["tooltip"],ZU="tooltip-panel",YU=f0({passive:!0}),KU=new o.OlP("mat-tooltip-scroll-strategy"),D7={provide:KU,deps:[y0],useFactory:function S7(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},x7=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function A7(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let M7=(()=>{class n{constructor(t,i,r,s,c,d,p,v,T,S,P,j){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=c,this._platform=d,this._ariaDescriber=p,this._focusMonitor=v,this._dir=S,this._defaultOptions=P,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Xt.x,this._scrollStrategy=T,this._document=j,P&&(P.position&&(this.position=P.position),P.touchGestures&&(this.touchGestures=P.touchGestures)),S.change.pipe($n(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){var i;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=bn(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Sl(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Sl(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe($n(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,YU)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new YB(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe($n(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var t;if(this._overlayRef)return this._overlayRef;const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe($n(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${ZU}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe($n(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe($n(this._destroyed)).subscribe(()=>{var s;return null===(s=this._tooltipInstance)||void 0===s?void 0:s._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe($n(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!bm(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(t=this._defaultOptions)||void 0===t?void 0:t.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),s.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),s.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:c}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:c}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:c}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,zi.q)(1),$n(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:s}=t;let c;if(c="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",c!==this._currentPosition){const d=this._overlayRef;if(d){const p=`${this._cssClassPrefix}-${ZU}-`;d.removePanelClass(p+this._currentPosition),d.addPanelClass(p+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{var r;const s=i.relatedTarget;(!s||!(null===(r=this._overlayRef)||void 0===r?void 0:r.overlayElement.contains(s)))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,YU)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),k7=(()=>{class n extends M7{constructor(t,i,r,s,c,d,p,v,T,S,P,j){super(t,i,r,s,c,d,p,v,T,S,P,j),this._tooltipComponent=R7}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(y0),o.Y36(o.SBq),o.Y36(ZB),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(ns),o.Y36(tq),o.Y36(m0),o.Y36(KU),o.Y36(Cu,8),o.Y36(x7,8),o.Y36(be))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[o.qOj]}),n})(),O7=(()=>{class n{constructor(t,i){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Xt.x,this._animationsDisabled="NoopAnimations"===i}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(t?s:r),i.classList.add(t?r:s),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(i);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(Is,8))},n.\u0275dir=o.lG2({type:n}),n})(),R7=(()=>{class n extends O7{constructor(t,i,r){super(t,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(w7),o.Y36(Is,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(1&t&&o.Gf(C7,7),2&t){let r;o.iGM(r=o.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,i){1&t&&o.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&t&&o.Udp("zoom",i.isVisible()?1:null)},features:[o.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(t,i){if(1&t&&(o.TgZ(0,"div",0,1),o.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),o.ALo(2,"async"),o._uU(3),o.qZA()),2&t){let r;o.ekj("mat-tooltip-handset",null==(r=o.lcZ(2,4,i._isHandset))?null:r.matches),o.Q6J("ngClass",i.tooltipClass),o.xp6(3),o.Oqu(i.message)}},directives:[pi],pipes:[Ua],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),P7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[D7],imports:[[gB,Ii,uV,ei],ei,Wx]}),n})();function N7(n,e){if(1&n&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t),o.xp6(1),o.hij(" ",t," ")}}function F7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"mat-form-field",16)(1,"mat-select",17),o.NdJ("selectionChange",function(r){return o.CHM(t),o.oxw(2)._changePageSize(r.value)}),o.YNc(2,N7,2,2,"mat-option",18),o.qZA()()}if(2&n){const t=o.oxw(2);o.Q6J("appearance",t._formFieldAppearance)("color",t.color),o.xp6(1),o.Q6J("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),o.xp6(1),o.Q6J("ngForOf",t._displayedPageSizeOptions)}}function L7(n,e){if(1&n&&(o.TgZ(0,"div",20),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Oqu(t.pageSize)}}function B7(n,e){if(1&n&&(o.TgZ(0,"div",12)(1,"div",13),o._uU(2),o.qZA(),o.YNc(3,F7,3,6,"mat-form-field",14),o.YNc(4,L7,2,1,"div",15),o.qZA()),2&n){const t=o.oxw();o.xp6(2),o.hij(" ",t._intl.itemsPerPageLabel," "),o.xp6(1),o.Q6J("ngIf",t._displayedPageSizeOptions.length>1),o.xp6(1),o.Q6J("ngIf",t._displayedPageSizeOptions.length<=1)}}function V7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){return o.CHM(t),o.oxw().firstPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",22),o.qZA()()}if(2&n){const t=o.oxw();o.Q6J("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),o.uIk("aria-label",t._intl.firstPageLabel)}}function U7(n,e){if(1&n){const t=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(t),o.oxw().lastPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",24),o.qZA()()}if(2&n){const t=o.oxw();o.Q6J("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),o.uIk("aria-label",t._intl.lastPageLabel)}}let cA=(()=>{class n{constructor(){this.changes=new Xt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=t*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const H7={provide:cA,deps:[[new o.FiY,new o.tp0,cA]],useFactory:function j7(n){return n||new cA}},$7=new o.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),G7=g0(Eq(class{}));let W7=(()=>{class n extends G7{constructor(t,i,r){if(super(),this._intl=t,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new o.vpe,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:c,hidePageSize:d,showFirstLastButtons:p}=r;null!=s&&(this._pageSize=s),null!=c&&(this._pageSizeOptions=c),null!=d&&(this._hidePageSize=d),null!=p&&(this._showFirstLastButtons=p)}}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(Sl(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=Sl(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(Sl(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(i=>Sl(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=bn(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=bn(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,i)=>t-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(t){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[o.qOj]}),n})(),q7=(()=>{class n extends W7{constructor(t,i,r){super(t,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(cA),o.Y36(o.sBO),o.Y36($7,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[o.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,B7,5,3,"div",2),o.TgZ(3,"div",3)(4,"div",4),o._uU(5),o.qZA(),o.YNc(6,V7,3,5,"button",5),o.TgZ(7,"button",6),o.NdJ("click",function(){return i.previousPage()}),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA()(),o.kcU(),o.TgZ(10,"button",9),o.NdJ("click",function(){return i.nextPage()}),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",10),o.qZA()(),o.YNc(13,U7,3,5,"button",11),o.qZA()()()),2&t&&(o.xp6(2),o.Q6J("ngIf",!i.hidePageSize),o.xp6(3),o.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),o.xp6(1),o.Q6J("ngIf",i.showFirstLastButtons),o.xp6(1),o.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),o.uIk("aria-label",i._intl.previousPageLabel),o.xp6(3),o.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),o.uIk("aria-label",i._intl.nextPageLabel),o.xp6(3),o.Q6J("ngIf",i.showFirstLastButtons))},directives:[uI,EU,l1,Em,li,mi,k7],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),Z7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[H7],imports:[[Ii,DB,CU,P7,ei]]}),n})();function Y7(n,e){if(1&n&&(o.TgZ(0,"mat-option",8),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.value),o.xp6(1),o.hij(" ",t.viewValue," ")}}function K7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return r.checkFavorite(r.data.name,r.data.id,r.data.documentID)}),o.TgZ(1,"mat-icon"),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(2),o.Oqu(t.favoriteText)}}function Q7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return r.checkFavorite(r.data.name,r.data.id,r.data.documentID)}),o.TgZ(1,"mat-icon"),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(2),o.Oqu(t.favoriteText)}}function J7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return r.checkFavorite(r.data.name,r.data.id,r.data.documentID)}),o.TgZ(1,"mat-icon"),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(2),o.Oqu(t.favoriteText)}}function X7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return r.checkFavorite(r.data.name,r.data.id,r.data.documentID)}),o.TgZ(1,"mat-icon"),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(2),o.Oqu(t.favoriteText)}}function e9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return r.checkFavorite(r.data.name,r.data.id,r.data.documentID)}),o.TgZ(1,"mat-icon"),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(2),o.Oqu(t.favoriteText)}}function t9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return r.checkFavorite(r.data.name,r.data.id,r.data.documentID)}),o.TgZ(1,"mat-icon"),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(2),o.Oqu(t.favoriteText)}}function n9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return r.checkFavorite(r.data.name,r.data.id,r.data.documentID)}),o.TgZ(1,"mat-icon"),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(2),o.Oqu(t.favoriteText)}}function i9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2);return r.checkFavorite(r.data.name,r.data.id,r.data.documentID)}),o.TgZ(1,"mat-icon"),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(2),o.Oqu(t.favoriteText)}}function r9(n,e){if(1&n&&(o.TgZ(0,"div",44),o._uU(1),o.ALo(2,"titlecase"),o.qZA()),2&n){const t=e.index,i=o.oxw(3);o.xp6(1),o.AsE(" ",t+1," - ",o.lcZ(2,2,i.data.types[t].type.name)," ")}}function s9(n,e){if(1&n&&(o.TgZ(0,"div",45),o._uU(1),o.ALo(2,"titlecase"),o.qZA()),2&n){const t=e.index,i=o.oxw(3);o.xp6(1),o.AsE(" ",t+1," - ",o.lcZ(2,2,i.data.abilities[t].ability.name)," ")}}function o9(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td"),o._uU(2),o.ALo(3,"titlecase"),o.qZA()()),2&n){const t=e.index,i=o.oxw(3);o.xp6(2),o.AsE("",o.lcZ(3,2,i.data.stats[t].stat.name),": ",i.data.stats[t].base_stat,"")}}function a9(n,e){if(1&n&&(o.TgZ(0,"div",46),o._uU(1),o.ALo(2,"titlecase"),o.qZA()),2&n){const t=e.index,i=o.oxw(3);o.xp6(1),o.AsE(" ",t+1," - ",o.lcZ(2,2,i.data.moves[t].move.name)," ")}}function l9(n,e){if(1&n&&(o.TgZ(0,"div",47),o._uU(1),o.ALo(2,"titlecase"),o.qZA()),2&n){const t=e.index,i=o.oxw(3);o.xp6(1),o.AsE(" ",t+1," - ",o.lcZ(2,2,i.data.game_indices[t].version.name)," ")}}function c9(n,e){if(1&n&&(o.TgZ(0,"div",29)(1,"mat-accordion",30)(2,"mat-expansion-panel",31)(3,"mat-expansion-panel-header")(4,"mat-panel-title"),o._uU(5," Name and ID "),o.qZA(),o.TgZ(6,"mat-panel-description"),o._uU(7," The Name and ID of the selected pokemon "),o.qZA()(),o.TgZ(8,"div",32)(9,"p",33),o._uU(10),o.ALo(11,"titlecase"),o.qZA(),o.TgZ(12,"p",34),o._uU(13),o.qZA(),o.TgZ(14,"p",35),o._uU(15),o.qZA()()(),o.TgZ(16,"mat-expansion-panel",31)(17,"mat-expansion-panel-header")(18,"mat-panel-title"),o._uU(19," Types "),o.qZA()(),o.YNc(20,r9,3,4,"div",36),o.qZA(),o.TgZ(21,"mat-expansion-panel",31)(22,"mat-expansion-panel-header")(23,"mat-panel-title"),o._uU(24," Abilities "),o.qZA()(),o.YNc(25,s9,3,4,"div",37),o.qZA(),o.TgZ(26,"mat-expansion-panel",31)(27,"mat-expansion-panel-header")(28,"mat-panel-title"),o._uU(29," Stats "),o.qZA()(),o.TgZ(30,"table",38),o.YNc(31,o9,4,4,"tr",39),o.qZA()(),o.TgZ(32,"mat-expansion-panel",31)(33,"mat-expansion-panel-header")(34,"mat-panel-title"),o._uU(35," Moveset "),o.qZA()(),o.YNc(36,a9,3,4,"div",40),o.qZA(),o.TgZ(37,"mat-expansion-panel",31)(38,"mat-expansion-panel-header")(39,"mat-panel-title"),o._uU(40," Physical Data "),o.qZA()(),o.TgZ(41,"div",41),o._uU(42),o.qZA(),o.TgZ(43,"div",42),o._uU(44),o.qZA()(),o.TgZ(45,"mat-expansion-panel",31)(46,"mat-expansion-panel-header")(47,"mat-panel-title"),o._uU(48," Games "),o.qZA()(),o.YNc(49,l9,3,4,"div",43),o.qZA()()()),2&n){const t=o.oxw(2);o.xp6(10),o.hij("Name: ",o.lcZ(11,10,t.data.name),""),o.xp6(3),o.hij("Number: ",t.data.id,""),o.xp6(2),o.hij("Species: ",t.data.species.url,""),o.xp6(5),o.Q6J("ngForOf",t.data.types),o.xp6(5),o.Q6J("ngForOf",t.data.abilities),o.xp6(6),o.Q6J("ngForOf",t.data.stats),o.xp6(5),o.Q6J("ngForOf",t.data.moves),o.xp6(6),o.hij(" Height: ",t.data.height," "),o.xp6(2),o.hij(" Weight: ",t.data.weight," "),o.xp6(5),o.Q6J("ngForOf",t.data.game_indices)}}function u9(n,e){if(1&n&&(o.TgZ(0,"div")(1,"h5"),o._uU(2,"Page Change Event Properties"),o.qZA(),o.TgZ(3,"div"),o._uU(4),o.qZA(),o.TgZ(5,"div"),o._uU(6),o.qZA(),o.TgZ(7,"div"),o._uU(8),o.qZA()()),2&n){const t=o.oxw(2);o.xp6(4),o.hij("List length: ",t.pageEvent.length,""),o.xp6(2),o.hij("Page size: ",t.pageEvent.pageSize,""),o.xp6(2),o.hij("Page index: ",t.pageEvent.pageIndex,"")}}function d9(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",9)(1,"mat-tab-group",10)(2,"mat-tab",11)(3,"h1"),o._uU(4),o.ALo(5,"titlecase"),o.qZA(),o.YNc(6,K7,3,1,"button",12),o._UZ(7,"img",13),o.qZA(),o.TgZ(8,"mat-tab",14)(9,"h1"),o._uU(10),o.ALo(11,"titlecase"),o.qZA(),o.YNc(12,Q7,3,1,"button",12),o._UZ(13,"img",13),o.qZA(),o.TgZ(14,"mat-tab",15)(15,"h1"),o._uU(16),o.ALo(17,"titlecase"),o.qZA(),o.YNc(18,J7,3,1,"button",12),o._UZ(19,"img",16),o.qZA(),o.TgZ(20,"mat-tab",17)(21,"h1"),o._uU(22),o.ALo(23,"titlecase"),o.qZA(),o.YNc(24,X7,3,1,"button",12),o._UZ(25,"img",16),o.qZA(),o.TgZ(26,"mat-tab",18)(27,"h1"),o._uU(28),o.ALo(29,"titlecase"),o.qZA(),o.YNc(30,e9,3,1,"button",12),o._UZ(31,"img",19),o.qZA(),o.TgZ(32,"mat-tab",20)(33,"h1"),o._uU(34),o.ALo(35,"titlecase"),o.qZA(),o.YNc(36,t9,3,1,"button",12),o._UZ(37,"img",19),o.qZA(),o.TgZ(38,"mat-tab",21)(39,"h1"),o._uU(40),o.ALo(41,"titlecase"),o.qZA(),o.YNc(42,n9,3,1,"button",12),o._UZ(43,"img",22),o.qZA(),o.TgZ(44,"mat-tab",23)(45,"h1"),o._uU(46),o.ALo(47,"titlecase"),o.qZA(),o.YNc(48,i9,3,1,"button",12),o._UZ(49,"img",22),o.qZA()(),o.YNc(50,c9,50,12,"div",24),o.TgZ(51,"div",25)(52,"mat-paginator",26),o.NdJ("page",function(r){return o.CHM(t),o.oxw().onChangePage(r)}),o.qZA(),o.YNc(53,u9,9,3,"div",27),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(4),o.Oqu(o.lcZ(5,29,t.data.species.name)),o.xp6(2),o.Q6J("ngIf",t.signedIn),o.xp6(1),o.s9C("src",t.data.sprites.front_default,o.LSH),o.xp6(3),o.Oqu(o.lcZ(11,31,t.data.species.name)),o.xp6(2),o.Q6J("ngIf",t.signedIn),o.xp6(1),o.s9C("src",t.data.sprites.back_default,o.LSH),o.xp6(3),o.hij("",o.lcZ(17,33,t.data.species.name)," Shiny"),o.xp6(2),o.Q6J("ngIf",t.signedIn),o.xp6(1),o.s9C("src",t.data.sprites.front_shiny,o.LSH),o.xp6(3),o.hij("",o.lcZ(23,35,t.data.species.name)," Shiny"),o.xp6(2),o.Q6J("ngIf",t.signedIn),o.xp6(1),o.s9C("src",t.data.sprites.back_shiny,o.LSH),o.xp6(3),o.hij("",o.lcZ(29,37,t.data.species.name)," Female"),o.xp6(2),o.Q6J("ngIf",t.signedIn),o.xp6(1),o.s9C("src",t.data.sprites.front_female,o.LSH),o.xp6(3),o.hij("",o.lcZ(35,39,t.data.species.name)," Female"),o.xp6(2),o.Q6J("ngIf",t.signedIn),o.xp6(1),o.s9C("src",t.data.sprites.back_female,o.LSH),o.xp6(3),o.hij("",o.lcZ(41,41,t.data.species.name)," Shiny Female"),o.xp6(2),o.Q6J("ngIf",t.signedIn),o.xp6(1),o.s9C("src",t.data.sprites.front_shiny_female,o.LSH),o.xp6(3),o.hij("",o.lcZ(47,43,t.data.species.name)," Shiny Female"),o.xp6(2),o.Q6J("ngIf",t.signedIn),o.xp6(1),o.s9C("src",t.data.sprites.back_shiny_female,o.LSH),o.xp6(1),o.Q6J("ngIf",t.data),o.xp6(2),o.Q6J("length",t.length)("pageIndex",t.pageIndex)("pageSize",t.pageSize),o.xp6(1),o.Q6J("ngIf",t.pageEvent)}}let h9=(()=>{class n{constructor(t,i,r){this.firestore=t,this.apiService=i,this.authenticationService=r,this.searchTypes=[{value:"ID",viewValue:"Search by ID"},{value:"Name",viewValue:"Search by Name"}],this.length=898,this.pageSize=1,this.pageSizeOptions=[1],this.myArray=[]}ngOnInit(){1==this.authenticationService.isLoggedIn&&(this.signedIn=!0),this.checkSearchType()}checkSearchType(){0===this.searchBtnNum?this.searchBtnText="Id":1===this.searchBtnNum?this.searchBtnText="Name":(this.searchBtnNum=0,this.checkSearchType())}changeSearchType(){1===this.searchBtnNum?(this.searchBtnNum=0,this.checkSearchType()):0===this.searchBtnNum&&(this.searchBtnNum=1,this.checkSearchType())}displayPokemon(t){this.apiService.getPokemon(t).subscribe(i=>{this.data=i,console.log(this.data),this.pageIndex=t,this.favorite=!1,this.firestore.collection(`users/${this.authenticationService.userData.uid}/favorites`).get().subscribe(r=>{r.docs.forEach(s=>{if(this.data.documentID=s.id,s.get("pokemonID")==this.pageIndex)return this.favorite=!0,this.displayFavorite()})}),this.displayFavorite()})}displayFavorite(){1==this.favorite?this.favoriteText="favorite":(0==this.favorite||(this.favorite=!1),this.favoriteText="favorite_border")}checkFavorite(t,i,r){1==this.favorite?(this.favorite=!1,this.firestore.collection(`users/${this.authenticationService.userData.uid}/favorites`).doc(r).delete(),this.displayFavorite()):(this.favorite=!0,this.firestore.collection(`users/${this.authenticationService.userData.uid}/favorites`).add({pokemonName:t,pokemonID:i}),this.displayFavorite())}onChangePage(t){this.displayPokemon(t.pageIndex)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(hx),o.Y36(v5),o.Y36(Cf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home"]],decls:19,vars:4,consts:[["appearance","fill"],["placeholder","Select a Search Option"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text",3,"placeholder"],["pokemonIdSelector",""],["for","pokemon"],["mat-button","",3,"click"],["class","pokemonWrapper",4,"ngIf"],[3,"value"],[1,"pokemonWrapper"],[1,"pokemonImageWrapper"],["label","Normal Front"],["mat-icon-button","","aria-label","icon-button with heart icon",3,"click",4,"ngIf"],["alt","No Image Available",2,"width","100%","max-height","400px","object-fit","contain",3,"src"],["label","Normal Back"],["label","Shiny Front"],["alt","No Shiny Available",2,"width","100%","max-height","400px","object-fit","contain",3,"src"],["label","Shiny Back"],["label","Female Front"],["alt","No Female",2,"width","100%","max-height","400px","object-fit","contain",3,"src"],["label","Female Back"],["label","Shiny Female Front"],["alt","No Female Shiny",2,"width","100%","max-height","400px","object-fit","contain",3,"src"],["label","Shiny Female Back"],["class","pokemonCard",4,"ngIf"],[1,"pageChangerWrapper"],["hdPageSize","true;","aria-label","Select page",3,"length","pageIndex","pageSize","page"],[4,"ngIf"],["mat-icon-button","","aria-label","icon-button with heart icon",3,"click"],[1,"pokemonCard"],["multi",""],["hideToggle",""],[1,"idWrapper"],[1,"name"],[1,"id"],[1,"species"],["class","types",4,"ngFor","ngForOf"],["class","abilities",4,"ngFor","ngForOf"],["matTable",""],[4,"ngFor","ngForOf"],["class","moves",4,"ngFor","ngForOf"],[1,"height"],[1,"weight"],["class","games",4,"ngFor","ngForOf"],[1,"types"],[1,"abilities"],[1,"moves"],[1,"games"]],template:function(t,i){if(1&t){const r=o.EpF();o.TgZ(0,"mat-card")(1,"mat-card-header"),o._UZ(2,"app-navbar"),o.qZA(),o.TgZ(3,"mat-card-content")(4,"mat-form-field",0)(5,"mat-select",1),o.YNc(6,Y7,2,2,"mat-option",2),o.qZA()(),o._UZ(7,"br"),o.TgZ(8,"mat-form-field",0)(9,"mat-label"),o._uU(10),o.qZA(),o._UZ(11,"input",3,4),o.qZA(),o._UZ(13,"br"),o.TgZ(14,"label",5),o._uU(15,"Choose a Pokemon: "),o.qZA(),o.TgZ(16,"button",6),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(12);return i.displayPokemon(c.value)}),o._uU(17,"I Choose You!"),o.qZA()(),o.YNc(18,d9,54,45,"div",7),o.qZA()}2&t&&(o.xp6(6),o.Q6J("ngForOf",i.searchTypes),o.xp6(4),o.hij("Search By ",i.searchBtnText,": "),o.xp6(1),o.MGl("placeholder","Input Pokemon ",i.searchBtnText," Here"),o.xp6(7),o.Q6J("ngIf",i.data))},directives:[hy,fy,lI,dy,uI,EU,mi,l1,g1,sA,Em,li,BK,AU,UU,g7,$U,GU,m7,p7,q7],pipes:[kc],styles:[".mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:5em;margin-right:5em;align-items:flex-start}.mat-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{margin-bottom:1em}.mat-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   app-navbar[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{height:auto}.mat-card[_ngcontent-%COMP%]   .pokemonWrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-card[_ngcontent-%COMP%]   .pokemonWrapper[_ngcontent-%COMP%]   .pageChangerWrapper[_ngcontent-%COMP%]{margin-right:7em}"]}),n})();function f9(n,e){if(1&n&&(o.TgZ(0,"mat-card-content")(1,"div")(2,"div"),o._UZ(3,"img",5),o.TgZ(4,"div",6)(5,"h1"),o._uU(6,"Hello: "),o.TgZ(7,"strong"),o._uU(8),o.qZA()(),o.TgZ(9,"p"),o._uU(10,"Email: "),o.TgZ(11,"strong"),o._uU(12),o.qZA()(),o.TgZ(13,"p"),o._uU(14,"Email Verified: "),o.TgZ(15,"strong"),o._uU(16),o.qZA()()()()()()),2&n){const t=e.ngIf;o.xp6(3),o.s9C("src",t.photoURL?t.photoURL:"/assets/dummy-user.png",o.LSH),o.s9C("alt",t.displayName),o.xp6(5),o.Oqu(t.displayName?t.displayName:"User"),o.xp6(4),o.Oqu(t.email),o.xp6(4),o.Oqu(t.emailVerified)}}function p9(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o._UZ(2,"br"),o._uU(3),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.hij(" ID: ",t.pokemonID," "),o.xp6(2),o.hij(" Name: ",t.pokemonName," ")}}let m9=(()=>{class n{constructor(t,i){this.authenticationService=t,this.firestore=i,this.myArray=[]}ngOnInit(){this.firestore.collection(`users/${this.authenticationService.userData.uid}/favorites`).get().subscribe(t=>{t.docs.forEach(i=>{this.myArray.push(i.data())})})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cf),o.Y36(hx))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],decls:18,vars:2,consts:[[2,"width","100%"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"formGroup"],["mat-raised-button","","color","accent","value","Log Out",3,"click"],[1,"align-self-start","mr-5","img-thumbnail","rounded-circle",3,"src","alt"],[1,"media-body"]],template:function(t,i){1&t&&(o.TgZ(0,"mat-card")(1,"mat-card-header"),o._UZ(2,"app-navbar",0),o.qZA(),o.TgZ(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),o._uU(6,"User Profile"),o.qZA()(),o.YNc(7,f9,17,5,"mat-card-content",1),o.qZA(),o.TgZ(8,"mat-card")(9,"mat-card-header")(10,"mat-card-title"),o._uU(11,"Favorite Pok\xe9mon"),o.qZA()(),o.TgZ(12,"mat-card-content")(13,"ul"),o.YNc(14,p9,4,2,"li",2),o.qZA()()(),o.TgZ(15,"div",3)(16,"button",4),o.NdJ("click",function(){return i.authenticationService.SignOut()}),o._uU(17," Log out "),o.qZA()()()),2&t&&(o.xp6(7),o.Q6J("ngIf",i.authenticationService.userData),o.xp6(7),o.Q6J("ngForOf",i.myArray))},directives:[hy,fy,lI,c1,li,dy,mi,Em],styles:[""]}),n})(),g9=(()=>{class n{constructor(t,i){this.authenticationService=t,this.router=i}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cf),o.Y36(ms))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:31,vars:0,consts:[["appearance","fill",1,"formField"],["matInput","","type","text","placeholder","Username","required","",1,"formControl"],["userName",""],["matInput","","type","password","placeholder","Password","required","",1,"formControl"],["userPassword",""],[1,"formGroup"],["mat-raised-button","","color","accent","value","Log in",3,"click"],[1,"or"],[1,"orInner"],["mat-raised-button","","color","accent",3,"click"],["aria-hidden","false","aria-label","Example google icon"],[1,"forgotPassword"],["mat-button","","color","accent","routerLink","/forgot-password"],[1,"redirectToLogin"],["mat-button","","color","warn","routerLink","/sign-up"]],template:function(t,i){if(1&t){const r=o.EpF();o.TgZ(0,"mat-card")(1,"mat-card-header"),o._UZ(2,"app-navbar"),o.qZA(),o.TgZ(3,"mat-card-content")(4,"mat-form-field",0),o._UZ(5,"input",1,2),o.qZA(),o._UZ(7,"br"),o.TgZ(8,"mat-form-field",0),o._UZ(9,"input",3,4),o.qZA(),o.TgZ(11,"div",5)(12,"button",6),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(6),d=o.MAs(10);return i.authenticationService.SignIn(c.value,d.value)}),o._uU(13,"Log in"),o.qZA()(),o.TgZ(14,"div",5)(15,"span",7)(16,"span",8),o._uU(17,"Or"),o.qZA()()(),o.TgZ(18,"div",5)(19,"button",9),o.NdJ("click",function(){return i.authenticationService.GoogleAuth()}),o.TgZ(20,"mat-icon",10),o._uU(21,"mail"),o.qZA(),o._uU(22," Log in with Google "),o.qZA()(),o.TgZ(23,"div",11)(24,"button",12),o._uU(25,"Forgot Password?"),o.qZA()()(),o.TgZ(26,"div",13)(27,"span"),o._uU(28,"Don't have an account?"),o.TgZ(29,"button",14),o._uU(30," Sign Up"),o.qZA()()()()}},directives:[hy,fy,lI,dy,uI,sA,Em,UU,hd],styles:[".mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column}.mat-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{margin-bottom:1em}.mat-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   app-navbar[_ngcontent-%COMP%]{width:100%}"]}),n})(),_9=(()=>{class n{constructor(t){this.authenticationService=t,this.email=new gI("",[v0.required,v0.email]),this.username=new gI("",[v0.required]),this.password=new gI("",[v0.required]),this.hide=!0}ngOnInit(){}getErrorMessage(){return this.email.hasError("required")?"You must enter a value":this.email.hasError("email")?"Not a valid email":""}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-signup"]],decls:30,vars:0,consts:[["id","page-name-setter"],["appearance","fill"],["matInput","","type","email","placeholder","Email Address","required","",1,"formControl"],["userEmail",""],["matInput","","type","password","placeholder","Password","required","",1,"formControl"],["userPwd",""],[1,"formGroup"],["mat-raised-button","","color","warn","value","Sign Up",3,"click"],[1,"or"],[1,"orInner"],["mat-raised-button","","color","warn","type","button",1,"btn","googleBtn",3,"click"],[1,"fab","fa-google-plus-g"],[1,"redirectToLogin"],["mat-button","","color","accent","routerLink","/login"]],template:function(t,i){if(1&t){const r=o.EpF();o.TgZ(0,"head")(1,"div",0),o._uU(2,"Sign Up"),o.qZA()(),o.TgZ(3,"mat-card")(4,"mat-card-header"),o._UZ(5,"app-navbar"),o.qZA(),o.TgZ(6,"mat-card-content")(7,"mat-form-field",1),o._UZ(8,"input",2,3),o.qZA(),o._UZ(10,"br"),o.TgZ(11,"mat-form-field",1),o._UZ(12,"input",4,5),o.qZA(),o.TgZ(14,"div",6)(15,"button",7),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(9),d=o.MAs(13);return i.authenticationService.SignUp(c.value,d.value)}),o._uU(16,"Sign Up"),o.qZA()(),o.TgZ(17,"div",6)(18,"span",8)(19,"span",9),o._uU(20,"Or"),o.qZA()()(),o.TgZ(21,"div",6)(22,"button",10),o.NdJ("click",function(){return i.authenticationService.GoogleAuth()}),o._UZ(23,"i",11),o._uU(24," Continue with Google "),o.qZA()()(),o.TgZ(25,"div",12)(26,"span"),o._uU(27,"Already have an account? "),o.TgZ(28,"button",13),o._uU(29,"Log In"),o.qZA()()()()}},directives:[hy,fy,lI,dy,uI,sA,Em,hd],styles:[".mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column}.mat-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{margin-bottom:1em}.mat-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   app-navbar[_ngcontent-%COMP%]{width:100%}"]}),n})(),y9=(()=>{class n{constructor(t){this.authenticationService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-forgot-password"]],decls:20,vars:0,consts:[["appearance","fill"],["matInput","","type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],[1,"formGroup"],["mat-raised-button","","color","warn","value","Reset Password",3,"click"],[1,"redirectToLogin"],["mat-button","","color","accent","routerLink","/login"]],template:function(t,i){if(1&t){const r=o.EpF();o.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),o._uU(3,"Reset Password"),o.qZA(),o.TgZ(4,"mat-card-subtitle"),o._uU(5,"Please enter your email address to request a password reset."),o.qZA()(),o.TgZ(6,"mat-card-content")(7,"mat-form-field",0),o._UZ(8,"input",1,2),o.qZA(),o._UZ(10,"br"),o.TgZ(11,"div",3)(12,"button",4),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(9);return i.authenticationService.ForgotPassword(c.value)}),o._uU(13,"Reset Password"),o.qZA()()(),o.TgZ(14,"div",5)(15,"span"),o._uU(16,"Go back to "),o.TgZ(17,"button",6),o._uU(18," Log In"),o.qZA(),o._uU(19,"?"),o.qZA()()()}},directives:[hy,fy,c1,SB,dy,uI,sA,Em,hd],styles:[""]}),n})();function v9(n,e){if(1&n&&(o.TgZ(0,"mat-card-subtitle",4)(1,"p"),o._uU(2,"We have sent a confirmation email to "),o.TgZ(3,"strong"),o._uU(4),o.qZA(),o._uU(5,"."),o.qZA(),o.TgZ(6,"p"),o._uU(7,"Please check your email and click on the link to verfiy your email address."),o.qZA()()),2&n){const t=e.ngIf;o.xp6(4),o.Oqu(t.email)}}const b9=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:g9},{path:"sign-up",component:_9},{path:"dashboard",component:m9,canActivate:[M4]},{path:"forgot-password",component:y9},{path:"verify-email-address",component:(()=>{class n{constructor(t){this.authenticationService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-verify-email"]],decls:14,vars:1,consts:[["class","formGroup",4,"ngIf"],["mat-stroked-button","",3,"click"],[1,"redirectToLogin"],["mat-button","","color","accent","routerLink","/login"],[1,"formGroup"]],template:function(t,i){1&t&&(o.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),o._uU(3,"Thank You for Registering"),o.qZA(),o.YNc(4,v9,8,1,"mat-card-subtitle",0),o.qZA(),o.TgZ(5,"mat-card-content")(6,"button",1),o.NdJ("click",function(){return i.authenticationService.SendVerificationMail()}),o._uU(7," Resend Verification Email "),o.qZA()(),o.TgZ(8,"div",2)(9,"span"),o._uU(10,"Go back to "),o.TgZ(11,"button",3),o._uU(12," Log In"),o.qZA(),o._uU(13,"?"),o.qZA()()()),2&t&&(o.xp6(4),o.Q6J("ngIf",i.authenticationService.userData))},directives:[hy,fy,c1,li,SB,dy,Em,hd],styles:[""]}),n})()},{path:"pokefind",component:h9},{path:"home",component:r5}];let QU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[pp.forRoot(b9)],pp]}),n})();const JU_firebase={apiKey:"AIzaSyCGfyTqJ9zpuOgnzF8Fl9tC9jVlCmHvJvE",authDomain:"pokemon-api-app-ff02b.firebaseapp.com",projectId:"pokemon-api-app-ff02b",storageBucket:"pokemon-api-app-ff02b.appspot.com",messagingSenderId:"1051222290016",appId:"1:1051222290016:web:3f6cdefec8dfb4faa1dd05",measurementId:"G-BV8L5RCL2J"},XU=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},ej={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],c=r+1<n.length,d=c?n[r+1]:0,p=r+2<n.length,v=p?n[r+2]:0;let P=(15&d)<<2|v>>6,j=63&v;p||(j=64,c||(P=64)),i.push(t[s>>2],t[(3&s)<<4|d>>4],t[P],t[j])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(XU(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const p=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(1023&p))}else{const s=n[t++],c=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&c)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],d=r<n.length?t[n.charAt(r)]:0;++r;const v=r<n.length?t[n.charAt(r)]:64;++r;const S=r<n.length?t[n.charAt(r)]:64;if(++r,null==s||null==d||null==v||null==S)throw Error();i.push(s<<2|d>>4),64!==v&&(i.push(d<<4&240|v>>2),64!==S&&i.push(v<<6&192|S))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},tj=function(n){return function(n){const e=XU(n);return ej.encodeByteArray(e,!0)}(n).replace(/\./g,"")};class dA extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,dA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M9.prototype.create)}}class M9{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],c=s?function k9(n,e){return n.replace(O9,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new dA(r,`${this.serviceName}: ${c} (${r}).`,i)}}const O9=/\{\$([^}]+)}/g;function Sm(n){return n&&n._delegate?n._delegate:n}class j9{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oj="firebasestorage.googleapis.com",aj="storageBucket";class Dr extends dA{constructor(e,t){super(X1(e),`Firebase Storage: ${t} (${X1(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dr.prototype)}_codeEquals(e){return X1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function X1(n){return"storage/"+n}function eP(){return new Dr("unknown","An unknown error occurred, please check the error payload for server response.")}function lj(){return new Dr("canceled","User canceled the upload/download.")}function cj(){return new Dr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function C0(n){return new Dr("invalid-argument",n)}function uj(){return new Dr("app-deleted","The Firebase app was deleted.")}function dj(n){return new Dr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function EI(n,e){return new Dr("invalid-format","String does not match format '"+n+"': "+e)}function CI(n){throw new Dr("internal-error","Internal error: "+n)}class ko{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ko.makeFromUrl(e,t)}catch(r){return new ko(e,"")}if(""===i.path)return i;throw function eQ(n){return new Dr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(ot){ot.path_=decodeURIComponent(ot.path)}const S=t.replace(/[.]/g,"\\."),rt=[{regex:d,indices:{bucket:1,path:3},postModify:function s(ot){"/"===ot.path.charAt(ot.path.length-1)&&(ot.path_=ot.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===oj?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let ot=0;ot<rt.length;ot++){const Yt=rt[ot],nn=Yt.regex.exec(e);if(nn){let jr=nn[Yt.indices.path];jr||(jr=""),i=new ko(nn[Yt.indices.bucket],jr),Yt.postModify(i);break}}if(null==i)throw function X9(n){return new Dr("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class rQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function fA(n){return"string"==typeof n||n instanceof String}function hj(n){return tP()&&n instanceof Blob}function tP(){return"undefined"!=typeof Blob}function nP(n,e,t,i){if(i<e)throw C0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw C0(`Invalid value for '${n}'. Expected ${t} or less.`)}function Df(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function fj(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Dm=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Dm||(Dm={})),Dm))();class uQ{constructor(e,t,i,r,s,c,d,p,v,T,S){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=T,this.connectionFactory_=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,j)=>{this.resolve_=P,this.reject_=j,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function aQ(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==d){const p=eP();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?uj():lj():function J9(){return new Dr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new pA(!1,null,!0)):this.backoffId_=function sQ(n,e,t){let i=1,r=null,s=null,c=!1,d=0;function p(){return 2===d}let v=!1;function T(..._e){v||(v=!0,e.apply(null,_e))}function S(_e){r=setTimeout(()=>{r=null,n(j,p())},_e)}function P(){s&&clearTimeout(s)}function j(_e,...Je){if(v)return void P();if(_e)return P(),void T.call(null,_e,...Je);if(p()||c)return P(),void T.call(null,_e,...Je);let rt;i<64&&(i*=2),1===d?(d=2,rt=0):rt=1e3*(i+Math.random()),S(rt)}let $=!1;function oe(_e){$||($=!0,P(),!v&&(null!==r?(_e||(d=2),clearTimeout(r),S(0)):_e||(d=1)))}return S(0),s=setTimeout(()=>{c=!0,oe(!0)},t),oe}((i,r)=>{if(r)return void i(!1,new pA(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Dm.NO_ERROR,p=s.getStatus();if(!d||this.isRetryStatusCode_(p)){const T=s.getErrorCode()===Dm.ABORT;return void i(!1,new pA(!1,null,T))}const v=-1!==this.successCodes_.indexOf(p);i(!0,new pA(v,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function oQ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||s}}class pA{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function _Q(...n){const e=function gQ(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(tP())return new Blob(n);throw new Dr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Dl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class iP{constructor(e,t){this.data=e,this.contentType=t||null}}function rP(n,e){switch(n){case Dl.RAW:return new iP(pj(e));case Dl.BASE64:case Dl.BASE64URL:return new iP(mj(n,e));case Dl.DATA_URL:return new iP(function wQ(n){const e=new gj(n);return e.base64?mj(Dl.BASE64,e.rest):function bQ(n){let e;try{e=decodeURIComponent(n)}catch(t){throw EI(Dl.DATA_URL,"Malformed data URL.")}return pj(e)}(e.rest)}(e),function EQ(n){return new gj(n).contentType}(e))}throw eP()}function pj(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function mj(n,e){switch(n){case Dl.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw EI(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Dl.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw EI(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function vQ(n){return atob(n)}(e)}catch(r){throw EI(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class gj{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw EI(Dl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function CQ(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Qd{constructor(e,t){let i=0,r="";hj(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(hj(this.data_)){const r=function yQ(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Qd(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Qd(i,!0)}}static getBlob(...e){if(tP()){const t=e.map(i=>i instanceof Qd?i.data_:i);return new Qd(_Q.apply(null,t))}{const t=e.map(c=>fA(c)?rP(Dl.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new Qd(r,!0)}}uploadData(){return this.data_}}function sP(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function cQ(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function _j(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function SQ(n,e){return e}class ca{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||SQ}}let mA=null;function II(){if(mA)return mA;const n=[];n.push(new ca("bucket")),n.push(new ca("generation")),n.push(new ca("metageneration")),n.push(new ca("name","fullPath",!0));const t=new ca("name");t.xform=function e(s,c){return function DQ(n){return!fA(n)||n.length<2?n:_j(n)}(c)},n.push(t);const r=new ca("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new ca("timeCreated")),n.push(new ca("updated")),n.push(new ca("md5Hash",null,!0)),n.push(new ca("cacheControl",null,!0)),n.push(new ca("contentDisposition",null,!0)),n.push(new ca("contentEncoding",null,!0)),n.push(new ca("contentLanguage",null,!0)),n.push(new ca("contentType",null,!0)),n.push(new ca("metadata","customMetadata",!0)),mA=n,mA}function yj(n,e,t){const i=sP(e);return null===i?null:function AQ(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function xQ(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ko(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function oP(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const vj="prefixes";class Jd{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xd(n){if(!n)throw eP()}function gA(n,e){return function t(i,r){const s=yj(n,r,e);return Xd(null!==s),s}}function I0(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function K9(){return new Dr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Y9(){return new Dr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Z9(n){return new Dr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Q9(n){return new Dr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function TI(n){const e=I0(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function q9(n){return new Dr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function wj(n,e,t){const r=Df(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Jd(r,"GET",gA(n,t),c);return d.errorHandler=TI(e),d}function NQ(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=Df(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,T=new Jd(d,"GET",function RQ(n,e){return function t(i,r){const s=function OQ(n,e,t){const i=sP(t);return null===i?null:function kQ(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[vj])for(const r of t[vj]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new ko(e,s));i.prefixes.push(c)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new ko(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Xd(null!==s),s}}(n,e.bucket),v);return T.urlParams=s,T.errorHandler=I0(e),T}function Cj(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function VQ(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class _A{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function aP(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Xd(!1)}return Xd(!!t&&-1!==(e||["active"]).indexOf(t)),t}const zQ={STATE_CHANGED:"state_changed"},ua={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function lP(n){switch(n){case"running":case"pausing":case"canceling":return ua.RUNNING;case"paused":return ua.PAUSED;case"success":return ua.SUCCESS;case"canceled":return ua.CANCELED;default:return ua.ERROR}}class $Q{constructor(e,t,i){if(function lQ(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function T0(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class WQ extends class GQ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dm.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dm.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dm.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw CI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw CI("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw CI("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw CI("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw CI("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Iu(){return new WQ}class Dj{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=II(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function UQ(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=Cj(e,i,r),d={name:c.fullPath},p=Df(s,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},S=oP(c,t),$=new Jd(p,"POST",function j(oe){let _e;aP(oe);try{_e=oe.getResponseHeader("X-Goog-Upload-URL")}catch(Je){Xd(!1)}return Xd(fA(_e)),_e},n.maxUploadRetryTime);return $.urlParams=d,$.headers=T,$.body=S,$.errorHandler=I0(e),$}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Iu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function jQ(n,e,t,i){const p=new Jd(t,"POST",function s(v){const T=aP(v,["active","final"]);let S=null;try{S=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch(j){Xd(!1)}S||Xd(!1);const P=Number(S);return Xd(!isNaN(P)),new _A(P,i.size(),"final"===T)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=I0(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Iu,t,i);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new _A(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function HQ(n,e,t,i,r,s,c,d){const p=new _A(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function nQ(){return new Dr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=p.total-p.current;let T=v;r>0&&(T=Math.min(T,r));const S=p.current,$={"X-Goog-Upload-Command":T===v?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},oe=i.slice(S,S+T);if(null===oe)throw cj();const rt=new Jd(t,"POST",function _e(ot,Yt){const nn=aP(ot,["active","final"]),Rn=p.current+T,jr=i.size();let Ml;return Ml="final"===nn?gA(e,s)(ot,Yt):null,new _A(Rn,jr,"final"===nn,Ml)},e.maxUploadRetryTime);return rt.headers=$,rt.body=oe.uploadData(),rt.progressCallback=d||null,rt.errorHandler=I0(n),rt}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,Iu,r,s);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=wj(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Iu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function Ij(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let rt="";for(let ot=0;ot<2;ot++)rt+=Math.random().toString().slice(2);return rt}();c["Content-Type"]="multipart/related; boundary="+p;const v=Cj(e,i,r),T=oP(v,t),j=Qd.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+p+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===j)throw cj();const $={name:v.fullPath},oe=Df(s,n.host,n._protocol),Je=n.maxUploadRetryTime,st=new Jd(oe,"POST",gA(n,t),Je);return st.urlParams=$,st.headers=c,st.body=j.uploadData(),st.errorHandler=I0(e),st}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Iu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=lj(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=lP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new $Q(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(lP(this._state)){case ua.SUCCESS:T0(this._resolve.bind(null,this.snapshot))();break;case ua.CANCELED:case ua.ERROR:T0(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(lP(this._state)){case ua.RUNNING:case ua.PAUSED:e.next&&T0(e.next.bind(e,this.snapshot))();break;case ua.SUCCESS:e.complete&&T0(e.complete.bind(e))();break;default:e.error&&T0(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class wy{constructor(e,t){this._service=e,this._location=t instanceof ko?t:ko.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new wy(e,t)}get root(){const e=new ko(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _j(this._location.path)}get storage(){return this._service}get parent(){const e=function IQ(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ko(this._location.bucket,e);return new wy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw dj(e)}}function Aj(n,e,t){return cP.apply(this,arguments)}function cP(){return cP=(0,Me.Z)(function*(n,e,t){const r=yield Mj(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield Aj(n,e,r.nextPageToken))}),cP.apply(this,arguments)}function Mj(n,e){null!=e&&"number"==typeof e.maxResults&&nP("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=NQ(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Iu)}function rJ(n){n._throwIfRoot("getDownloadURL");const e=function FQ(n,e,t){const r=Df(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Jd(r,"GET",function PQ(n,e){return function t(i,r){const s=yj(n,r,e);return Xd(null!==s),function MQ(n,e,t,i){const r=sP(e);if(null===r||!fA(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(v=>{const S=n.fullPath;return Df("/b/"+c(n.bucket)+"/o/"+c(S),t,i)+fj({alt:"media",token:v})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return d.errorHandler=TI(e),d}(n.storage,n._location,II());return n.storage.makeRequestWithTokens(e,Iu).then(t=>{if(null===t)throw function iQ(){return new Dr("no-download-url","The given file does not have any download URLs.")}();return t})}function kj(n,e){const t=function TQ(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new ko(n._location.bucket,t);return new wy(n.storage,i)}function Oj(n,e){if(n instanceof uP){const t=n;if(null==t._bucket)throw function tQ(){return new Dr("no-default-bucket","No default bucket found. Did you set the '"+aj+"' property when initializing the app?")}();const i=new wy(t,t._bucket);return null!=e?Oj(i,e):i}return void 0!==e?kj(n,e):n}function lJ(n,e){if(e&&function oJ(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof uP)return function aJ(n,e){return new wy(n,e)}(n,e);throw C0("To use ref(service, url), the first argument must be a Storage instance.")}return Oj(n,e)}function Rj(n,e){const t=null==e?void 0:e[aj];return null==t?null:ko.makeFromBucketSpec(t,n)}class uP{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=oj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ko.makeFromBucketSpec(r,this._host):Rj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ko.makeFromBucketSpec(this._url,e):Rj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Me.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Me.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wy(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new rQ(uj());{const s=function mQ(n,e,t,i,r,s){const c=fj(n.urlParams),d=n.url+c,p=Object.assign({},n.headers);return function fQ(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function dQ(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function hQ(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(p,s),function pQ(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,i),new uQ(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return(0,Me.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const Pj="@firebase/storage";function Lj(n,e){return lJ(n=Sm(n),e)}function vJ(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new uP(t,i,r,e,Fr.SDK_VERSION)}!function bJ(){(0,Fr._registerComponent)(new j9("storage",vJ,"PUBLIC").setMultipleInstances(!0)),(0,Fr.registerVersion)(Pj,"0.9.9",""),(0,Fr.registerVersion)(Pj,"0.9.9","esm2017")}();Error;class UJ{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}class bA{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Gj{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new bA(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new bA(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new bA(c,this,this._ref)):{next:t.next?c=>t.next(new bA(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class Wj{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new xf(e,this._service))}get items(){return this._delegate.items.map(e=>new xf(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class xf{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function _J(n,e){return kj(n,e)}(this._delegate,e);return new xf(t,this.storage)}get root(){return new xf(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new xf(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Gj(function uJ(n,e,t){return function XQ(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Dj(n,new Qd(e),t)}(n=Sm(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Dl.RAW,i){this._throwIfRoot("putString");const r=rP(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new Gj(new Dj(this._delegate,new Qd(r.data,!0),s),this)}listAll(){return function pJ(n){return function tJ(n){const e={prefixes:[],items:[]};return Aj(n,e).then(()=>e)}(n=Sm(n))}(this._delegate).then(e=>new Wj(e,this.storage))}list(e){return function fJ(n,e){return Mj(n=Sm(n),e)}(this._delegate,e||void 0).then(t=>new Wj(t,this.storage))}getMetadata(){return function dJ(n){return function nJ(n){n._throwIfRoot("getMetadata");const e=wj(n.storage,n._location,II());return n.storage.makeRequestWithTokens(e,Iu)}(n=Sm(n))}(this._delegate)}updateMetadata(e){return function hJ(n,e){return function iJ(n,e){n._throwIfRoot("updateMetadata");const t=function LQ(n,e,t,i){const s=Df(e.fullServerUrl(),n.host,n._protocol),d=oP(t,i),v=n.maxOperationRetryTime,T=new Jd(s,"PATCH",gA(n,i),v);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=d,T.errorHandler=TI(e),T}(n.storage,n._location,e,II());return n.storage.makeRequestWithTokens(t,Iu)}(n=Sm(n),e)}(this._delegate,e)}getDownloadURL(){return function mJ(n){return rJ(n=Sm(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function gJ(n){return function sJ(n){n._throwIfRoot("deleteObject");const e=function BQ(n,e){const i=Df(e.fullServerUrl(),n.host,n._protocol),d=new Jd(i,"DELETE",function c(p,v){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=TI(e),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Iu)}(n=Sm(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw dj(e)}}class qj{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Zj(e))throw C0("ref() expected a child path but got a URL, use refFromURL instead.");return new xf(Lj(this._delegate,e),this)}refFromURL(e){if(!Zj(e))throw C0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ko.makeFromUrl(e,this._delegate.host)}catch(t){throw C0("refFromUrl() expected a valid full URL but got an invalid one.")}return new xf(Lj(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function yJ(n,e,t,i={}){!function cJ(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:function D9(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[tj(JSON.stringify({alg:"none",type:"JWT"})),tj(JSON.stringify(c)),""].join(".")}(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function Zj(n){return/^[A-Za-z]+:\/\//.test(n)}function qJ(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new qj(t,i)}function Yj(n){const e=function YJ(n){return new si.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(Rx(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Ot.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function wA(n){return{getDownloadURL:()=>Dt(void 0).pipe(jn.fc,yi(()=>n.getDownloadURL()),jn.iC),getMetadata:()=>Dt(void 0).pipe(jn.fc,yi(()=>n.getMetadata()),jn.iC),delete:()=>(0,Jn.D)(n.delete()),child:e=>wA(n.child(e)),updateMetadata:e=>(0,Jn.D)(n.updateMetadata(e)),put:(e,t)=>Yj(n.put(e,t)),putString:(e,t,i)=>Yj(n.putString(e,t,i)),list:e=>(0,Jn.D)(n.list(e)),listAll:()=>(0,Jn.D)(n.listAll())}}!function ZJ(n){const e={TaskState:ua,TaskEvent:zQ,StringFormat:Dl,Storage:qj,Reference:xf};n.INTERNAL.registerComponent(new UJ("storage-compat",qJ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(to.Z);const KJ=new o.OlP("angularfire2.storageBucket"),QJ=new o.OlP("angularfire2.storage.maxUploadRetryTime"),JJ=new o.OlP("angularfire2.storage.maxOperationRetryTime"),XJ=new o.OlP("angularfire2.storage.use-emulator");let eX=(()=>{class n{constructor(t,i,r,s,c,d,p,v,T,S){const P=(0,Er.on)(t,c,i);this.storage=(0,Er.cc)(`${P.name}.storage.${r}`,"AngularFireStorage",P.name,()=>{const j=c.runOutsideAngular(()=>P.storage(r||void 0)),$=T;return $&&j.useEmulator(...$),p&&j.setMaxUploadRetryTime(p),v&&j.setMaxOperationRetryTime(v),j},[p,v])}ref(t){return wA(this.storage.ref(t))}refFromURL(t){return wA(this.storage.refFromURL(t))}upload(t,i,r){return wA(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Er.Dh),o.LFG(Er.xv,8),o.LFG(KJ,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(jn.HU),o.LFG(QJ,8),o.LFG(JJ,8),o.LFG(XJ,8),o.LFG(KC,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),nX=(()=>{class n{constructor(){ux.Z.registerVersion("angularfire",jn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[eX],imports:[tX]}),n})();const it=function(n,e){if(!n)throw S0(e)},S0=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},Kj=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},gP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],c=r+1<n.length,d=c?n[r+1]:0,p=r+2<n.length,v=p?n[r+2]:0;let P=(15&d)<<2|v>>6,j=63&v;p||(j=64,c||(P=64)),i.push(t[s>>2],t[(3&s)<<4|d>>4],t[P],t[j])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Kj(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const p=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(1023&p))}else{const s=n[t++],c=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&c)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],d=r<n.length?t[n.charAt(r)]:0;++r;const v=r<n.length?t[n.charAt(r)]:64;++r;const S=r<n.length?t[n.charAt(r)]:64;if(++r,null==s||null==d||null==v||null==S)throw Error();i.push(s<<2|d>>4),64!==v&&(i.push(d<<4&240|v>>2),64!==S&&i.push(v<<6&192|S))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Qj=function(n){const e=Kj(n);return gP.encodeByteArray(e,!0)},Jj=function(n){return Qj(n).replace(/\./g,"")},Xj=function(n){try{return gP.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oX(n){return e3(void 0,n)}function e3(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!aX(t)||(n[t]=e3(n[t],e[t]));return n}function aX(n){return"__proto__"!==n}class da{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function t3(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(function EA(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())}function SI(n){return JSON.parse(n)}function Ts(n){return JSON.stringify(n)}Error;const CA=function(n){let e={},t={},i={},r="";try{const s=n.split(".");e=SI(Xj(s[0])||""),t=SI(Xj(s[1])||""),r=s[2],i=t.d||{},delete t.d}catch(s){}return{header:e,claims:t,data:i,signature:r}};function Tu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Cy(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function yP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function IA(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}class vX{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if("string"==typeof e)for(let S=0;S<16;S++)i[S]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let S=0;S<16;S++)i[S]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let S=16;S<80;S++){const P=i[S-3]^i[S-8]^i[S-14]^i[S-16];i[S]=4294967295&(P<<1|P>>>31)}let v,T,r=this.chain_[0],s=this.chain_[1],c=this.chain_[2],d=this.chain_[3],p=this.chain_[4];for(let S=0;S<80;S++){S<40?S<20?(v=d^s&(c^d),T=1518500249):(v=s^c^d,T=1859775393):S<60?(v=s&c|d&(s|c),T=2400959708):(v=s^c^d,T=3395469782);const P=(r<<5|r>>>27)+v+p+T+i[S]&4294967295;p=d,d=c,c=4294967295&(s<<30|s>>>2),s=r,r=P}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const i=t-this.blockSize;let r=0;const s=this.buf_;let c=this.inbuf_;for(;r<t;){if(0===c)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(s[c]=e.charCodeAt(r),++c,++r,c===this.blockSize){this.compress_(s),c=0;break}}else for(;r<t;)if(s[c]=e[r],++c,++r,c===this.blockSize){this.compress_(s),c=0;break}}this.inbuf_=c,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}const tn=function(n,e,t,i){let r;if(i<e?r="at least "+e:i>t&&(r=0===t?"none":"no more than "+t),r)throw new Error(n+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")};function ha(n,e){return`${n} failed: ${e} argument `}function zs(n,e,t,i){if((!i||t)&&"function"!=typeof t)throw new Error(ha(n,e)+"must be a valid function.")}function r3(n,e,t,i){if((!i||t)&&("object"!=typeof t||null===t))throw new Error(ha(n,e)+"must be a valid context object.")}const TA=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};function xl(n){return n&&n._delegate?n._delegate:n}class bP{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Iy="[DEFAULT]";class s3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new da;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function AX(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Iy})}catch(t){}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch(s){}}}}clearInstance(e=Iy){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,Me.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Iy){return this.instances.has(e)}getOptions(e=Iy){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,c]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&c.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const c=this.instances.get(r);return c&&e(c,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xX(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(r){}return i||null}normalizeInstanceIdentifier(e=Iy){return this.component?this.component.multipleInstances?e:Iy:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function xX(n){return n===Iy?void 0:n}class MX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const wP=[];var Ei=(()=>(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(Ei||(Ei={})),Ei))();const o3={debug:Ei.DEBUG,verbose:Ei.VERBOSE,info:Ei.INFO,warn:Ei.WARN,error:Ei.ERROR,silent:Ei.SILENT},kX=Ei.INFO,OX={[Ei.DEBUG]:"log",[Ei.VERBOSE]:"log",[Ei.INFO]:"info",[Ei.WARN]:"warn",[Ei.ERROR]:"error"},RX=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=OX[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class a3{constructor(e){this.name=e,this._logLevel=kX,this._logHandler=RX,this._userLogHandler=null,wP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ei))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?o3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ei.DEBUG,...e),this._logHandler(this,Ei.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ei.VERBOSE,...e),this._logHandler(this,Ei.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ei.INFO,...e),this._logHandler(this,Ei.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ei.WARN,...e),this._logHandler(this,Ei.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ei.ERROR,...e),this._logHandler(this,Ei.ERROR,...e)}}const l3="@firebase/database";let EP="";function u3(n){EP=n}class PX{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ts(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:SI(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class NX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Tu(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const d3=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new PX(e)}}catch(e){}return new NX},Ty=d3("localStorage"),CP=d3("sessionStorage"),D0=new a3("@firebase/database"),h3=function(){let n=1;return function(){return n++}}(),f3=function(n){const e=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,it(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(n.charCodeAt(i)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),t=new vX;t.update(e);const i=t.digest();return gP.encodeByteArray(i)},DI=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=DI.apply(null,i):e+="object"==typeof i?Ts(i):i,e+=" "}return e};let Sy=null,p3=!0;const m3=function(n,e){it(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(D0.logLevel=Ei.VERBOSE,Sy=D0.log.bind(D0),e&&CP.set("logging_enabled",!0)):"function"==typeof n?Sy=n:(Sy=null,CP.remove("logging_enabled"))},$s=function(...n){if(!0===p3&&(p3=!1,null===Sy&&!0===CP.get("logging_enabled")&&m3(!0)),Sy){const e=DI.apply(null,n);Sy(e)}},xI=function(n){return function(...e){$s(n,...e)}},IP=function(...n){const e="FIREBASE INTERNAL ERROR: "+DI(...n);D0.error(e)},eh=function(...n){const e=`FIREBASE FATAL ERROR: ${DI(...n)}`;throw D0.error(e),new Error(e)},Oo=function(...n){const e="FIREBASE WARNING: "+DI(...n);D0.warn(e)},SA=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Mf="[MIN_NAME]",th="[MAX_NAME]",Dy=function(n,e){if(n===e)return 0;if(n===Mf||e===th)return-1;if(e===Mf||n===th)return 1;{const t=DA(n),i=DA(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},BX=function(n,e){return n===e?0:n<e?-1:1},AI=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ts(e))},TP=function(n){if("object"!=typeof n||null===n)return Ts(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=Ts(e[i]),t+=":",t+=TP(n[e[i]]);return t+="}",t},g3=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Gs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const _3=function(n){it(!SA(n),"Invalid JSON number");const i=1023;let r,s,c,d,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const v=[];for(p=52;p;p-=1)v.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(r?1:0),v.reverse();const T=v.join("");let S="";for(p=0;p<64;p+=8){let P=parseInt(T.substr(p,8),2).toString(16);1===P.length&&(P="0"+P),S+=P}return S.toLowerCase()},HX=new RegExp("^-?(0*)\\d{1,10}$"),y3=-2147483648,SP=2147483647,DA=function(n){if(HX.test(n)){const e=Number(n);if(e>=y3&&e<=SP)return e}return null},x0=function(n){try{n()}catch(e){setTimeout(()=>{throw Oo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},MI=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class $X{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Oo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class GX{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?($s("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Oo(e)}}let kI=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const C3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,S3="websocket",D3="long_polling";class xP{constructor(e,t,i,r,s=!1,c="",d=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ty.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ty.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function x3(n,e,t){let i;if(it("string"==typeof e,"typeof type must == string"),it("object"==typeof t,"typeof params must == object"),e===S3)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==D3)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function WX(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Gs(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class qX{constructor(){this.counters_={}}incrementCounter(e,t=1){Tu(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return oX(this.counters_)}}const AP={},MP={};function kP(n){const e=n.toString();return AP[e]||(AP[e]=new qX),AP[e]}class YX{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&x0(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xm{constructor(e,t,i,r,s,c,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xI(e),this.stats_=kP(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),x3(t,D3,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new YX(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new OP((...s)=>{const[c,d,p,v,T]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&C3.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xm.forceAllow_=!0}static forceDisallow(){xm.forceDisallow_=!0}static isAvailable(){return!(!xm.forceAllow_&&(xm.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ts(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=Qj(t),r=g3(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ts(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class OP{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=h3(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=OP.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){$s("frame writing exception"),d.stack&&$s(d.stack),$s(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||$s("No IE domain setting required")}catch(t){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{$s("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let AA=null;"undefined"!=typeof MozWebSocket?AA=MozWebSocket:"undefined"!=typeof WebSocket&&(AA=WebSocket);let A0=(()=>{class n{constructor(t,i,r,s,c,d,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xI(this.connId),this.stats_=kP(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,c){const d={v:"5"};return"undefined"!=typeof location&&location.hostname&&C3.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),x3(t,S3,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ty.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new AA(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==AA&&!n.forceDisallow_}static previouslyFailed(){return Ty.isInMemoryStorage||!0===Ty.get("previous_websocket_failure")}markConnectionHealthy(){Ty.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=SI(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(it(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Ts(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=g3(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),N3=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[xm,A0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=A0&&A0.isAvailable();let r=i&&!A0.previouslyFailed();if(t.webSocketOnly&&(i||Oo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[A0];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class H3{constructor(e,t,i,r,s,c,d,p,v,T){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=v,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xI("c:"+this.id+":"),this.transportManager_=new N3(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=MI(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=AI("t",e),i=AI("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=AI("t",e),i=AI("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=AI("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?IP("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):IP("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Oo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),MI(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):MI(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ty.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class z3{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class $3{constructor(e){this.allowedEvents_=e,this.listeners_={},it(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){it(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class MA extends $3{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!t3()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new MA}getInitialEvent(e){return it("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ai{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Kn(){return new ai("")}function Cn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Am(n){return n.pieces_.length-n.pieceNum_}function Mi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ai(n.pieces_,e)}function PP(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function OI(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function q3(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ai(e,0)}function er(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ai)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new ai(t,0)}function In(n){return n.pieceNum_>=n.pieces_.length}function fa(n,e){const t=Cn(n),i=Cn(e);if(null===t)return e;if(t===i)return fa(Mi(n),Mi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function _ee(n,e){const t=OI(n,0),i=OI(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Dy(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function NP(n,e){if(Am(n)!==Am(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ic(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Am(n)>Am(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class yee{constructor(e,t){this.errorPrefix_=t,this.parts_=OI(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=TA(this.parts_[i]);Z3(this)}}function Z3(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+xy(n))}function xy(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class FP extends $3{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new FP}getInitialEvent(e){return it("visible"===e,"Unknown event type: "+e),[this.visible_]}}const RI=1e3;let OA,Ay=(()=>{class n extends z3{constructor(t,i,r,s,c,d,p,v){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=xI("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=RI,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");FP.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&MA.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_(Ts(c)),it(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new da,r={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),it(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),it(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const v=p.d,T=p.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==T&&this.removeListen_(r,s),t.onComplete&&t.onComplete(T,v))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&Tu(t,"w")){const r=Cy(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Oo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=CA(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(n){const t=CA(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),it(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ts(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):IP("Unrecognized action received from server: "+Ts(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){it(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RI,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=RI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=RI),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Me.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let p=!1,v=null;const T=function(){v?v.close():(p=!0,s())};t.realtime_={close:T,sendRequest:function(j){it(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(j)}};const P=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[j,$]=yield Promise.all([t.authTokenProvider_.getToken(P),t.appCheckTokenProvider_.getToken(P)]);p?$s("getToken() completed but was canceled"):($s("getToken() completed. Creating connection."),t.authToken_=j&&j.accessToken,t.appCheckToken_=$&&$.token,v=new H3(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,oe=>{Oo(oe+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(j){t.log_("Failed to get token: "+j),p||(t.repoInfo_.nodeAdmin&&Oo(j),T())}}})()}interrupt(t){$s("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){$s("Resuming connection for reason: "+t),delete this.interruptReasons_[t],yP(this.interruptReasons_)&&(this.reconnectDelay_=RI,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>TP(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new ai(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){$s("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){$s("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+EP.replace(/\./g,"-")]=1,t3()?t["framework.cordova"]=1:function uX(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=MA.getInstance().currentlyOnline();return yP(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Dn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Dn(e,t)}}class kA{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Dn(Mf,e),r=new Dn(Mf,t);return 0!==this.compare(i,r)}minPost(){return Dn.MIN}}class Q3 extends kA{static get __EMPTY_NODE(){return OA}static set __EMPTY_NODE(e){OA=e}compare(e,t){return Dy(e.name,t.name)}isDefinedOn(e){throw S0("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Dn.MIN}maxPost(){return new Dn(th,OA)}makePost(e,t){return it("string"==typeof e,"KeyIndex indexValue must always be a string."),new Dn(e,OA)}toString(){return".key"}}const nh=new Q3;class RA{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let BP,Su=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Fa.EMPTY_NODE,this.right=null!=c?c:Fa.EMPTY_NODE}copy(t,i,r,s,c){return new n(null!=t?t:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fa.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Fa.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Fa{constructor(e,t=Fa.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Fa(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Su.BLACK,null,null))}remove(e){return new Fa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Su.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new RA(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new RA(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new RA(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new RA(this.root_,null,this.comparator_,!0,e)}}function See(n,e){return Dy(n.name,e.name)}function LP(n,e){return Dy(n,e)}Fa.EMPTY_NODE=new class Tee{copy(e,t,i,r,s){return this}insert(e,t,i){return new Su(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const J3=function(n){return"number"==typeof n?"number:"+_3(n):"string:"+n},X3=function(n){if(n.isLeafNode()){const e=n.val();it("string"==typeof e||"number"==typeof e||"object"==typeof e&&Tu(e,".sv"),"Priority must be a string or number.")}else it(n===BP||n.isEmpty(),"priority of unexpected type.");it(n===BP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let e6,t6,n6,M0=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,it(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),X3(this.priorityNode_)}static set __childrenNodeConstructor(t){e6=t}static get __childrenNodeConstructor(){return e6}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return In(t)?this:".priority"===Cn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Cn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(it(".priority"!==r||1===Am(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+J3(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?_3(this.value_):this.value_,this.lazyHash_=f3(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(it(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return it(s>=0,"Unknown leaf type: "+i),it(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Bi=new class Mee extends kA{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Dy(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Dn.MIN}maxPost(){return new Dn(th,new M0("[PRIORITY-POST]",n6))}makePost(e,t){const i=t6(e);return new Dn(t,new M0("[PRIORITY-POST]",i))}toString(){return".priority"}},kee=Math.log(2);class Oee{constructor(e){this.count=parseInt(Math.log(e+1)/kee,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const PA=function(n,e,t,i){n.sort(e);const r=function(p,v){const T=v-p;let S,P;if(0===T)return null;if(1===T)return S=n[p],P=t?t(S):S,new Su(P,S.node,Su.BLACK,null,null);{const j=parseInt(T/2,10)+p,$=r(p,j),oe=r(j+1,v);return S=n[j],P=t?t(S):S,new Su(P,S.node,Su.BLACK,$,oe)}},d=function(p){let v=null,T=null,S=n.length;const P=function($,oe){const _e=S-$,Je=S;S-=$;const st=r(_e+1,Je),rt=n[_e],ot=t?t(rt):rt;j(new Su(ot,rt.node,oe,null,st))},j=function($){v?(v.left=$,v=$):(T=$,v=$)};for(let $=0;$<p.count;++$){const oe=p.nextBitIsOne(),_e=Math.pow(2,p.count-($+1));oe?P(_e,Su.BLACK):(P(_e,Su.BLACK),P(_e,Su.RED))}return T}(new Oee(n.length));return new Fa(i||e,d)};let VP;const k0={};class kf{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return it(k0&&Bi,"ChildrenNode.ts has not been loaded"),VP=VP||new kf({".priority":k0},{".priority":Bi}),VP}get(e){const t=Cy(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Fa?t:null}hasIndex(e){return Tu(this.indexSet_,e.toString())}addIndex(e,t){it(e!==nh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Dn.Wrap);let d,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?PA(i,e.getCompare()):k0;const p=e.toString(),v=Object.assign({},this.indexSet_);v[p]=e;const T=Object.assign({},this.indexes_);return T[p]=d,new kf(T,v)}addToIndexes(e,t){const i=IA(this.indexes_,(r,s)=>{const c=Cy(this.indexSet_,s);if(it(c,"Missing index implementation for "+s),r===k0){if(c.isDefinedOn(e.node)){const d=[],p=t.getIterator(Dn.Wrap);let v=p.getNext();for(;v;)v.name!==e.name&&d.push(v),v=p.getNext();return d.push(e),PA(d,c.getCompare())}return k0}{const d=t.get(e.name);let p=r;return d&&(p=p.remove(new Dn(e.name,d))),p.insert(e,e.node)}});return new kf(i,this.indexSet_)}removeFromIndexes(e,t){const i=IA(this.indexes_,r=>{if(r===k0)return r;{const s=t.get(e.name);return s?r.remove(new Dn(e.name,s)):r}});return new kf(i,this.indexSet_)}}let PI,fn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&X3(this.priorityNode_),this.children_.isEmpty()&&it(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return PI||(PI=new n(new Fa(LP),null,kf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||PI}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?PI:i}}getChild(t){const i=Cn(t);return null===i?this:this.getImmediateChild(i).getChild(Mi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(it(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Dn(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?PI:this.priorityNode_;return new n(s,d,c)}}updateChild(t,i){const r=Cn(t);if(null===r)return i;{it(".priority"!==Cn(t)||1===Am(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Mi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(Bi,(d,p)=>{i[d]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!t&&c&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+J3(this.getPriority().val())+":"),this.forEachChild(Bi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":f3(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new Dn(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Dn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Dn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Dn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Dn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===NI?-1:0}withIndex(t){if(t===nh||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===nh||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Bi),s=i.getIterator(Bi);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(t){return t===nh?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const NI=new class Ree extends fn{constructor(){super(new Fa(LP),fn.EMPTY_NODE,kf.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fn.EMPTY_NODE}isEmpty(){return!1}};function dr(n,e=null){if(null===n)return fn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),it(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new M0(n,dr(e));if(n instanceof Array){let t=fn.EMPTY_NODE;return Gs(n,(i,r)=>{if(Tu(n,i)&&"."!==i.substring(0,1)){const s=dr(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(dr(e))}{const t=[];let i=!1;if(Gs(n,(c,d)=>{if("."!==c.substring(0,1)){const p=dr(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new Dn(c,p)))}}),0===t.length)return fn.EMPTY_NODE;const s=PA(t,See,c=>c.name,LP);if(i){const c=PA(t,Bi.getCompare());return new fn(s,dr(e),new kf({".priority":c},{".priority":Bi}))}return new fn(s,dr(e),kf.Default)}}Object.defineProperties(Dn,{MIN:{value:new Dn(Mf,fn.EMPTY_NODE)},MAX:{value:new Dn(th,NI)}}),Q3.__EMPTY_NODE=fn.EMPTY_NODE,M0.__childrenNodeConstructor=fn,function Dee(n){BP=n}(NI),function Aee(n){n6=n}(NI),function xee(n){t6=n}(dr);class UP extends kA{constructor(e){super(),this.indexPath_=e,it(!In(e)&&".priority"!==Cn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Dy(e.name,t.name):s}makePost(e,t){const i=dr(e),r=fn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Dn(t,r)}maxPost(){const e=fn.EMPTY_NODE.updateChild(this.indexPath_,NI);return new Dn(th,e)}toString(){return OI(this.indexPath_,0).join("/")}}const jP=new class Nee extends kA{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Dy(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Dn.MIN}maxPost(){return Dn.MAX}makePost(e,t){const i=dr(e);return new Dn(t,i)}toString(){return".value"}},O0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Fee=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=O0.charAt(t%64),t=Math.floor(t/64);it(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=O0.charAt(e[r]);return it(20===c.length,"nextPushId: Length should be 20."),c}}(),s6=function(n){if(n===""+SP)return"-";const e=DA(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return th;const s=O0.charAt(O0.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},o6=function(n){if(n===""+y3)return Mf;const e=DA(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+SP:(delete t[t.length-1],t.join("")):(t[t.length-1]=O0.charAt(O0.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function a6(n){return{type:"value",snapshotNode:n}}function R0(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function FI(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function LI(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class zP{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){it(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(FI(t,d)):it(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(R0(t,i)):c.trackChildChange(LI(t,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Bi,(r,s)=>{t.hasChild(r)||i.trackChildChange(FI(r,s))}),t.isLeafNode()||t.forEachChild(Bi,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(LI(r,s,c))}else i.trackChildChange(R0(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?fn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class BI{constructor(e){this.indexedFilter_=new zP(e.getIndex()),this.index_=e.getIndex(),this.startPost_=BI.getStartPost_(e),this.endPost_=BI.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,c){return this.matches(new Dn(t,i))||(i=fn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=fn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(fn.EMPTY_NODE);const s=this;return t.forEachChild(Bi,(c,d)=>{s.matches(new Dn(c,d))||(r=r.updateImmediateChild(c,fn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Bee{constructor(e){this.rangedFilter_=new BI(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new Dn(t,i))||(i=fn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=fn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=fn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,p;if(r=t.withIndex(this.index_),r=r.updatePriority(fn.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const S=this.index_.getCompare();d=(P,j)=>S(j,P)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let v=0,T=!1;for(;p.hasNext();){const S=p.getNext();!T&&d(s,S)<=0&&(T=!0),T&&v<this.limit_&&d(S,c)<=0?v++:r=r.updateImmediateChild(S.name,fn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const S=this.index_.getCompare();c=(P,j)=>S(j,P)}else c=this.index_.getCompare();const d=e;it(d.numChildren()===this.limit_,"");const p=new Dn(t,i),v=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),T=this.rangedFilter_.matches(p);if(d.hasChild(t)){const S=d.getImmediateChild(t);let P=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=P&&(P.name===t||d.hasChild(P.name));)P=r.getChildAfterChild(this.index_,P,this.reverse_);const j=null==P?1:c(P,p);if(T&&!i.isEmpty()&&j>=0)return null!=s&&s.trackChildChange(LI(t,i,S)),d.updateImmediateChild(t,i);{null!=s&&s.trackChildChange(FI(t,S));const oe=d.updateImmediateChild(t,fn.EMPTY_NODE);return null!=P&&this.rangedFilter_.matches(P)?(null!=s&&s.trackChildChange(R0(P.name,P.node)),oe.updateImmediateChild(P.name,P.node)):oe}}return i.isEmpty()?e:T&&c(v,p)>=0?(null!=s&&(s.trackChildChange(FI(v.name,v.node)),s.trackChildChange(R0(t,i))),d.updateImmediateChild(t,i).updateImmediateChild(v.name,fn.EMPTY_NODE)):e}}class NA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return it(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return it(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mf}hasEnd(){return this.endSet_}getIndexEndValue(){return it(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return it(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:th}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return it(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bi}copy(){const e=new NA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $P(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function GP(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function FA(n,e){const t=n.copy();return t.index_=e,t}function l6(n){const e={};if(n.isDefault())return e;let t;return n.index_===Bi?t="$priority":n.index_===jP?t="$value":n.index_===nh?t="$key":(it(n.index_ instanceof UP,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Ts(t),n.startSet_&&(e.startAt=Ts(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+Ts(n.indexStartName_))),n.endSet_&&(e.endAt=Ts(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+Ts(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function c6(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Bi&&(e.i=n.index_.toString()),e}class LA extends z3{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=xI("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(it(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=LA.getListenId_(e,i),d={};this.listens_[c]=d;const p=l6(e._queryParams);this.restRequest_(s+".json",p,(v,T)=>{let S=T;if(404===v&&(S=null,v=null),null===v&&this.onDataUpdate_(s,S,!1,i),Cy(this.listens_,c)===d){let P;P=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(P,null)}})}unlisten(e,t){const i=LA.getListenId_(e,t);delete this.listens_[i]}get(e){const t=l6(e._queryParams),i=e._path.toString(),r=new da;return this.restRequest_(i+".json",t,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function yX(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}(t);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=SI(d.responseText)}catch(v){Oo("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&Oo("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class $ee{constructor(){this.rootNode_=fn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function BA(){return{value:null,children:new Map}}function P0(n,e,t){if(In(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Cn(e);n.children.has(i)||n.children.set(i,BA()),P0(n.children.get(i),e=Mi(e),t)}}function WP(n,e){if(In(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Bi,(i,r)=>{P0(n,new ai(i),r)}),WP(n,e)}}if(n.children.size>0){const t=Cn(e);return e=Mi(e),n.children.has(t)&&WP(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function qP(n,e,t){null!==n.value?t(e,n.value):function Gee(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{qP(r,new ai(e.toString()+"/"+i),t)})}class Wee{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Gs(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class Yee{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Wee(e);const i=1e4+2e4*Math.random();MI(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Gs(e,(r,s)=>{s>0&&Tu(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),MI(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Tc=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Tc||(Tc={})),Tc))();function KP(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class VA{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Tc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(In(this.path)){if(null!=this.affectedTree.value)return it(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ai(e));return new VA(Kn(),t,this.revert)}}return it(Cn(this.path)===e,"operationForChild called for unrelated child."),new VA(Mi(this.path),this.affectedTree,this.revert)}}class VI{constructor(e,t){this.source=e,this.path=t,this.type=Tc.LISTEN_COMPLETE}operationForChild(e){return In(this.path)?new VI(this.source,Kn()):new VI(this.source,Mi(this.path))}}class My{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Tc.OVERWRITE}operationForChild(e){return In(this.path)?new My(this.source,Kn(),this.snap.getImmediateChild(e)):new My(this.source,Mi(this.path),this.snap)}}class N0{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Tc.MERGE}operationForChild(e){if(In(this.path)){const t=this.children.subtree(new ai(e));return t.isEmpty()?null:t.value?new My(this.source,Kn(),t.value):new N0(this.source,Kn(),t)}return it(Cn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new N0(this.source,Mi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Mm{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(In(e))return this.isFullyInitialized()&&!this.filtered_;const t=Cn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Kee{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function UI(n,e,t,i,r,s){const c=i.filter(d=>d.type===t);c.sort((d,p)=>function Xee(n,e,t){if(null==e.childName||null==t.childName)throw S0("Should only compare child_ events.");const i=new Dn(e.childName,e.snapshotNode),r=new Dn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function Jee(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,s);r.forEach(v=>{v.respondsTo(d.type)&&e.push(v.createEvent(p,n.query_))})})}function UA(n,e){return{eventCache:n,serverCache:e}}function jI(n,e,t,i){return UA(new Mm(e,t,i),n.serverCache)}function d6(n,e,t,i){return UA(n.eventCache,new Mm(e,t,i))}function jA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ky(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let QP;class Vi{constructor(e,t=(()=>(QP||(QP=new Fa(BX)),QP))()){this.value=e,this.children=t}static fromObject(e){let t=new Vi(null);return Gs(e,(i,r)=>{t=t.set(new ai(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Kn(),value:this.value};if(In(e))return null;{const i=Cn(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Mi(e),t);return null!=s?{path:er(new ai(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(In(e))return this;{const t=Cn(e),i=this.children.get(t);return null!==i?i.subtree(Mi(e)):new Vi(null)}}set(e,t){if(In(e))return new Vi(t,this.children);{const i=Cn(e),s=(this.children.get(i)||new Vi(null)).set(Mi(e),t),c=this.children.insert(i,s);return new Vi(this.value,c)}}remove(e){if(In(e))return this.children.isEmpty()?new Vi(null):new Vi(null,this.children);{const t=Cn(e),i=this.children.get(t);if(i){const r=i.remove(Mi(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Vi(null):new Vi(this.value,s)}return this}}get(e){if(In(e))return this.value;{const t=Cn(e),i=this.children.get(t);return i?i.get(Mi(e)):null}}setTree(e,t){if(In(e))return t;{const i=Cn(e),s=(this.children.get(i)||new Vi(null)).setTree(Mi(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Vi(this.value,c)}}fold(e){return this.fold_(Kn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(er(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Kn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(In(e))return null;{const s=Cn(e),c=this.children.get(s);return c?c.findOnPath_(Mi(e),er(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Kn(),t)}foreachOnPath_(e,t,i){if(In(e))return this;{this.value&&i(t,this.value);const r=Cn(e),s=this.children.get(r);return s?s.foreachOnPath_(Mi(e),er(t,r),i):new Vi(null)}}foreach(e){this.foreach_(Kn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(er(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Du{constructor(e){this.writeTree_=e}static empty(){return new Du(new Vi(null))}}function HI(n,e,t){if(In(e))return new Du(new Vi(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=fa(r,e);return s=s.updateChild(c,t),new Du(n.writeTree_.set(r,s))}{const r=new Vi(t),s=n.writeTree_.setTree(e,r);return new Du(s)}}}function JP(n,e,t){let i=n;return Gs(t,(r,s)=>{i=HI(i,er(e,r),s)}),i}function h6(n,e){if(In(e))return Du.empty();{const t=n.writeTree_.setTree(e,new Vi(null));return new Du(t)}}function XP(n,e){return null!=Oy(n,e)}function Oy(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(fa(t.path,e)):null}function f6(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Bi,(i,r)=>{e.push(new Dn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Dn(i,r.value))}),e}function km(n,e){if(In(e))return n;{const t=Oy(n,e);return new Du(null!=t?new Vi(t):n.writeTree_.subtree(e))}}function eN(n){return n.writeTree_.isEmpty()}function F0(n,e){return p6(Kn(),n.writeTree_,e)}function p6(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?(it(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=p6(er(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(er(n,".priority"),i)),t}}function HA(n,e){return v6(e,n)}function ste(n,e){if(n.snap)return Ic(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ic(er(n.path,t),e))return!0;return!1}function ate(n){return n.visible}function m6(n,e,t){let i=Du.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let d;if(s.snap)Ic(t,c)?(d=fa(t,c),i=HI(i,d,s.snap)):Ic(c,t)&&(d=fa(c,t),i=HI(i,Kn(),s.snap.getChild(d)));else{if(!s.children)throw S0("WriteRecord should have .snap or .children");if(Ic(t,c))d=fa(t,c),i=JP(i,d,s.children);else if(Ic(c,t))if(d=fa(c,t),In(d))i=JP(i,Kn(),s.children);else{const p=Cy(s.children,Cn(d));if(p){const v=p.getChild(Mi(d));i=HI(i,Kn(),v)}}}}}return i}function g6(n,e,t,i,r){if(i||r){const s=km(n.visibleWrites,e);return!r&&eN(s)?t:r||null!=t||XP(s,Kn())?F0(m6(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(Ic(v.path,e)||Ic(e,v.path))},e),t||fn.EMPTY_NODE):null}{const s=Oy(n.visibleWrites,e);if(null!=s)return s;{const c=km(n.visibleWrites,e);return eN(c)?t:null!=t||XP(c,Kn())?F0(c,t||fn.EMPTY_NODE):null}}}function zA(n,e,t,i){return g6(n.writeTree,n.treePath,e,t,i)}function tN(n,e){return function lte(n,e,t){let i=fn.EMPTY_NODE;const r=Oy(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Bi,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=km(n.visibleWrites,e);return t.forEachChild(Bi,(c,d)=>{const p=F0(km(s,new ai(c)),d);i=i.updateImmediateChild(c,p)}),f6(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return f6(km(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function _6(n,e,t,i){return function cte(n,e,t,i,r){it(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=er(e,t);if(XP(n.visibleWrites,s))return null;{const c=km(n.visibleWrites,s);return eN(c)?r.getChild(t):F0(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function $A(n,e){return function dte(n,e){return Oy(n.visibleWrites,e)}(n.writeTree,er(n.treePath,e))}function nN(n,e,t){return function ute(n,e,t,i){const r=er(e,t),s=Oy(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?F0(km(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function y6(n,e){return v6(er(n.treePath,e),n.writeTree)}function v6(n,e){return{treePath:n,writeTree:e}}class mte{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;it("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),it(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,LI(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,FI(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,R0(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw S0("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,LI(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const b6=new class gte{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class iN{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Mm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nN(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ky(this.viewCache_),s=function pte(n,e,t,i,r,s){return function hte(n,e,t,i,r,s,c){let d;const p=km(n.visibleWrites,e),v=Oy(p,Kn());if(null!=v)d=v;else{if(null==t)return[];d=F0(p,t)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const T=[],S=c.getCompare(),P=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let j=P.getNext();for(;j&&T.length<r;)0!==S(j,i)&&T.push(j),j=P.getNext();return T}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function w6(n,e,t,i,r,s){const c=e.eventCache;if(null!=$A(i,t))return e;{let d,p;if(In(t))if(it(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=ky(e),S=tN(i,v instanceof fn?v:fn.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),S,s)}else{const v=zA(i,ky(e));d=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const v=Cn(t);if(".priority"===v){it(1===Am(t),"Can't have a priority with additional path components");const T=c.getNode();p=e.serverCache.getNode();const S=_6(i,t,T,p);d=null!=S?n.filter.updatePriority(T,S):c.getNode()}else{const T=Mi(t);let S;if(c.isCompleteForChild(v)){p=e.serverCache.getNode();const P=_6(i,t,c.getNode(),p);S=null!=P?c.getNode().getImmediateChild(v).updateChild(T,P):c.getNode().getImmediateChild(v)}else S=nN(i,v,e.serverCache);d=null!=S?n.filter.updateChild(c.getNode(),v,S,T,r,s):c.getNode()}}return jI(e,d,c.isFullyInitialized()||In(t),n.filter.filtersNodes())}}function GA(n,e,t,i,r,s,c,d){const p=e.serverCache;let v;const T=c?n.filter:n.filter.getIndexedFilter();if(In(t))v=T.updateFullNode(p.getNode(),i,null);else if(T.filtersNodes()&&!p.isFiltered()){const j=p.getNode().updateChild(t,i);v=T.updateFullNode(p.getNode(),j,null)}else{const j=Cn(t);if(!p.isCompleteForPath(t)&&Am(t)>1)return e;const $=Mi(t),_e=p.getNode().getImmediateChild(j).updateChild($,i);v=".priority"===j?T.updatePriority(p.getNode(),_e):T.updateChild(p.getNode(),j,_e,$,b6,null)}const S=d6(e,v,p.isFullyInitialized()||In(t),T.filtersNodes());return w6(n,S,t,r,new iN(r,S,s),d)}function rN(n,e,t,i,r,s,c){const d=e.eventCache;let p,v;const T=new iN(r,e,s);if(In(t))v=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=jI(e,v,!0,n.filter.filtersNodes());else{const S=Cn(t);if(".priority"===S)v=n.filter.updatePriority(e.eventCache.getNode(),i),p=jI(e,v,d.isFullyInitialized(),d.isFiltered());else{const P=Mi(t),j=d.getNode().getImmediateChild(S);let $;if(In(P))$=i;else{const oe=T.getCompleteChild(S);$=null!=oe?".priority"===PP(P)&&oe.getChild(q3(P)).isEmpty()?oe:oe.updateChild(P,i):fn.EMPTY_NODE}p=j.equals($)?e:jI(e,n.filter.updateChild(d.getNode(),S,$,P,T,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function E6(n,e){return n.eventCache.isCompleteForChild(e)}function C6(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function sN(n,e,t,i,r,s,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,p=e;v=In(t)?i:new Vi(null).setTree(t,i);const T=e.serverCache.getNode();return v.children.inorderTraversal((S,P)=>{if(T.hasChild(S)){const $=C6(0,e.serverCache.getNode().getImmediateChild(S),P);p=GA(n,p,new ai(S),$,r,s,c,d)}}),v.children.inorderTraversal((S,P)=>{const j=!e.serverCache.isCompleteForChild(S)&&void 0===P.value;if(!T.hasChild(S)&&!j){const oe=C6(0,e.serverCache.getNode().getImmediateChild(S),P);p=GA(n,p,new ai(S),oe,r,s,c,d)}}),p}class Tte{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new zP(i.getIndex()),s=function Vee(n){return n.loadsAllData()?new zP(n.getIndex()):n.hasLimit()?new Bee(n):new BI(n)}(i);this.processor_=function _te(n){return{filter:n}}(s);const c=t.serverCache,d=t.eventCache,p=r.updateFullNode(fn.EMPTY_NODE,c.getNode(),null),v=s.updateFullNode(fn.EMPTY_NODE,d.getNode(),null),T=new Mm(p,c.isFullyInitialized(),r.filtersNodes()),S=new Mm(v,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=UA(S,T),this.eventGenerator_=new Kee(this.query_)}get query(){return this.query_}}function xte(n,e){const t=ky(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!In(e)&&!t.getImmediateChild(Cn(e)).isEmpty())?t.getChild(e):null}function I6(n){return 0===n.eventRegistrations_.length}function T6(n,e,t){const i=[];if(t){it(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function S6(n,e,t,i){e.type===Tc.MERGE&&null!==e.source.queryId&&(it(ky(n.viewCache_),"We should always have a full cache before handling merges"),it(jA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function vte(n,e,t,i,r){const s=new mte;let c,d;if(t.type===Tc.OVERWRITE){const v=t;v.source.fromUser?c=rN(n,e,v.path,v.snap,i,r,s):(it(v.source.fromServer,"Unknown source."),d=v.source.tagged||e.serverCache.isFiltered()&&!In(v.path),c=GA(n,e,v.path,v.snap,i,r,d,s))}else if(t.type===Tc.MERGE){const v=t;v.source.fromUser?c=function wte(n,e,t,i,r,s,c){let d=e;return i.foreach((p,v)=>{const T=er(t,p);E6(e,Cn(T))&&(d=rN(n,d,T,v,r,s,c))}),i.foreach((p,v)=>{const T=er(t,p);E6(e,Cn(T))||(d=rN(n,d,T,v,r,s,c))}),d}(n,e,v.path,v.children,i,r,s):(it(v.source.fromServer,"Unknown source."),d=v.source.tagged||e.serverCache.isFiltered(),c=sN(n,e,v.path,v.children,i,r,d,s))}else if(t.type===Tc.ACK_USER_WRITE){const v=t;c=v.revert?function Ite(n,e,t,i,r,s){let c;if(null!=$A(i,t))return e;{const d=new iN(i,e,r),p=e.eventCache.getNode();let v;if(In(t)||".priority"===Cn(t)){let T;if(e.serverCache.isFullyInitialized())T=zA(i,ky(e));else{const S=e.serverCache.getNode();it(S instanceof fn,"serverChildren would be complete if leaf node"),T=tN(i,S)}T=T,v=n.filter.updateFullNode(p,T,s)}else{const T=Cn(t);let S=nN(i,T,e.serverCache);null==S&&e.serverCache.isCompleteForChild(T)&&(S=p.getImmediateChild(T)),v=null!=S?n.filter.updateChild(p,T,S,Mi(t),d,s):e.eventCache.getNode().hasChild(T)?n.filter.updateChild(p,T,fn.EMPTY_NODE,Mi(t),d,s):p,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=zA(i,ky(e)),c.isLeafNode()&&(v=n.filter.updateFullNode(v,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=$A(i,Kn()),jI(e,v,c,n.filter.filtersNodes())}}(n,e,v.path,i,r,s):function Ete(n,e,t,i,r,s,c){if(null!=$A(r,t))return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(In(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return GA(n,e,t,p.getNode().getChild(t),r,s,d,c);if(In(t)){let v=new Vi(null);return p.getNode().forEachChild(nh,(T,S)=>{v=v.set(new ai(T),S)}),sN(n,e,t,v,r,s,d,c)}return e}{let v=new Vi(null);return i.foreach((T,S)=>{const P=er(t,T);p.isCompleteForPath(P)&&(v=v.set(T,p.getNode().getChild(P)))}),sN(n,e,t,v,r,s,d,c)}}(n,e,v.path,v.affectedTree,i,r,s)}else{if(t.type!==Tc.LISTEN_COMPLETE)throw S0("Unknown operation type: "+t.type);c=function Cte(n,e,t,i,r){const s=e.serverCache;return w6(n,d6(e,s.getNode(),s.isFullyInitialized()||In(t),s.isFiltered()),t,i,b6,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function bte(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=jA(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(a6(jA(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function yte(n,e){it(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),it(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),it(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,D6(n,s.changes,s.viewCache.eventCache.getNode(),null)}function D6(n,e,t,i){return function Qee(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function Lee(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),UI(n,r,"child_removed",e,i,t),UI(n,r,"child_added",e,i,t),UI(n,r,"child_moved",s,i,t),UI(n,r,"child_changed",e,i,t),UI(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let WA,ZA;class x6{constructor(){this.views=new Map}}function oN(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return it(null!=s,"SyncTree gave us an op for an invalid query."),S6(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(S6(c,e,t,i));return s}}function aN(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let d=zA(t,r?i:null),p=!1;d?p=!0:i instanceof fn?(d=tN(t,i),p=!1):(d=fn.EMPTY_NODE,p=!1);const v=UA(new Mm(d,p,!1),new Mm(i,r,!1));return new Tte(e,v)}return c}function A6(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Om(n,e){let t=null;for(const i of n.views.values())t=t||xte(i,e);return t}function M6(n,e){return e._queryParams.loadsAllData()?qA(n):n.views.get(e._queryIdentifier)}function k6(n,e){return null!=M6(n,e)}function Rm(n){return null!=qA(n)}function qA(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Bte=1;class O6{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Vi(null),this.pendingWriteTree_=function fte(){return{visibleWrites:Du.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lN(n,e,t,i,r){return function tte(n,e,t,i,r){it(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=HI(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?L0(n,new My({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Pm(n,e,t=!1){const i=function ite(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function rte(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);it(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=t&&ste(d,i.path)?r=!1:Ic(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function ote(n){n.visibleWrites=m6(n.allWrites,ate,Kn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=h6(n.visibleWrites,i.path):Gs(i.children,p=>{n.visibleWrites=h6(n.visibleWrites,er(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new Vi(null);return null!=i.snap?s=s.set(Kn(),!0):Gs(i.children,c=>{s=s.set(new ai(c),!0)}),L0(n,new VA(i.path,s,t))}return[]}function zI(n,e,t){return L0(n,new My({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function YA(n,e,t,i){const r=e._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===e._queryIdentifier||k6(s,e))){const d=function Nte(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const d=Rm(n);if("default"===r)for(const[p,v]of n.views.entries())c=c.concat(T6(v,t,i)),I6(v)&&(n.views.delete(p),v.query._queryParams.loadsAllData()||s.push(v.query));else{const p=n.views.get(r);p&&(c=c.concat(T6(p,t,i)),I6(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!Rm(n)&&s.push(new(function Ote(){return it(WA,"Reference.ts has not been loaded"),WA}())(e._repo,e._path)),{removed:s,events:c}}(s,e,t,i);(function Rte(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=d.removed;c=d.events;const v=-1!==p.findIndex(S=>S._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(r,(S,P)=>Rm(P));if(v&&!T){const S=n.syncPointTree_.subtree(r);if(!S.isEmpty()){const P=function Wte(n){return n.fold((e,t,i)=>{if(t&&Rm(t))return[qA(t)];{let r=[];return t&&(r=A6(t)),Gs(i,(s,c)=>{r=r.concat(c)}),r}})}(S);for(let j=0;j<P.length;++j){const $=P[j],oe=$.query,_e=B6(n,$);n.listenProvider_.startListening(GI(oe),$I(n,oe),_e.hashFn,_e.onComplete)}}}!T&&p.length>0&&!i&&(v?n.listenProvider_.stopListening(GI(e),null):p.forEach(S=>{const P=n.queryToTagMap.get(QA(S));n.listenProvider_.stopListening(GI(S),P)})),function qte(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=QA(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function R6(n,e,t,i){const r=cN(n,i);if(null!=r){const s=uN(r),c=s.path,d=s.queryId,p=fa(c,e);return dN(n,c,new My(KP(d),p,t))}return[]}function P6(n,e){const t=n._path;let i=null,r=!1;e.syncPointTree_.foreachOnPath(t,(v,T)=>{const S=fa(v,t);i=i||Om(T,S),r=r||Rm(T)});let c,s=e.syncPointTree_.get(t);s?(r=r||Rm(s),i=i||Om(s,Kn())):(s=new x6,e.syncPointTree_=e.syncPointTree_.set(t,s)),null!=i?c=!0:(c=!1,i=fn.EMPTY_NODE,e.syncPointTree_.subtree(t).foreachChild((T,S)=>{const P=Om(S,Kn());P&&(i=i.updateImmediateChild(T,P))}));const d=k6(s,n);if(!d&&!n._queryParams.loadsAllData()){const v=QA(n);it(!e.queryToTagMap.has(v),"View does not exist, but we have a tag");const T=function Zte(){return Bte++}();e.queryToTagMap.set(v,T),e.tagToQueryMap.set(T,v)}return{syncPoint:s,writesCache:HA(e.pendingWriteTree_,t),serverCache:i,serverCacheComplete:c,foundAncestorDefaultView:r,viewAlreadyExists:d}}function N6(n,e,t){const{syncPoint:i,serverCache:r,writesCache:s,serverCacheComplete:c,viewAlreadyExists:d,foundAncestorDefaultView:p}=P6(e,n);let v=function Pte(n,e,t,i,r,s){const c=aN(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function Ate(n,e){n.eventRegistrations_.push(e)}(c,t),function Mte(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Bi,(s,c)=>{i.push(R0(s,c))}),t.isFullyInitialized()&&i.push(a6(t.getNode())),D6(n,i,t.getNode(),e)}(c,t)}(i,e,t,s,r,c);if(!d&&!p){const T=M6(i,e);v=v.concat(function Yte(n,e,t){const i=e._path,r=$I(n,e),s=B6(n,t),c=n.listenProvider_.startListening(GI(e),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)it(!Rm(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((v,T,S)=>{if(!In(v)&&T&&Rm(T))return[qA(T).query];{let P=[];return T&&(P=P.concat(A6(T).map(j=>j.query))),Gs(S,(j,$)=>{P=P.concat($)}),P}});for(let v=0;v<p.length;++v){const T=p[v];n.listenProvider_.stopListening(GI(T),$I(n,T))}}return c}(n,e,T))}return v}function KA(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,d)=>{const v=Om(d,fa(c,e));if(v)return v});return g6(r,e,s,t,!0)}function L0(n,e){return F6(e,n.syncPointTree_,null,HA(n.pendingWriteTree_,Kn()))}function F6(n,e,t,i){if(In(n.path))return L6(n,e,t,i);{const r=e.get(Kn());null==t&&null!=r&&(t=Om(r,Kn()));let s=[];const c=Cn(n.path),d=n.operationForChild(c),p=e.children.get(c);if(p&&d){const v=t?t.getImmediateChild(c):null,T=y6(i,c);s=s.concat(F6(d,p,v,T))}return r&&(s=s.concat(oN(r,n,i,t))),s}}function L6(n,e,t,i){const r=e.get(Kn());null==t&&null!=r&&(t=Om(r,Kn()));let s=[];return e.children.inorderTraversal((c,d)=>{const p=t?t.getImmediateChild(c):null,v=y6(i,c),T=n.operationForChild(c);T&&(s=s.concat(L6(T,d,p,v)))}),r&&(s=s.concat(oN(r,n,i,t))),s}function B6(n,e){const t=e.query,i=$I(n,t);return{hashFn:()=>(function Ste(n){return n.viewCache_.serverCache.getNode()}(e)||fn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Hte(n,e,t){const i=cN(n,t);if(i){const r=uN(i),s=r.path,c=r.queryId,d=fa(s,e);return dN(n,s,new VI(KP(c),d))}return[]}(n,t._path,i):function jte(n,e){return L0(n,new VI({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function jX(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return YA(n,t,null,s)}}}}function $I(n,e){const t=QA(e);return n.queryToTagMap.get(t)}function QA(n){return n._path.toString()+"$"+n._queryIdentifier}function cN(n,e){return n.tagToQueryMap.get(e)}function uN(n){const e=n.indexOf("$");return it(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ai(n.substr(0,e))}}function dN(n,e,t){const i=n.syncPointTree_.get(e);return it(i,"Missing sync point for query tag that we're tracking"),oN(i,t,HA(n.pendingWriteTree_,e),null)}function GI(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Lte(){return it(ZA,"Reference.ts has not been loaded"),ZA}())(n._repo,n._path):n}class hN{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new hN(t)}node(){return this.node_}}class fN{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=er(this.path_,e);return new fN(this.syncTree_,t)}node(){return KA(this.syncTree_,this.path_)}}const V6=function(n,e,t){return n&&"object"==typeof n?(it(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Qte(n[".sv"],e,t):"object"==typeof n[".sv"]?Jte(n[".sv"],e):void it(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Qte=function(n,e,t){if("timestamp"===n)return t.timestamp;it(!1,"Unexpected server value: "+n)},Jte=function(n,e,t){n.hasOwnProperty("increment")||it(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&it(!1,"Unexpected increment value: "+i);const r=e.node();if(it(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},U6=function(n,e,t,i){return mN(e,new fN(t,n),i)},pN=function(n,e,t){return mN(n,new hN(e),t)};function mN(n,e,t){const i=n.getPriority().val(),r=V6(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,d=V6(c.getValue(),e,t);return d!==c.getValue()||r!==c.getPriority().val()?new M0(d,dr(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new M0(r))),c.forEachChild(Bi,(d,p)=>{const v=mN(p,e.getImmediateChild(d),t);v!==p&&(s=s.updateImmediateChild(d,v))}),s}}class gN{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function JA(n,e){let t=e instanceof ai?e:new ai(e),i=n,r=Cn(t);for(;null!==r;){const s=Cy(i.node.children,r)||{children:{},childCount:0};i=new gN(r,i,s),t=Mi(t),r=Cn(t)}return i}function Ry(n){return n.node.value}function _N(n,e){n.node.value=e,yN(n)}function j6(n){return n.node.childCount>0}function XA(n,e){Gs(n.node.children,(t,i)=>{e(new gN(t,n,i))})}function H6(n,e,t,i){t&&!i&&e(n),XA(n,r=>{H6(r,e,!0,i)}),t&&i&&e(n)}function WI(n){return new ai(null===n.parent?n.name:WI(n.parent)+"/"+n.name)}function yN(n){null!==n.parent&&function tne(n,e,t){const i=function Xte(n){return void 0===Ry(n)&&!j6(n)}(t),r=Tu(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,yN(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,yN(n))}(n.parent,n.name,n)}const nne=/[\[\].#$\/\u0000-\u001F\u007F]/,ine=/[\[\].#$\u0000-\u001F\u007F]/,vN=10485760,eM=function(n){return"string"==typeof n&&0!==n.length&&!nne.test(n)},z6=function(n){return"string"==typeof n&&0!==n.length&&!ine.test(n)},qI=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!SA(n)||n&&"object"==typeof n&&Tu(n,".sv")},ih=function(n,e,t,i){i&&void 0===e||ZI(ha(n,"value"),e,t)},ZI=function(n,e,t){const i=t instanceof ai?new yee(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+xy(i));if("function"==typeof e)throw new Error(n+"contains a function "+xy(i)+" with contents = "+e.toString());if(SA(e))throw new Error(n+"contains "+e.toString()+" "+xy(i));if("string"==typeof e&&e.length>vN/3&&TA(e)>vN)throw new Error(n+"contains a string greater than "+vN+" utf8 bytes "+xy(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Gs(e,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!eM(c)))throw new Error(n+" contains an invalid key ("+c+") "+xy(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function vee(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=TA(e),Z3(n)})(i,c),ZI(n,d,i),function bee(n){const e=n.parts_.pop();n.byteLength_-=TA(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+xy(i)+" in addition to actual children.")}},$6=function(n,e,t,i){if(i&&void 0===e)return;const r=ha(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Gs(e,(c,d)=>{const p=new ai(c);if(ZI(r,d,er(t,p)),".priority"===PP(p)&&!qI(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=OI(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!eM(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(_ee);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Ic(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},bN=function(n,e,t){if(!t||void 0!==e){if(SA(e))throw new Error(ha(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qI(e))throw new Error(ha(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},YI=function(n,e,t,i){if(!(i&&void 0===t||eM(t)))throw new Error(ha(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},KI=function(n,e,t,i){if(!(i&&void 0===t||z6(t)))throw new Error(ha(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Sc=function(n,e){if(".info"===Cn(e))throw new Error(n+" failed = Can't modify data under /.info/")},G6=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!eM(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),z6(n)}(t))throw new Error(ha(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ane{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tM(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!NP(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function W6(n,e,t){tM(n,t),q6(n,i=>NP(i,e))}function Dc(n,e,t){tM(n,t),q6(n,i=>Ic(i,e)||Ic(e,i))}function q6(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(lne(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function lne(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Sy&&$s("event: "+t.toString()),x0(i)}}}const Z6="repo_interrupt";class une{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ane,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=BA(),this.transactionQueueTree_=new gN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Y6(n){const t=n.infoData_.getNode(new ai(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function QI(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Y6(n)})}function K6(n,e,t,i,r){n.dataUpdateCount++;const s=new ai(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=IA(t,v=>dr(v));c=function $te(n,e,t,i){const r=cN(n,i);if(r){const s=uN(r),c=s.path,d=s.queryId,p=fa(c,e),v=Vi.fromObject(t);return dN(n,c,new N0(KP(d),p,v))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=dr(t);c=R6(n.serverSyncTree_,s,p,r)}else if(i){const p=IA(t,v=>dr(v));c=function Ute(n,e,t){const i=Vi.fromObject(t);return L0(n,new N0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=dr(t);c=zI(n.serverSyncTree_,s,p)}let d=s;c.length>0&&(d=B0(n,s)),Dc(n.eventQueue_,d,c)}function Q6(n,e){wN(n,"connected",e),!1===e&&function mne(n){Py(n,"onDisconnectEvents");const e=QI(n),t=BA();qP(n.onDisconnect_,Kn(),(r,s)=>{const c=U6(r,s,n.serverSyncTree_,e);P0(t,r,c)});let i=[];qP(t,Kn(),(r,s)=>{i=i.concat(zI(n.serverSyncTree_,r,s));const c=TN(n,r);B0(n,c)}),n.onDisconnect_=BA(),Dc(n.eventQueue_,Kn(),i)}(n)}function wN(n,e,t){const i=new ai("/.info/"+e),r=dr(t);n.infoData_.updateSnapshot(i,r);const s=zI(n.infoSyncTree_,i,r);Dc(n.eventQueue_,i,s)}function nM(n){return n.nextWriteId_++}function fne(n,e){const t=function Gte(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(v,T)=>{const S=fa(v,t);i=i||Om(T,S)});let r=n.syncPointTree_.get(t);r?i=i||Om(r,Kn()):(r=new x6,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new Mm(i,!0,!1):null;return function Dte(n){return jA(n.viewCache_)}(aN(r,e,HA(n.pendingWriteTree_,e._path),s?c.getNode():fn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=dr(i).withIndex(e._queryParams.getIndex());if(e._queryParams.loadsAllData())zI(n.serverSyncTree_,e._path,r);else{const c=function zte(n,e){const{syncPoint:t,serverCache:i,writesCache:r,serverCacheComplete:s}=P6(e,n),c=aN(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),e._queryParams.loadsAllData()?null:$I(n,e)}(n.serverSyncTree_,e);R6(n.serverSyncTree_,e._path,r,c)}return YA(n.serverSyncTree_,e,null).length>0&&Py(n,"unexpected cancel events in repoGetValue"),r},i=>(Py(n,"get for query "+Ts(e)+" failed: "+i),Promise.reject(new Error(i))))}function EN(n,e,t,i,r){Py(n,"set",{path:e.toString(),value:t,priority:i});const s=QI(n),c=dr(t,i),d=KA(n.serverSyncTree_,e),p=pN(c,d,s),v=nM(n),T=lN(n.serverSyncTree_,e,p,v,!0);tM(n.eventQueue_,T),n.server_.put(e.toString(),c.val(!0),(P,j)=>{const $="ok"===P;$||Oo("set at "+e+" failed: "+P);const oe=Pm(n.serverSyncTree_,v,!$);Dc(n.eventQueue_,e,oe),Nm(0,r,P,j)});const S=TN(n,e);B0(n,S),Dc(n.eventQueue_,S,[])}function gne(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&WP(n.onDisconnect_,e),Nm(0,t,i,r)})}function J6(n,e,t,i){const r=dr(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&P0(n.onDisconnect_,e,r),Nm(0,i,s,c)})}function CN(n,e,t){let i;i=".info"===Cn(e._path)?YA(n.infoSyncTree_,e,t):YA(n.serverSyncTree_,e,t),W6(n.eventQueue_,e._path,i)}function X6(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Z6)}function Py(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),$s(t,...e)}function Nm(n,e,t,i){e&&x0(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function IN(n,e,t){return KA(n.serverSyncTree_,e,t)||fn.EMPTY_NODE}function iM(n,e=n.transactionQueueTree_){if(e||rM(n,e),Ry(e)){const t=tH(n,e);it(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function Ene(n,e,t){const i=t.map(v=>v.currentWriteId),r=IN(n,e,i);let s=r;const c=r.hash();for(let v=0;v<t.length;v++){const T=t[v];it(0===T.status,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const S=fa(e,T.path);s=s.updateChild(S,T.currentOutputSnapshotRaw)}const d=s.val(!0),p=e;n.server_.put(p.toString(),d,v=>{Py(n,"transaction put response",{path:p.toString(),status:v});let T=[];if("ok"===v){const S=[];for(let P=0;P<t.length;P++)t[P].status=2,T=T.concat(Pm(n.serverSyncTree_,t[P].currentWriteId)),t[P].onComplete&&S.push(()=>t[P].onComplete(null,!0,t[P].currentOutputSnapshotResolved)),t[P].unwatcher();rM(n,JA(n.transactionQueueTree_,e)),iM(n,n.transactionQueueTree_),Dc(n.eventQueue_,e,T);for(let P=0;P<S.length;P++)x0(S[P])}else{if("datastale"===v)for(let S=0;S<t.length;S++)t[S].status=3===t[S].status?4:0;else{Oo("transaction at "+p.toString()+" failed: "+v);for(let S=0;S<t.length;S++)t[S].status=4,t[S].abortReason=v}B0(n,e)}},c)}(n,WI(e),t)}else j6(e)&&XA(e,t=>{iM(n,t)})}function B0(n,e){const t=eH(n,e),i=WI(t);return function Cne(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],v=fa(t,p.path);let S,T=!1;if(it(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)T=!0,S=p.abortReason,r=r.concat(Pm(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)T=!0,S="maxretry",r=r.concat(Pm(n.serverSyncTree_,p.currentWriteId,!0));else{const P=IN(n,p.path,c);p.currentInputSnapshot=P;const j=e[d].update(P.val());if(void 0!==j){ZI("transaction failed: Data returned ",j,p.path);let $=dr(j);"object"==typeof j&&null!=j&&Tu(j,".priority")||($=$.updatePriority(P.getPriority()));const _e=p.currentWriteId,Je=QI(n),st=pN($,P,Je);p.currentOutputSnapshotRaw=$,p.currentOutputSnapshotResolved=st,p.currentWriteId=nM(n),c.splice(c.indexOf(_e),1),r=r.concat(lN(n.serverSyncTree_,p.path,st,p.currentWriteId,p.applyLocally)),r=r.concat(Pm(n.serverSyncTree_,_e,!0))}else T=!0,S="nodata",r=r.concat(Pm(n.serverSyncTree_,p.currentWriteId,!0))}Dc(n.eventQueue_,t,r),r=[],T&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&i.push("nodata"===S?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(S),!1,null)))}rM(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)x0(i[d]);iM(n,n.transactionQueueTree_)}(n,tH(n,t),i),i}function eH(n,e){let t,i=n.transactionQueueTree_;for(t=Cn(e);null!==t&&void 0===Ry(i);)i=JA(i,t),t=Cn(e=Mi(e));return i}function tH(n,e){const t=[];return nH(n,e,t),t.sort((i,r)=>i.order-r.order),t}function nH(n,e,t){const i=Ry(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);XA(e,r=>{nH(n,r,t)})}function rM(n,e){const t=Ry(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,_N(e,t.length>0?t:void 0)}XA(e,i=>{rM(n,i)})}function TN(n,e){const t=WI(eH(n,e)),i=JA(n.transactionQueueTree_,e);return function ene(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{SN(n,r)}),SN(n,i),H6(i,r=>{SN(n,r)}),t}function SN(n,e){const t=Ry(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?(it(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):(it(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(Pm(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?_N(e,void 0):t.length=s+1,Dc(n.eventQueue_,WI(e),r);for(let c=0;c<i.length;c++)x0(i[c])}}const DN=function(n,e){const t=Sne(n),i=t.namespace;return"firebase.com"===t.domain&&eh(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&eh("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Oo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new xP(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new ai(t.pathString)}},Sne=function(n){let e="",t="",i="",r="",s="",c=!0,d="https",p=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(d=n.substring(0,v-1),n=n.substring(v+2));let T=n.indexOf("/");-1===T&&(T=n.length);let S=n.indexOf("?");-1===S&&(S=n.length),e=n.substring(0,Math.min(T,S)),T<S&&(r=function Ine(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(n.substring(T,S)));const P=function Tne(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Oo(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,S)));v=e.indexOf(":"),v>=0?(c="https"===d||"wss"===d,p=parseInt(e.substring(v+1),10)):v=e.length;const j=e.slice(0,v);if("localhost"===j.toLowerCase())t="localhost";else if(j.split(".").length<=2)t=j;else{const $=e.indexOf(".");i=e.substring(0,$).toLowerCase(),t=e.substring($+1),s=i}"ns"in P&&(s=P.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class iH{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ts(this.snapshot.exportVal())}}class rH{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class sH{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return it(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class oH{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new da;return gne(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Sc("OnDisconnect.remove",this._path);const e=new da;return J6(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Sc("OnDisconnect.set",this._path),ih("OnDisconnect.set",e,this._path,!1);const t=new da;return J6(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Sc("OnDisconnect.setWithPriority",this._path),ih("OnDisconnect.setWithPriority",e,this._path,!1),bN("OnDisconnect.setWithPriority",t,!1);const i=new da;return function _ne(n,e,t,i,r){const s=dr(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,d)=>{"ok"===c&&P0(n.onDisconnect_,e,s),Nm(0,r,c,d)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Sc("OnDisconnect.update",this._path),$6("OnDisconnect.update",e,this._path,!1);const t=new da;return function yne(n,e,t,i){if(yP(t))return $s("onDisconnect().update() called with empty data.  Don't do anything."),void Nm(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Gs(t,(c,d)=>{const p=dr(d);P0(n.onDisconnect_,er(e,c),p)}),Nm(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class La{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return In(this._path)?null:PP(this._path)}get ref(){return new xc(this._repo,this._path)}get _queryIdentifier(){const e=c6(this._queryParams),t=TP(e);return"{}"===t?"default":t}get _queryObject(){return c6(this._queryParams)}isEqual(e){if(!((e=xl(e))instanceof La))return!1;const t=this._repo===e._repo,i=NP(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function gee(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function sM(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Fm(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===nh){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Mf)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==th)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Bi){if(null!=e&&!qI(e)||null!=t&&!qI(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(it(n.getIndex()instanceof UP||n.getIndex()===jP,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function oM(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class xc extends La{constructor(e,t){super(e,t,new NA,!1)}get parent(){const e=q3(this._path);return null===e?null:new xc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ny{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ai(e),i=Fy(this.ref,e);return new Ny(this._node.getChild(t),i,Bi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Ny(r,Fy(this.ref,i),Bi)))}hasChild(e){const t=new ai(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function aH(n,e){return(n=xl(n))._checkNotDeleted("ref"),void 0!==e?Fy(n._root,e):n._root}function lH(n,e){(n=xl(n))._checkNotDeleted("refFromURL");const t=DN(e,n._repo.repoInfo_.nodeAdmin);G6("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&eh("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),aH(n,t.path.toString())}function Fy(n,e){return null===Cn((n=xl(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),KI("child","path",t,!1)):KI("child","path",e,!1),new xc(n._repo,er(n._path,e));var t}function xN(n,e){n=xl(n),Sc("set",n._path),ih("set",e,n._path,!1);const t=new da;return EN(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function kne(n,e){$6("update",e,n._path,!1);const t=new da;return function pne(n,e,t,i){Py(n,"update",{path:e.toString(),value:t});let r=!0;const s=QI(n),c={};if(Gs(t,(d,p)=>{r=!1,c[d]=U6(er(e,d),dr(p),n.serverSyncTree_,s)}),r)$s("update() called with empty data.  Don't do anything."),Nm(0,i,"ok",void 0);else{const d=nM(n),p=function Vte(n,e,t,i){!function nte(n,e,t,i){it(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=JP(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Vi.fromObject(t);return L0(n,new N0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,d);tM(n.eventQueue_,p),n.server_.merge(e.toString(),t,(v,T)=>{const S="ok"===v;S||Oo("update at "+e+" failed: "+v);const P=Pm(n.serverSyncTree_,d,!S),j=P.length>0?B0(n,e):e;Dc(n.eventQueue_,j,P),Nm(0,i,v,T)}),Gs(t,v=>{const T=TN(n,er(e,v));B0(n,T)}),Dc(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class aM{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new iH("value",this,new Ny(e.snapshotNode,new xc(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new rH(this,e,t):null}matches(e){return e instanceof aM&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class lM{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new rH(this,e,t):null}createEvent(e,t){it(null!=e.childName,"Child events should have a childName.");const i=Fy(new xc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new iH(e.type,this,new Ny(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof lM&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function JI(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,v=(T,S)=>{CN(n._repo,n,d),p(T,S)};v.userCallback=t.userCallback,v.context=t.context,t=v}const c=new sH(t,s||void 0),d="value"===e?new aM(c):new lM(e,c);return function vne(n,e,t){let i;i=".info"===Cn(e._path)?N6(n.infoSyncTree_,e,t):N6(n.serverSyncTree_,e,t),W6(n.eventQueue_,e._path,i)}(n._repo,n,d),()=>CN(n._repo,n,d)}function AN(n,e,t,i){return JI(n,"value",e,t,i)}function cH(n,e,t,i){return JI(n,"child_added",e,t,i)}function uH(n,e,t,i){return JI(n,"child_changed",e,t,i)}function dH(n,e,t,i){return JI(n,"child_moved",e,t,i)}function hH(n,e,t,i){return JI(n,"child_removed",e,t,i)}function fH(n,e,t){let i=null;const r=t?new sH(t):null;"value"===e?i=new aM(r):e&&(i=new lM(e,r)),CN(n._repo,n,i)}class xu{}class pH extends xu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ih("endAt",this._value,e._path,!0);const t=GP(e._queryParams,this._value,this._key);if(oM(t),Fm(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new La(e._repo,e._path,t,e._orderByCalled)}}class Pne extends xu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ih("endBefore",this._value,e._path,!1);const t=function zee(n,e,t){let i,r;return n.index_===nh?("string"==typeof e&&(e=o6(e)),r=GP(n,e,t)):(i=null==t?Mf:o6(t),r=GP(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(oM(t),Fm(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new La(e._repo,e._path,t,e._orderByCalled)}}class mH extends xu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ih("startAt",this._value,e._path,!0);const t=$P(e._queryParams,this._value,this._key);if(oM(t),Fm(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new La(e._repo,e._path,t,e._orderByCalled)}}class Lne extends xu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ih("startAfter",this._value,e._path,!1);const t=function Hee(n,e,t){let i;if(n.index_===nh)"string"==typeof e&&(e=s6(e)),i=$P(n,e,t);else{let r;r=null==t?th:s6(t),i=$P(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(oM(t),Fm(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new La(e._repo,e._path,t,e._orderByCalled)}}class Vne extends xu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new La(e._repo,e._path,function Uee(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class jne extends xu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new La(e._repo,e._path,function jee(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class zne extends xu{constructor(e){super(),this._path=e}_apply(e){sM(e,"orderByChild");const t=new ai(this._path);if(In(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new UP(t),r=FA(e._queryParams,i);return Fm(r),new La(e._repo,e._path,r,!0)}}class Gne extends xu{_apply(e){sM(e,"orderByKey");const t=FA(e._queryParams,nh);return Fm(t),new La(e._repo,e._path,t,!0)}}class qne extends xu{_apply(e){sM(e,"orderByPriority");const t=FA(e._queryParams,Bi);return Fm(t),new La(e._repo,e._path,t,!0)}}class Yne extends xu{_apply(e){sM(e,"orderByValue");const t=FA(e._queryParams,jP);return Fm(t),new La(e._repo,e._path,t,!0)}}class Qne extends xu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(ih("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new pH(this._value,this._key)._apply(new mH(this._value,this._key)._apply(e))}}function Au(n,...e){let t=xl(n);for(const i of e)t=i._apply(t);return t}(function kte(n){it(!WA,"__referenceConstructor has already been defined"),WA=n})(xc),function Fte(n){it(!ZA,"__referenceConstructor has already been defined"),ZA=n}(xc);const MN={};function _H(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||eh("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$s("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,v,c=DN(s,r),d=c.repoInfo;"undefined"!=typeof process&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(p=!0,s=`http://${v}?ns=${d.namespace}`,c=DN(s,r),d=c.repoInfo):p=!c.repoInfo.secure;const T=r&&p?new kI(kI.OWNER):new GX(n.name,n.options,e);G6("Invalid Firebase Database URL",c),In(c.path)||eh("Database URL must point to the root of a Firebase Database (not including a child path).");const S=function nie(n,e,t,i){let r=MN[e.name];r||(r={},MN[e.name]=r);let s=r[n.toURLString()];return s&&eh("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new une(n,false,t,i),r[n.toURLString()]=s,s}(d,n,T,new $X(n.name,t));return new rie(S,n)}class rie{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function dne(n,e,t){if(n.stats_=kP(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new LA(n.repoInfo_,(i,r,s,c)=>{K6(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Q6(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ts(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ay(n.repoInfo_,e,(i,r,s,c)=>{K6(n,i,r,s,c)},i=>{Q6(n,i)},i=>{!function hne(n,e){Gs(e,(t,i)=>{wN(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function ZX(n,e){const t=n.toString();return MP[t]||(MP[t]=e()),MP[t]}(n.repoInfo_,()=>new Yee(n.stats_,n.server_)),n.infoData_=new $ee,n.infoSyncTree_=new O6({startListening:(i,r,s,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=zI(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),wN(n,"connected",!1),n.serverSyncTree_=new O6({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,p)=>{const v=c(d,p);Dc(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xc(this._repo,Kn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function tie(n,e){const t=MN[e];(!t||t[n.key]!==n)&&eh(`Database ${e}(${n.repoInfo_}) has already been deleted.`),X6(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&eh("Cannot call "+e+" on a deleted database.")}}function yH(){N3.IS_TRANSPORT_INITIALIZED&&Oo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function sie(){yH(),xm.forceDisallow()}function oie(){yH(),A0.forceDisallow(),xm.forceAllow()}function uie(n,e){m3(n,e)}const hie={".sv":"timestamp"};class mie{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ay.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Ay.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function die(n){u3(Fr.SDK_VERSION),(0,Fr._registerComponent)(new bP("database",(e,{instanceIdentifier:t})=>_H(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Fr.registerVersion)(l3,"0.13.3",n),(0,Fr.registerVersion)(l3,"0.13.3","esm2017")}();const vie=new a3("@firebase/database-compat"),vH=function(n){vie.warn("FIREBASE WARNING: "+n)};class Eie{constructor(e){this._delegate=e}cancel(e){tn("OnDisconnect.cancel",0,1,arguments.length),zs("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){tn("OnDisconnect.remove",0,1,arguments.length),zs("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){tn("OnDisconnect.set",1,2,arguments.length),zs("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){tn("OnDisconnect.setWithPriority",2,3,arguments.length),zs("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if(tn("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,vH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}zs("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class Cie{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return tn("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Lm{constructor(e,t){this._database=e,this._delegate=t}val(){return tn("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return tn("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return tn("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return tn("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return tn("DataSnapshot.child",0,1,arguments.length),e=String(e),KI("DataSnapshot.child","path",e,!1),new Lm(this._database,this._delegate.child(e))}hasChild(e){return tn("DataSnapshot.hasChild",1,1,arguments.length),KI("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return tn("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return tn("DataSnapshot.forEach",1,1,arguments.length),zs("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Lm(this._database,t)))}hasChildren(){return tn("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return tn("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return tn("DataSnapshot.ref",0,0,arguments.length),new Al(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class so{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;tn("Query.on",2,4,arguments.length),zs("Query.on","callback",t,!1);const c=so.getCancelAndContextArgs_("Query.on",i,r),d=(v,T)=>{t.call(c.context,new Lm(this.database,v),T)};d.userCallback=t,d.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return AN(this._delegate,d,p),t;case"child_added":return cH(this._delegate,d,p),t;case"child_removed":return hH(this._delegate,d,p),t;case"child_changed":return uH(this._delegate,d,p),t;case"child_moved":return dH(this._delegate,d,p),t;default:throw new Error(ha("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if(tn("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ha("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),zs("Query.off","callback",t,!0),r3("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,fH(this._delegate,e,r)}else fH(this._delegate,e)}get(){return function One(n){return fne((n=xl(n))._repo,n).then(e=>new Ny(e,new xc(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(e=>new Lm(this.database,e))}once(e,t,i,r){tn("Query.once",1,4,arguments.length),zs("Query.once","callback",t,!0);const s=so.getCancelAndContextArgs_("Query.once",i,r),c=new da,d=(v,T)=>{const S=new Lm(this.database,v);t&&t.call(s.context,S,T),c.resolve(S)};d.userCallback=t,d.context=s.context;const p=v=>{s.cancel&&s.cancel.call(s.context,v),c.reject(v)};switch(e){case"value":AN(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":cH(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":hH(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":uH(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":dH(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error(ha("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return tn("Query.limitToFirst",1,1,arguments.length),new so(this.database,Au(this._delegate,function Une(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Vne(n)}(e)))}limitToLast(e){return tn("Query.limitToLast",1,1,arguments.length),new so(this.database,Au(this._delegate,function Hne(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new jne(n)}(e)))}orderByChild(e){return tn("Query.orderByChild",1,1,arguments.length),new so(this.database,Au(this._delegate,function $ne(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return KI("orderByChild","path",n,!1),new zne(n)}(e)))}orderByKey(){return tn("Query.orderByKey",0,0,arguments.length),new so(this.database,Au(this._delegate,function Wne(){return new Gne}()))}orderByPriority(){return tn("Query.orderByPriority",0,0,arguments.length),new so(this.database,Au(this._delegate,function Zne(){return new qne}()))}orderByValue(){return tn("Query.orderByValue",0,0,arguments.length),new so(this.database,Au(this._delegate,function Kne(){return new Yne}()))}startAt(e=null,t){return tn("Query.startAt",0,2,arguments.length),new so(this.database,Au(this._delegate,function Fne(n=null,e){return YI("startAt","key",e,!0),new mH(n,e)}(e,t)))}startAfter(e=null,t){return tn("Query.startAfter",0,2,arguments.length),new so(this.database,Au(this._delegate,function Bne(n,e){return YI("startAfter","key",e,!0),new Lne(n,e)}(e,t)))}endAt(e=null,t){return tn("Query.endAt",0,2,arguments.length),new so(this.database,Au(this._delegate,function Rne(n,e){return YI("endAt","key",e,!0),new pH(n,e)}(e,t)))}endBefore(e=null,t){return tn("Query.endBefore",0,2,arguments.length),new so(this.database,Au(this._delegate,function Nne(n,e){return YI("endBefore","key",e,!0),new Pne(n,e)}(e,t)))}equalTo(e,t){return tn("Query.equalTo",1,2,arguments.length),new so(this.database,Au(this._delegate,function Jne(n,e){return YI("equalTo","key",e,!0),new Qne(n,e)}(e,t)))}toString(){return tn("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return tn("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(tn("Query.isEqual",1,1,arguments.length),!(e instanceof so))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,zs(e,"cancel",r.cancel,!0),r.context=i,r3(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(ha(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Al(this.database,new xc(this._delegate._repo,this._delegate._path))}}class Al extends so{constructor(e,t){super(e,new La(t._repo,t._path,new NA,!1)),this.database=e,this._delegate=t}getKey(){return tn("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return tn("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Al(this.database,Fy(this._delegate,e))}getParent(){tn("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Al(this.database,e):null}getRoot(){return tn("Reference.root",0,0,arguments.length),new Al(this.database,this._delegate.root)}set(e,t){tn("Reference.set",1,2,arguments.length),zs("Reference.set","onComplete",t,!0);const i=xN(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if(tn("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,vH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Sc("Reference.update",this._delegate._path),zs("Reference.update","onComplete",t,!0);const i=kne(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){tn("Reference.setWithPriority",2,3,arguments.length),zs("Reference.setWithPriority","onComplete",i,!0);const r=function Mne(n,e,t){if(Sc("setWithPriority",n._path),ih("setWithPriority",e,n._path,!1),bN("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new da;return EN(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){tn("Reference.remove",0,1,arguments.length),zs("Reference.remove","onComplete",e,!0);const t=function xne(n){return Sc("remove",n._path),xN(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){tn("Reference.transaction",1,3,arguments.length),zs("Reference.transaction","transactionUpdate",e,!1),zs("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error(ha("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function gie(n,e,t){var i;if(n=xl(n),Sc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==t?void 0:t.applyLocally)||void 0===i||i,s=new da,d=AN(n,()=>{});return function wne(n,e,t,i,r,s){Py(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:h3(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=IN(n,e,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{ZI("transaction failed: Data returned ",p,c.path),c.status=0;const v=JA(n.transactionQueueTree_,e),T=Ry(v)||[];let S;T.push(c),_N(v,T),"object"==typeof p&&null!==p&&Tu(p,".priority")?(S=Cy(p,".priority"),it(qI(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):S=(KA(n.serverSyncTree_,e)||fn.EMPTY_NODE).getPriority().val();const P=QI(n),j=dr(p,S),$=pN(j,d,P);c.currentOutputSnapshotRaw=j,c.currentOutputSnapshotResolved=$,c.currentWriteId=nM(n);const oe=lN(n.serverSyncTree_,e,$,c.currentWriteId,c.applyLocally);Dc(n.eventQueue_,e,oe),iM(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,v,T)=>{let S=null;p?s.reject(p):(S=new Ny(T,new xc(n._repo,n._path),Bi),s.resolve(new mie(v,S)))},d,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new Cie(s.committed,new Lm(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){tn("Reference.setPriority",1,2,arguments.length),zs("Reference.setPriority","onComplete",t,!0);const i=function Ane(n,e){n=xl(n),Sc("setPriority",n._path),bN("setPriority",e,!1);const t=new da;return EN(n._repo,er(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){tn("Reference.push",0,2,arguments.length),zs("Reference.push","onComplete",t,!0);const i=function Dne(n,e){n=xl(n),Sc("push",n._path),ih("push",e,n._path,!0);const t=Y6(n._repo),i=Fee(t),r=Fy(n,i),s=Fy(n,i);let c;return c=null!=e?xN(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new Al(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new Al(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Sc("Reference.onDisconnect",this._delegate._path),new Eie(new oH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class XI{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:sie,forceLongPolling:oie}}useEmulator(e,t,i={}){!function aie(n,e,t,i={}){(n=xl(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&eh("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&eh('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new kI(kI.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:function lX(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jj(JSON.stringify({alg:"none",type:"JWT"})),Jj(JSON.stringify(c)),""].join(".")}(i.mockUserToken,n.app.options.projectId);s=new kI(c)}!function eie(n,e,t,i){n.repoInfo_=new xP(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if(tn("database.ref",0,1,arguments.length),e instanceof Al){const t=lH(this._delegate,e.toString());return new Al(this,t)}{const t=aH(this._delegate,e);return new Al(this,t)}}refFromURL(e){tn("database.refFromURL",1,1,arguments.length);const i=lH(this._delegate,e);return new Al(this,i)}goOffline(){return tn("database.goOffline",0,0,arguments.length),function lie(n){(n=xl(n))._checkNotDeleted("goOffline"),X6(n._repo)}(this._delegate)}goOnline(){return tn("database.goOnline",0,0,arguments.length),function cie(n){(n=xl(n))._checkNotDeleted("goOnline"),function bne(n){n.persistentConnection_&&n.persistentConnection_.resume(Z6)}(n._repo)}(this._delegate)}}XI.ServerValue={TIMESTAMP:function fie(){return hie}(),increment:n=>function pie(n){return{".sv":{increment:n}}}(n)};var Tie=Object.freeze({__proto__:null,initStandalone:function Iie({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){u3(t);const c=new s3("auth-internal",new MX("database-standalone"));return c.setComponent(new bP("auth-internal",()=>i,"PRIVATE")),{instance:new XI(_H(n,c,void 0,e,s),n),namespace:r}}});const Sie=XI.ServerValue;function bH(n){return null==n}function wH(n){return"function"==typeof n.set}function EH(n,e){return wH(e)?e:n.ref(e)}function CH(n,e){if(function xie(n){return"string"==typeof n}(n))return e.stringCase();if(wH(n))return e.firebaseCase();if(function Aie(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function eT(n,e,t="on",i=Oh.z){return new si.y(r=>{let s=null;return s=n[t](e,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,Ot.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:e,payload:s,prevKey:c,key:d}}),(0,GO.B)())}function IH(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function Oie(n,e){const{payload:t,prevKey:i,key:r}=e,s=IH(n,r),c=function kie(n,e){if(bH(e))return 0;{const t=IH(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let d=null;e.payload.forEach(p=>{const v={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(d=>d.payload.key!==t.key);case"child_changed":return n.map(d=>d.payload.key===r?e:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function TH(n){return(bH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function SH(n,e,t){return function Mie(n,e,t){return eT(n,"value","once",t).pipe(yi(i=>{const r=[Dt(i)];return e.forEach(s=>r.push(eT(n,s,"on",t))),(0,bc.T)(...r).pipe(Rs(Oie,[]))}),Rh())}(n,e=TH(e),t)}function DH(n,e,t){const i=(e=TH(e)).map(r=>eT(n,r,"on",t));return(0,bc.T)(...i)}function xH(n,e){return function(i,r){return CH(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function Fie(n){return function(t){return t?CH(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function AH(n,e){return function(){return eT(n,"value","on",e)}}!function Die(n){n.INTERNAL.registerComponent(new bP("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new XI(r,i)},"PUBLIC").setServiceProps({Reference:Al,Query:so,Database:XI,DataSnapshot:Lm,enableLogging:uie,INTERNAL:Tie,ServerValue:Sie}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.3")}(to.Z);const Vie=new o.OlP("angularfire2.realtimeDatabaseURL"),Uie=new o.OlP("angularfire2.database.use-emulator");let jie=(()=>{class n{constructor(t,i,r,s,c,d,p,v,T,S,P,j,$,oe,_e){this.schedulers=d;const Je=p,st=(0,Er.on)(t,c,i);v&&CR(st,c,T,P,j,$,S,oe),this.database=(0,Er.cc)(`${st.name}.database.${r}`,"AngularFireDatabase",st.name,()=>{const rt=c.runOutsideAngular(()=>st.database(r||void 0));return Je&&rt.useEmulator(...Je),rt},[Je])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>EH(this.database,t));let s=r;return i&&(s=i(r)),function Lie(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:xH(i,"update"),set:xH(i,"set"),push:r=>i.push(r),remove:Fie(i),snapshotChanges:r=>SH(n,r,t).pipe(jn.iC),stateChanges:r=>DH(n,r,t).pipe(jn.iC),auditTrail:r=>function Rie(n,e,t){return function Nie(n,e,t){return function Pie(n,e){return eT(n,"value","on",e).pipe((0,Ot.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function iX(...n){const e=(0,Wa.jO)(n);return(0,Hi.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,_o.Xf)(n[p]).subscribe((0,Pn.x)(i,v=>{s[p]=v,!d&&!c[p]&&(c[p]=!0,(d=c.every(go.y))&&(c=null))},tB.Z));t.subscribe((0,Pn.x)(i,p=>{if(d){const v=[p,...s];i.next(e?e(...v):v)}}))})}(e),(0,Ot.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function rX(n){return(0,Hi.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,Pn.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Ot.U)(r=>r.actions))}(n,DH(n,e).pipe(Rs((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(jn.iC),valueChanges:(r,s)=>SH(n,r,t).pipe((0,Ot.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),jn.iC)}}(s,this)}object(t){return function Bie(n,e){return{query:n,snapshotChanges:()=>AH(n,e.schedulers.outsideAngular)().pipe(jn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>AH(n,e.schedulers.outsideAngular)().pipe(jn.iC,(0,Ot.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>EH(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Er.Dh),o.LFG(Er.xv,8),o.LFG(Vie,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(jn.HU),o.LFG(Uie,8),o.LFG(QC,8),o.LFG(_R,8),o.LFG(yR,8),o.LFG(vR,8),o.LFG(bR,8),o.LFG(wR,8),o.LFG(ER,8),o.LFG(KC,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Hie=(()=>{class n{constructor(){ux.Z.registerVersion("angularfire",jn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[jie]}),n})(),OH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),ere=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[aI,ei,Nx,OH],ei,OH]}),n})(),tre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ei],ei]}),n})(),pre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[aI,ei],ei]}),n})(),Are=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[v1]]}),n})(),Wre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Are,ei],ei]}),n})(),Zre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[dw]}),n.\u0275inj=o.cJS({providers:[Cf],imports:[[QU,Vl,kW,kY,y5,OY,DB,jq,ere,tre,_7,zx,KK,nK,Z7,pre,CU,Wre,VK,qq,Er.hO.initializeApp(JU_firebase),w4,A4,nX,Hie,QU]]}),n})();(0,o.G48)(),uh().bootstrapModule(Zre).catch(n=>console.error(n))},5867:(wt,Oe,G)=>{G.d(Oe,{Mq:()=>o.getApp,C6:()=>o.getApps});var o=G(9206);(0,o.registerVersion)("firebase","9.9.1","app")},127:(wt,Oe,G)=>{G.d(Oe,{Z:()=>o.Z});var o=G(8001);o.Z.registerVersion("firebase","9.9.1","app-compat")},6255:(wt,Oe,G)=>{G.r(Oe);var o=G(5861),ee=G(8001),H=G(6457),Ne=G(1683);function we(){return window}function ne(){return(ne=(0,o.Z)(function*(O,M,R){var z;const{BuildInfo:K}=we();(0,H.aq)(M.sessionId,"AuthEvent did not contain a session ID");const xe=yield qe(M.sessionId),Ye={};return(0,H.ar)()?Ye.ibi=K.packageName:(0,H.as)()?Ye.apn=K.packageName:(0,H.at)(O,"operation-not-supported-in-this-environment"),K.displayName&&(Ye.appDisplayName=K.displayName),Ye.sessionId=xe,(0,H.au)(O,R,M.type,void 0,null!==(z=M.eventId)&&void 0!==z?z:void 0,Ye)})).apply(this,arguments)}function _t(){return(_t=(0,o.Z)(function*(O){const{BuildInfo:M}=we(),R={};(0,H.ar)()?R.iosBundleId=M.packageName:(0,H.as)()?R.androidPackageName=M.packageName:(0,H.at)(O,"operation-not-supported-in-this-environment"),yield(0,H.av)(O,R)})).apply(this,arguments)}function mt(){return(mt=(0,o.Z)(function*(O,M,R){const{cordova:z}=we();let K=()=>{};try{yield new Promise((xe,Ye)=>{let kt=null;function St(){var Tt;xe();const qn=null===(Tt=z.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof qn&&qn(),"function"==typeof(null==R?void 0:R.close)&&R.close()}function un(){kt||(kt=window.setTimeout(()=>{Ye((0,H.aw)(O,"redirect-cancelled-by-user"))},2e3))}function $t(){"visible"===(null==document?void 0:document.visibilityState)&&un()}M.addPassiveListener(St),document.addEventListener("resume",un,!1),(0,H.as)()&&document.addEventListener("visibilitychange",$t,!1),K=()=>{M.removePassiveListener(St),document.removeEventListener("resume",un,!1),document.removeEventListener("visibilitychange",$t,!1),kt&&window.clearTimeout(kt)}})}finally{K()}})).apply(this,arguments)}function qe(O){return Et.apply(this,arguments)}function Et(){return(Et=(0,o.Z)(function*(O){const M=yt(O),R=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(R)).map(K=>K.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yt(O){if((0,H.aq)(/[0-9a-zA-Z]+/.test(O),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(O);const M=new ArrayBuffer(O.length),R=new Uint8Array(M);for(let z=0;z<O.length;z++)R[z]=O.charCodeAt(z);return R}G(9206),G(1791),G(7172);class Ge extends H.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInialized(),this.passiveListeners.forEach(R=>R(M)),super.onEvent(M)}initialized(){var M=this;return(0,o.Z)(function*(){yield M.initPromise})()}}function De(O){return ke.apply(this,arguments)}function ke(){return(ke=(0,o.Z)(function*(O){const M=yield Ee()._get(Ce(O));return M&&(yield Ee()._remove(Ce(O))),M})).apply(this,arguments)}function ye(){const O=[],M="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<20;R++){const z=Math.floor(Math.random()*M.length);O.push(M.charAt(z))}return O.join("")}function Ee(){return(0,H.ay)(H.b)}function Ce(O){return(0,H.az)("authEvent",O.config.apiKey,O.name)}function Lt(O){if(!(null==O?void 0:O.includes("?")))return{};const[M,...R]=O.split("?");return(0,Ne.zd)(R.join("?"))}function Pt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aw)("no-auth-event")}}function Rt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ci(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(O){return!1}}function ss(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bt(){return"object"==typeof indexedDB}class Yi extends Error{constructor(M,R,z){super(R),this.code=M,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oi.prototype.create)}}class Oi{constructor(M,R,z){this.service=M,this.serviceName=R,this.errors=z}create(M,...R){const z=R[0]||{},K=`${this.service}/${M}`,xe=this.errors[M],Ye=xe?function os(O,M){return O.replace(Ut,(R,z)=>{const K=M[z];return null!=K?String(K):`<${z}?>`})}(xe,z):"Error";return new Yi(K,`${this.serviceName}: ${Ye} (${K}).`,z)}}const Ut=/\{\$([^}]+)}/g;class nt{constructor(M,R,z){this.name=M,this.instanceFactory=R,this.type=z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(M){return this.instantiationMode=M,this}setMultipleInstances(M){return this.multipleInstances=M,this}setServiceProps(M){return this.serviceProps=M,this}setInstanceCreatedCallback(M){return this.onInstanceCreated=M,this}}function cn(){var O;return(null===(O=null==self?void 0:self.location)||void 0===O?void 0:O.protocol)||null}function Ri(O=Rt()){return!("file:"!==cn()&&"ionic:"!==cn()&&"capacitor:"!==cn()||!O.toLowerCase().match(/iphone|ipad|ipod|android/))}function cs(O=Rt()){return function Pi(){return function Ui(){const O=Rt();return O.indexOf("MSIE ")>=0||O.indexOf("Trident/")>=0}()&&11===(null==document?void 0:document.documentMode)}()||function _a(O=Rt()){return/Edge\/\d+/.test(O)}(O)}function lo(){try{const O=self.localStorage,M=H.aI();if(O)return O.setItem(M,"1"),O.removeItem(M),!cs()||Bt()}catch(O){return gi()&&Bt()}return!1}function gi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Rl(){return(function Ol(){return"http:"===cn()||"https:"===cn()}()||function Ar(){const O="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof O&&void 0!==O.id}()||Ri())&&!function ci(){return ss()||Ci()}()&&lo()&&!gi()}function Pl(){return Ri()&&"undefined"!=typeof document}function ii(){return(ii=(0,o.Z)(function*(){return!!Pl()&&new Promise(O=>{const M=setTimeout(()=>{O(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),O(!0)})})})).apply(this,arguments)}const Or={LOCAL:"local",NONE:"none",SESSION:"session"},mr=H.ax,ku="persistence";function Uo(O){return co.apply(this,arguments)}function co(){return(co=(0,o.Z)(function*(O){yield O._initializationPromise;const M=Nl(),R=H.az(ku,O.config.apiKey,O.name);M&&M.setItem(R,O._getPersistence())})).apply(this,arguments)}function Nl(){var O;try{return(null===(O=function Mc(){return"undefined"!=typeof window?window:null}())||void 0===O?void 0:O.sessionStorage)||null}catch(M){return null}}const sh=H.ax;class uo{constructor(){this.browserResolver=H.ay(H.k),this.cordovaResolver=H.ay(class Wn{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(M){var R=this;return(0,o.Z)(function*(){const z=M._key();let K=R.eventManagers.get(z);return K||(K=new Ge(M),R.eventManagers.set(z,K),R.attachCallbackListeners(M,K)),K})()}_openPopup(M){(0,H.at)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,R,z,K){var xe=this;return(0,o.Z)(function*(){!function $e(O){var M,R,z,K,xe,Ye,kt,St,un,$t;const Tt=we();(0,H.ax)("function"==typeof(null===(M=null==Tt?void 0:Tt.universalLinks)||void 0===M?void 0:M.subscribe),O,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.ax)(void 0!==(null===(R=null==Tt?void 0:Tt.BuildInfo)||void 0===R?void 0:R.packageName),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.ax)("function"==typeof(null===(xe=null===(K=null===(z=null==Tt?void 0:Tt.cordova)||void 0===z?void 0:z.plugins)||void 0===K?void 0:K.browsertab)||void 0===xe?void 0:xe.openUrl),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(St=null===(kt=null===(Ye=null==Tt?void 0:Tt.cordova)||void 0===Ye?void 0:Ye.plugins)||void 0===kt?void 0:kt.browsertab)||void 0===St?void 0:St.isAvailable),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===($t=null===(un=null==Tt?void 0:Tt.cordova)||void 0===un?void 0:un.InAppBrowser)||void 0===$t?void 0:$t.open),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const Ye=yield xe._initialize(M);yield Ye.initialized(),Ye.resetRedirect(),(0,H.aD)(),yield xe._originValidation(M);const kt=function Ve(O,M,R=null){return{type:M,eventId:R,urlResponse:null,sessionId:ye(),postBody:null,tenantId:O.tenantId,error:(0,H.aw)(O,"no-auth-event")}}(M,z,K);yield function gt(O,M){return Ee()._set(Ce(O),M)}(M,kt);const St=yield function de(O,M,R){return ne.apply(this,arguments)}(M,kt,R),un=yield function Ze(O){const{cordova:M}=we();return new Promise(R=>{M.plugins.browsertab.isAvailable(z=>{let K=null;z?M.plugins.browsertab.openUrl(O):K=M.InAppBrowser.open(O,(0,H.ap)()?"_blank":"_system","location=yes"),R(K)})})}(St);return function Qe(O,M,R){return mt.apply(this,arguments)}(M,Ye,un)})()}_isIframeWebStorageSupported(M,R){throw new Error("Method not implemented.")}_originValidation(M){const R=M._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function Se(O){return _t.apply(this,arguments)}(M)),this.originValidationPromises[R]}attachCallbackListeners(M,R){const{universalLinks:z,handleOpenURL:K,BuildInfo:xe}=we(),Ye=setTimeout((0,o.Z)(function*(){yield De(M),R.onEvent(Pt())}),500),kt=function(){var $t=(0,o.Z)(function*(Tt){clearTimeout(Ye);const qn=yield De(M);let gn=null;qn&&(null==Tt?void 0:Tt.url)&&(gn=function se(O,M){var R,z;const K=function ve(O){const M=Lt(O),R=M.link?decodeURIComponent(M.link):void 0,z=Lt(R).link,K=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return Lt(K).link||K||z||R||O}(M);if(K.includes("/__/auth/callback")){const xe=Lt(K),Ye=xe.firebaseError?function Ue(O){try{return JSON.parse(O)}catch(M){return null}}(decodeURIComponent(xe.firebaseError)):null,kt=null===(z=null===(R=null==Ye?void 0:Ye.code)||void 0===R?void 0:R.split("auth/"))||void 0===z?void 0:z[1],St=kt?(0,H.aw)(kt):null;return St?{type:O.type,eventId:O.eventId,tenantId:O.tenantId,error:St,urlResponse:null,sessionId:null,postBody:null}:{type:O.type,eventId:O.eventId,tenantId:O.tenantId,sessionId:O.sessionId,urlResponse:K,postBody:null}}return null}(qn,Tt.url)),R.onEvent(gn||Pt())});return function(qn){return $t.apply(this,arguments)}}();void 0!==z&&"function"==typeof z.subscribe&&z.subscribe(null,kt);const St=K,un=`${xe.packageName.toLowerCase()}://`;we().handleOpenURL=function(){var $t=(0,o.Z)(function*(Tt){if(Tt.toLowerCase().startsWith(un)&&kt({url:Tt}),"function"==typeof St)try{St(Tt)}catch(qn){console.error(qn)}});return function(Tt){return $t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(M){var R=this;return(0,o.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,R,z,K){var xe=this;return(0,o.Z)(function*(){return yield xe.selectUnderlyingResolver(),xe.assertedUnderlyingResolver._openPopup(M,R,z,K)})()}_openRedirect(M,R,z,K){var xe=this;return(0,o.Z)(function*(){return yield xe.selectUnderlyingResolver(),xe.assertedUnderlyingResolver._openRedirect(M,R,z,K)})()}_isIframeWebStorageSupported(M,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,R)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return Pl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return sh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,o.Z)(function*(){if(M.underlyingResolver)return;const R=yield function Wr(){return ii.apply(this,arguments)}();M.underlyingResolver=R?M.cordovaResolver:M.browserResolver})()}}function ho(O){return O.unwrap()}function Ou(O){return gr(O)}function gr(O){const{_tokenResponse:M}=O instanceof Yi?O.customData:O;if(!M)return null;if(!(O instanceof Yi)&&"temporaryProof"in M&&"phoneNumber"in M)return H.P.credentialFromResult(O);const R=M.providerId;if(!R||R===H.o.PASSWORD)return null;let z;switch(R){case H.o.GOOGLE:z=H.Q;break;case H.o.FACEBOOK:z=H.N;break;case H.o.GITHUB:z=H.T;break;case H.o.TWITTER:z=H.W;break;default:const{oauthIdToken:K,oauthAccessToken:xe,oauthTokenSecret:Ye,pendingToken:kt,nonce:St}=M;return xe||Ye||K||kt?kt?R.startsWith("saml.")?H.aL._create(R,kt):H.J._fromParams({providerId:R,signInMethod:R,pendingToken:kt,idToken:K,accessToken:xe}):new H.U(R).credential({idToken:K,accessToken:xe,rawNonce:St}):null}return O instanceof Yi?z.credentialFromError(O):z.credentialFromResult(O)}function _r(O,M){return M.catch(R=>{throw R instanceof Yi&&function Fl(O,M){var R,z;const K=null===(R=M.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===(null===(z=M)||void 0===z?void 0:z.code))M.resolver=new Rr(O,H.an(O,M));else if(K){const xe=gr(M),Ye=M;xe&&(Ye.credential=xe,Ye.tenantId=K.tenantId||void 0,Ye.email=K.email||void 0,Ye.phoneNumber=K.phoneNumber||void 0)}}(O,R),R}).then(R=>{const K=R.user;return{operationType:R.operationType,credential:Ou(R),additionalUserInfo:H.al(R),user:yr.getOrCreate(K)}})}function us(O,M){return qr.apply(this,arguments)}function qr(){return(qr=(0,o.Z)(function*(O,M){const R=yield M;return{verificationId:R.verificationId,confirm:z=>_r(O,R.confirm(z))}})).apply(this,arguments)}class Rr{constructor(M,R){this.resolver=R,this.auth=function As(O){return O.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return _r(ho(this.auth),this.resolver.resolveSignIn(M))}}class yr{constructor(M){this._delegate=M,this.multiFactor=H.ao(M)}static getOrCreate(M){return yr.USER_MAP.has(M)||yr.USER_MAP.set(M,new yr(M)),yr.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var R=this;return(0,o.Z)(function*(){return _r(R.auth,H.Z(R._delegate,M))})()}linkWithPhoneNumber(M,R){var z=this;return(0,o.Z)(function*(){return us(z.auth,H.l(z._delegate,M,R))})()}linkWithPopup(M){var R=this;return(0,o.Z)(function*(){return _r(R.auth,H.d(R._delegate,M,uo))})()}linkWithRedirect(M){var R=this;return(0,o.Z)(function*(){return yield Uo(H.aE(R.auth)),H.g(R._delegate,M,uo)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var R=this;return(0,o.Z)(function*(){return _r(R.auth,H._(R._delegate,M))})()}reauthenticateWithPhoneNumber(M,R){return us(this.auth,H.r(this._delegate,M,R))}reauthenticateWithPopup(M){return _r(this.auth,H.e(this._delegate,M,uo))}reauthenticateWithRedirect(M){var R=this;return(0,o.Z)(function*(){return yield Uo(H.aE(R.auth)),H.h(R._delegate,M,uo)})()}sendEmailVerification(M){return H.ab(this._delegate,M)}unlink(M){var R=this;return(0,o.Z)(function*(){return yield H.ak(R._delegate,M),R})()}updateEmail(M){return H.ag(this._delegate,M)}updatePassword(M){return H.ah(this._delegate,M)}updatePhoneNumber(M){return H.u(this._delegate,M)}updateProfile(M){return H.af(this._delegate,M)}verifyBeforeUpdateEmail(M,R){return H.ac(this._delegate,M,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yr.USER_MAP=new WeakMap;const Ms=H.ax;let jo=(()=>{class O{constructor(R,z){if(this.app=R,z.isInitialized())return this._delegate=z.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:K}=R.options;Ms(K,"invalid-api-key",{appName:R.name}),Ms(K,"invalid-api-key",{appName:R.name});const xe="undefined"!=typeof window?uo:void 0;this._delegate=z.initialize({options:{persistence:Ru(K,R.name),popupRedirectResolver:xe}}),this._delegate._updateErrorMap(H.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,z){H.G(this._delegate,R,z)}applyActionCode(R){return H.a2(this._delegate,R)}checkActionCode(R){return H.a3(this._delegate,R)}confirmPasswordReset(R,z){return H.a1(this._delegate,R,z)}createUserWithEmailAndPassword(R,z){var K=this;return(0,o.Z)(function*(){return _r(K._delegate,H.a5(K._delegate,R,z))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return H.aa(this._delegate,R)}isSignInWithEmailLink(R){return H.a8(this._delegate,R)}getRedirectResult(){var R=this;return(0,o.Z)(function*(){Ms(Rl(),R._delegate,"operation-not-supported-in-this-environment");const z=yield H.j(R._delegate,uo);return z?_r(R._delegate,Promise.resolve(z)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function Zi(O,M){(0,H.aE)(O)._logFramework(M)}(this._delegate,R)}onAuthStateChanged(R,z,K){const{next:xe,error:Ye,complete:kt}=Oc(R,z,K);return this._delegate.onAuthStateChanged(xe,Ye,kt)}onIdTokenChanged(R,z,K){const{next:xe,error:Ye,complete:kt}=Oc(R,z,K);return this._delegate.onIdTokenChanged(xe,Ye,kt)}sendSignInLinkToEmail(R,z){return H.a7(this._delegate,R,z)}sendPasswordResetEmail(R,z){return H.a0(this._delegate,R,z||void 0)}setPersistence(R){var z=this;return(0,o.Z)(function*(){let K;switch(function Ua(O,M){mr(Object.values(Or).includes(M),O,"invalid-persistence-type"),ss()?mr(M!==Or.SESSION,O,"unsupported-persistence-type"):Ci()?mr(M===Or.NONE,O,"unsupported-persistence-type"):gi()?mr(M===Or.NONE||M===Or.LOCAL&&Bt(),O,"unsupported-persistence-type"):mr(M===Or.NONE||lo(),O,"unsupported-persistence-type")}(z._delegate,R),R){case Or.SESSION:K=H.a;break;case Or.LOCAL:K=(yield H.ay(H.i)._isAvailable())?H.i:H.b;break;case Or.NONE:K=H.L;break;default:return H.at("argument-error",{appName:z._delegate.name})}return z._delegate.setPersistence(K)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return _r(this._delegate,H.X(this._delegate))}signInWithCredential(R){return _r(this._delegate,H.Y(this._delegate,R))}signInWithCustomToken(R){return _r(this._delegate,H.$(this._delegate,R))}signInWithEmailAndPassword(R,z){return _r(this._delegate,H.a6(this._delegate,R,z))}signInWithEmailLink(R,z){return _r(this._delegate,H.a9(this._delegate,R,z))}signInWithPhoneNumber(R,z){return us(this._delegate,H.s(this._delegate,R,z))}signInWithPopup(R){var z=this;return(0,o.Z)(function*(){return Ms(Rl(),z._delegate,"operation-not-supported-in-this-environment"),_r(z._delegate,H.c(z._delegate,R,uo))})()}signInWithRedirect(R){var z=this;return(0,o.Z)(function*(){return Ms(Rl(),z._delegate,"operation-not-supported-in-this-environment"),yield Uo(z._delegate),H.f(z._delegate,R,uo)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return H.a4(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return O.Persistence=Or,O})();function Oc(O,M,R){let z=O;"function"!=typeof O&&({next:z,error:M,complete:R}=O);const K=z;return{next:Ye=>K(Ye&&yr.getOrCreate(Ye)),error:M,complete:R}}function Ru(O,M){const R=function kc(O,M){const R=Nl();if(!R)return[];const z=H.az(ku,O,M);switch(R.getItem(z)){case Or.NONE:return[H.L];case Or.LOCAL:return[H.i,H.a];case Or.SESSION:return[H.a];default:return[]}}(O,M);if("undefined"!=typeof self&&!R.includes(H.i)&&R.push(H.i),"undefined"!=typeof window)for(const z of[H.b,H.a])R.includes(z)||R.push(z);return R.includes(H.L)||R.push(H.L),R}class Ii{constructor(){this.providerId="phone",this._delegate=new H.P(ho(ee.Z.auth()))}static credential(M,R){return H.P.credential(M,R)}verifyPhoneNumber(M,R){return this._delegate.verifyPhoneNumber(M,R)}unwrap(){return this._delegate}}Ii.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,Ii.PROVIDER_ID=H.P.PROVIDER_ID;const ja=H.ax;class Z{constructor(M,R,z=ee.Z.app()){var K;ja(null===(K=z.options)||void 0===K?void 0:K.apiKey,"invalid-api-key",{appName:z.name}),this._delegate=new H.R(M,R,z.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J(O){O.INTERNAL.registerComponent(new nt("auth-compat",M=>{const R=M.getProvider("app-compat").getImmediate(),z=M.getProvider("auth");return new jo(R,z)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.M,FacebookAuthProvider:H.N,GithubAuthProvider:H.T,GoogleAuthProvider:H.Q,OAuthProvider:H.U,SAMLAuthProvider:H.V,PhoneAuthProvider:Ii,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:Z,TwitterAuthProvider:H.W,Auth:jo,AuthCredential:H.H,Error:Yi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),O.registerVersion("@firebase/auth-compat","0.2.18")}(ee.Z)},8306:(wt,Oe,G)=>{G.d(Oe,{y:()=>de});var o=G(930),ee=G(727),H=G(8822),Ne=G(4671);var be=G(2416),we=G(576),le=G(2806);let de=(()=>{class Ze{constructor(mt){mt&&(this._subscribe=mt)}lift(mt){const $e=new Ze;return $e.source=this,$e.operator=mt,$e}subscribe(mt,$e,qe){const Et=function _t(Ze){return Ze&&Ze instanceof o.Lv||function Se(Ze){return Ze&&(0,we.m)(Ze.next)&&(0,we.m)(Ze.error)&&(0,we.m)(Ze.complete)}(Ze)&&(0,ee.Nn)(Ze)}(mt)?mt:new o.Hp(mt,$e,qe);return(0,le.x)(()=>{const{operator:yt,source:We}=this;Et.add(yt?yt.call(Et,We):We?this._subscribe(Et):this._trySubscribe(Et))}),Et}_trySubscribe(mt){try{return this._subscribe(mt)}catch($e){mt.error($e)}}forEach(mt,$e){return new($e=ne($e))((qe,Et)=>{const yt=new o.Hp({next:We=>{try{mt(We)}catch(Ge){Et(Ge),yt.unsubscribe()}},error:Et,complete:qe});this.subscribe(yt)})}_subscribe(mt){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(mt)}[H.L](){return this}pipe(...mt){return function Re(Ze){return 0===Ze.length?Ne.y:1===Ze.length?Ze[0]:function(mt){return Ze.reduce(($e,qe)=>qe($e),mt)}}(mt)(this)}toPromise(mt){return new(mt=ne(mt))(($e,qe)=>{let Et;this.subscribe(yt=>Et=yt,yt=>qe(yt),()=>$e(Et))})}}return Ze.create=Qe=>new Ze(Qe),Ze})();function ne(Ze){var Qe;return null!==(Qe=null!=Ze?Ze:be.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(wt,Oe,G)=>{G.d(Oe,{x:()=>be});var o=G(8306),ee=G(727);const Ne=(0,G(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=G(8737),Re=G(2806);let be=(()=>{class le extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const Se=new we(this,this);return Se.operator=ne,Se}_throwIfClosed(){if(this.closed)throw new Ne}next(ne){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(ne)}})}error(ne){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:Se}=this;for(;Se.length;)Se.shift().error(ne)}})}complete(){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:Se,isStopped:_t,observers:Ze}=this;return Se||_t?ee.Lc:(this.currentObservers=null,Ze.push(ne),new ee.w0(()=>{this.currentObservers=null,(0,Ae.P)(Ze,ne)}))}_checkFinalizedStatuses(ne){const{hasError:Se,thrownError:_t,isStopped:Ze}=this;Se?ne.error(_t):Ze&&ne.complete()}asObservable(){const ne=new o.y;return ne.source=this,ne}}return le.create=(de,ne)=>new we(de,ne),le})();class we extends be{constructor(de,ne){super(),this.destination=de,this.source=ne}next(de){var ne,Se;null===(Se=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===Se||Se.call(ne,de)}error(de){var ne,Se;null===(Se=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===Se||Se.call(ne,de)}complete(){var de,ne;null===(ne=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===ne||ne.call(de)}_subscribe(de){var ne,Se;return null!==(Se=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(de))&&void 0!==Se?Se:ee.Lc}}},930:(wt,Oe,G)=>{G.d(Oe,{Hp:()=>mt,Lv:()=>Se});var o=G(576),ee=G(727),H=G(2416),Ne=G(7849),Ae=G(5032);const Re=le("C",void 0,void 0);function le(We,Ge,Ve){return{kind:We,value:Ge,error:Ve}}var de=G(3410),ne=G(2806);class Se extends ee.w0{constructor(Ge){super(),this.isStopped=!1,Ge?(this.destination=Ge,(0,ee.Nn)(Ge)&&Ge.add(this)):this.destination=yt}static create(Ge,Ve,gt){return new mt(Ge,Ve,gt)}next(Ge){this.isStopped?Et(function we(We){return le("N",We,void 0)}(Ge),this):this._next(Ge)}error(Ge){this.isStopped?Et(function be(We){return le("E",void 0,We)}(Ge),this):(this.isStopped=!0,this._error(Ge))}complete(){this.isStopped?Et(Re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ge){this.destination.next(Ge)}_error(Ge){try{this.destination.error(Ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _t=Function.prototype.bind;function Ze(We,Ge){return _t.call(We,Ge)}class Qe{constructor(Ge){this.partialObserver=Ge}next(Ge){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(Ge)}catch(gt){$e(gt)}}error(Ge){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(Ge)}catch(gt){$e(gt)}else $e(Ge)}complete(){const{partialObserver:Ge}=this;if(Ge.complete)try{Ge.complete()}catch(Ve){$e(Ve)}}}class mt extends Se{constructor(Ge,Ve,gt){let De;if(super(),(0,o.m)(Ge)||!Ge)De={next:null!=Ge?Ge:void 0,error:null!=Ve?Ve:void 0,complete:null!=gt?gt:void 0};else{let ke;this&&H.v.useDeprecatedNextContext?(ke=Object.create(Ge),ke.unsubscribe=()=>this.unsubscribe(),De={next:Ge.next&&Ze(Ge.next,ke),error:Ge.error&&Ze(Ge.error,ke),complete:Ge.complete&&Ze(Ge.complete,ke)}):De=Ge}this.destination=new Qe(De)}}function $e(We){H.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(We):(0,Ne.h)(We)}function Et(We,Ge){const{onStoppedNotification:Ve}=H.v;Ve&&de.z.setTimeout(()=>Ve(We,Ge))}const yt={closed:!0,next:Ae.Z,error:function qe(We){throw We},complete:Ae.Z}},727:(wt,Oe,G)=>{G.d(Oe,{Lc:()=>Re,w0:()=>Ae,Nn:()=>be});var o=G(576);const H=(0,G(3888).d)(le=>function(ne){le(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((Se,_t)=>`${_t+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var Ne=G(8737);class Ae{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Ze of ne)Ze.remove(this);else ne.remove(this);const{initialTeardown:Se}=this;if((0,o.m)(Se))try{Se()}catch(Ze){de=Ze instanceof H?Ze.errors:[Ze]}const{_finalizers:_t}=this;if(_t){this._finalizers=null;for(const Ze of _t)try{we(Ze)}catch(Qe){de=null!=de?de:[],Qe instanceof H?de=[...de,...Qe.errors]:de.push(Qe)}}if(de)throw new H(de)}}add(de){var ne;if(de&&de!==this)if(this.closed)we(de);else{if(de instanceof Ae){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(de)}}_hasParent(de){const{_parentage:ne}=this;return ne===de||Array.isArray(ne)&&ne.includes(de)}_addParent(de){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(de),ne):ne?[ne,de]:de}_removeParent(de){const{_parentage:ne}=this;ne===de?this._parentage=null:Array.isArray(ne)&&(0,Ne.P)(ne,de)}remove(de){const{_finalizers:ne}=this;ne&&(0,Ne.P)(ne,de),de instanceof Ae&&de._removeParent(this)}}Ae.EMPTY=(()=>{const le=new Ae;return le.closed=!0,le})();const Re=Ae.EMPTY;function be(le){return le instanceof Ae||le&&"closed"in le&&(0,o.m)(le.remove)&&(0,o.m)(le.add)&&(0,o.m)(le.unsubscribe)}function we(le){(0,o.m)(le)?le():le.unsubscribe()}},2416:(wt,Oe,G)=>{G.d(Oe,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(wt,Oe,G)=>{G.d(Oe,{E:()=>ee});const ee=new(G(8306).y)(Ae=>Ae.complete())},8996:(wt,Oe,G)=>{G.d(Oe,{D:()=>Ge});var o=G(8421),ee=G(5363),H=G(9468),Re=G(8306),we=G(2202),le=G(576),de=G(9672);function Se(Ve,gt){if(!Ve)throw new Error("Iterable cannot be null");return new Re.y(De=>{(0,de.f)(De,gt,()=>{const ke=Ve[Symbol.asyncIterator]();(0,de.f)(De,gt,()=>{ke.next().then(se=>{se.done?De.complete():De.next(se.value)})},0,!0)})})}var _t=G(3670),Ze=G(8239),Qe=G(1144),mt=G(6495),$e=G(2206),qe=G(4532),Et=G(3260);function Ge(Ve,gt){return gt?function We(Ve,gt){if(null!=Ve){if((0,_t.c)(Ve))return function Ne(Ve,gt){return(0,o.Xf)(Ve).pipe((0,H.R)(gt),(0,ee.Q)(gt))}(Ve,gt);if((0,Qe.z)(Ve))return function be(Ve,gt){return new Re.y(De=>{let ke=0;return gt.schedule(function(){ke===Ve.length?De.complete():(De.next(Ve[ke++]),De.closed||this.schedule())})})}(Ve,gt);if((0,Ze.t)(Ve))return function Ae(Ve,gt){return(0,o.Xf)(Ve).pipe((0,H.R)(gt),(0,ee.Q)(gt))}(Ve,gt);if((0,$e.D)(Ve))return Se(Ve,gt);if((0,mt.T)(Ve))return function ne(Ve,gt){return new Re.y(De=>{let ke;return(0,de.f)(De,gt,()=>{ke=Ve[we.h](),(0,de.f)(De,gt,()=>{let se,ye;try{({value:se,done:ye}=ke.next())}catch(Ee){return void De.error(Ee)}ye?De.complete():De.next(se)},0,!0)}),()=>(0,le.m)(null==ke?void 0:ke.return)&&ke.return()})}(Ve,gt);if((0,Et.L)(Ve))return function yt(Ve,gt){return Se((0,Et.Q)(Ve),gt)}(Ve,gt)}throw(0,qe.z)(Ve)}(Ve,gt):(0,o.Xf)(Ve)}},8421:(wt,Oe,G)=>{G.d(Oe,{Xf:()=>_t});var o=G(655),ee=G(1144),H=G(8239),Ne=G(8306),Ae=G(3670),Re=G(2206),be=G(4532),we=G(6495),le=G(3260),de=G(576),ne=G(7849),Se=G(8822);function _t(We){if(We instanceof Ne.y)return We;if(null!=We){if((0,Ae.c)(We))return function Ze(We){return new Ne.y(Ge=>{const Ve=We[Se.L]();if((0,de.m)(Ve.subscribe))return Ve.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,ee.z)(We))return function Qe(We){return new Ne.y(Ge=>{for(let Ve=0;Ve<We.length&&!Ge.closed;Ve++)Ge.next(We[Ve]);Ge.complete()})}(We);if((0,H.t)(We))return function mt(We){return new Ne.y(Ge=>{We.then(Ve=>{Ge.closed||(Ge.next(Ve),Ge.complete())},Ve=>Ge.error(Ve)).then(null,ne.h)})}(We);if((0,Re.D)(We))return qe(We);if((0,we.T)(We))return function $e(We){return new Ne.y(Ge=>{for(const Ve of We)if(Ge.next(Ve),Ge.closed)return;Ge.complete()})}(We);if((0,le.L)(We))return function Et(We){return qe((0,le.Q)(We))}(We)}throw(0,be.z)(We)}function qe(We){return new Ne.y(Ge=>{(function yt(We,Ge){var Ve,gt,De,ke;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,o.KL)(We);!(gt=yield Ve.next()).done;)if(Ge.next(gt.value),Ge.closed)return}catch(se){De={error:se}}finally{try{gt&&!gt.done&&(ke=Ve.return)&&(yield ke.call(Ve))}finally{if(De)throw De.error}}Ge.complete()})})(We,Ge).catch(Ve=>Ge.error(Ve))})}},6451:(wt,Oe,G)=>{G.d(Oe,{T:()=>Re});var o=G(8189),ee=G(8421),H=G(515),Ne=G(3269),Ae=G(8996);function Re(...be){const we=(0,Ne.yG)(be),le=(0,Ne._6)(be,1/0),de=be;return de.length?1===de.length?(0,ee.Xf)(de[0]):(0,o.J)(le)((0,Ae.D)(de,we)):H.E}},5403:(wt,Oe,G)=>{G.d(Oe,{x:()=>ee});var o=G(930);function ee(Ne,Ae,Re,be,we){return new H(Ne,Ae,Re,be,we)}class H extends o.Lv{constructor(Ae,Re,be,we,le,de){super(Ae),this.onFinalize=le,this.shouldUnsubscribe=de,this._next=Re?function(ne){try{Re(ne)}catch(Se){Ae.error(Se)}}:super._next,this._error=we?function(ne){try{we(ne)}catch(Se){Ae.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(ne){Ae.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Re}=this;super.unsubscribe(),!Re&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},4004:(wt,Oe,G)=>{G.d(Oe,{U:()=>H});var o=G(4482),ee=G(5403);function H(Ne,Ae){return(0,o.e)((Re,be)=>{let we=0;Re.subscribe((0,ee.x)(be,le=>{be.next(Ne.call(Ae,le,we++))}))})}},8189:(wt,Oe,G)=>{G.d(Oe,{J:()=>H});var o=G(5577),ee=G(4671);function H(Ne=1/0){return(0,o.z)(ee.y,Ne)}},5577:(wt,Oe,G)=>{G.d(Oe,{z:()=>we});var o=G(4004),ee=G(8421),H=G(4482),Ne=G(9672),Ae=G(5403),be=G(576);function we(le,de,ne=1/0){return(0,be.m)(de)?we((Se,_t)=>(0,o.U)((Ze,Qe)=>de(Se,Ze,_t,Qe))((0,ee.Xf)(le(Se,_t))),ne):("number"==typeof de&&(ne=de),(0,H.e)((Se,_t)=>function Re(le,de,ne,Se,_t,Ze,Qe,mt){const $e=[];let qe=0,Et=0,yt=!1;const We=()=>{yt&&!$e.length&&!qe&&de.complete()},Ge=gt=>qe<Se?Ve(gt):$e.push(gt),Ve=gt=>{Ze&&de.next(gt),qe++;let De=!1;(0,ee.Xf)(ne(gt,Et++)).subscribe((0,Ae.x)(de,ke=>{null==_t||_t(ke),Ze?Ge(ke):de.next(ke)},()=>{De=!0},void 0,()=>{if(De)try{for(qe--;$e.length&&qe<Se;){const ke=$e.shift();Qe?(0,Ne.f)(de,Qe,()=>Ve(ke)):Ve(ke)}We()}catch(ke){de.error(ke)}}))};return le.subscribe((0,Ae.x)(de,Ge,()=>{yt=!0,We()})),()=>{null==mt||mt()}}(Se,_t,le,ne)))}},5363:(wt,Oe,G)=>{G.d(Oe,{Q:()=>Ne});var o=G(9672),ee=G(4482),H=G(5403);function Ne(Ae,Re=0){return(0,ee.e)((be,we)=>{be.subscribe((0,H.x)(we,le=>(0,o.f)(we,Ae,()=>we.next(le),Re),()=>(0,o.f)(we,Ae,()=>we.complete(),Re),le=>(0,o.f)(we,Ae,()=>we.error(le),Re)))})}},3099:(wt,Oe,G)=>{G.d(Oe,{B:()=>Re});var o=G(8996),ee=G(5698),H=G(7579),Ne=G(930),Ae=G(4482);function Re(we={}){const{connector:le=(()=>new H.x),resetOnError:de=!0,resetOnComplete:ne=!0,resetOnRefCountZero:Se=!0}=we;return _t=>{let Ze=null,Qe=null,mt=null,$e=0,qe=!1,Et=!1;const yt=()=>{null==Qe||Qe.unsubscribe(),Qe=null},We=()=>{yt(),Ze=mt=null,qe=Et=!1},Ge=()=>{const Ve=Ze;We(),null==Ve||Ve.unsubscribe()};return(0,Ae.e)((Ve,gt)=>{$e++,!Et&&!qe&&yt();const De=mt=null!=mt?mt:le();gt.add(()=>{$e--,0===$e&&!Et&&!qe&&(Qe=be(Ge,Se))}),De.subscribe(gt),Ze||(Ze=new Ne.Hp({next:ke=>De.next(ke),error:ke=>{Et=!0,yt(),Qe=be(We,de,ke),De.error(ke)},complete:()=>{qe=!0,yt(),Qe=be(We,ne),De.complete()}}),(0,o.D)(Ve).subscribe(Ze))})(_t)}}function be(we,le,...de){return!0===le?(we(),null):!1===le?null:le(...de).pipe((0,ee.q)(1)).subscribe(()=>we())}},9468:(wt,Oe,G)=>{G.d(Oe,{R:()=>ee});var o=G(4482);function ee(H,Ne=0){return(0,o.e)((Ae,Re)=>{Re.add(H.schedule(()=>Ae.subscribe(Re),Ne))})}},5698:(wt,Oe,G)=>{G.d(Oe,{q:()=>Ne});var o=G(515),ee=G(4482),H=G(5403);function Ne(Ae){return Ae<=0?()=>o.E:(0,ee.e)((Re,be)=>{let we=0;Re.subscribe((0,H.x)(be,le=>{++we<=Ae&&(be.next(le),Ae<=we&&be.complete())}))})}},8505:(wt,Oe,G)=>{G.d(Oe,{b:()=>Ae});var o=G(576),ee=G(4482),H=G(5403),Ne=G(4671);function Ae(Re,be,we){const le=(0,o.m)(Re)||be||we?{next:Re,error:be,complete:we}:Re;return le?(0,ee.e)((de,ne)=>{var Se;null===(Se=le.subscribe)||void 0===Se||Se.call(le);let _t=!0;de.subscribe((0,H.x)(ne,Ze=>{var Qe;null===(Qe=le.next)||void 0===Qe||Qe.call(le,Ze),ne.next(Ze)},()=>{var Ze;_t=!1,null===(Ze=le.complete)||void 0===Ze||Ze.call(le),ne.complete()},Ze=>{var Qe;_t=!1,null===(Qe=le.error)||void 0===Qe||Qe.call(le,Ze),ne.error(Ze)},()=>{var Ze,Qe;_t&&(null===(Ze=le.unsubscribe)||void 0===Ze||Ze.call(le)),null===(Qe=le.finalize)||void 0===Qe||Qe.call(le)}))}):Ne.y}},4408:(wt,Oe,G)=>{G.d(Oe,{o:()=>Ae});var o=G(727);class ee extends o.w0{constructor(be,we){super()}schedule(be,we=0){return this}}const H={setInterval(Re,be,...we){const{delegate:le}=H;return(null==le?void 0:le.setInterval)?le.setInterval(Re,be,...we):setInterval(Re,be,...we)},clearInterval(Re){const{delegate:be}=H;return((null==be?void 0:be.clearInterval)||clearInterval)(Re)},delegate:void 0};var Ne=G(8737);class Ae extends ee{constructor(be,we){super(be,we),this.scheduler=be,this.work=we,this.pending=!1}schedule(be,we=0){if(this.closed)return this;this.state=be;const le=this.id,de=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(de,le,we)),this.pending=!0,this.delay=we,this.id=this.id||this.requestAsyncId(de,this.id,we),this}requestAsyncId(be,we,le=0){return H.setInterval(be.flush.bind(be,this),le)}recycleAsyncId(be,we,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return we;H.clearInterval(we)}execute(be,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(be,we);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,we){let de,le=!1;try{this.work(be)}catch(ne){le=!0,de=ne||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:be,scheduler:we}=this,{actions:le}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ne.P)(le,this),null!=be&&(this.id=this.recycleAsyncId(we,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,Oe,G)=>{G.d(Oe,{v:()=>H});var o=G(6063);class ee{constructor(Ae,Re=ee.now){this.schedulerActionCtor=Ae,this.now=Re}schedule(Ae,Re=0,be){return new this.schedulerActionCtor(this,Ae).schedule(be,Re)}}ee.now=o.l.now;class H extends ee{constructor(Ae,Re=ee.now){super(Ae,Re),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ae){const{actions:Re}=this;if(this._active)return void Re.push(Ae);let be;this._active=!0;do{if(be=Ae.execute(Ae.state,Ae.delay))break}while(Ae=Re.shift());if(this._active=!1,be){for(;Ae=Re.shift();)Ae.unsubscribe();throw be}}}},4986:(wt,Oe,G)=>{G.d(Oe,{z:()=>H,P:()=>Ne});var o=G(4408);const H=new(G(7565).v)(o.o),Ne=H},6063:(wt,Oe,G)=>{G.d(Oe,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(wt,Oe,G)=>{G.d(Oe,{z:()=>o});const o={setTimeout(ee,H,...Ne){const{delegate:Ae}=o;return(null==Ae?void 0:Ae.setTimeout)?Ae.setTimeout(ee,H,...Ne):setTimeout(ee,H,...Ne)},clearTimeout(ee){const{delegate:H}=o;return((null==H?void 0:H.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:(wt,Oe,G)=>{G.d(Oe,{h:()=>ee});const ee=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,Oe,G)=>{G.d(Oe,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(wt,Oe,G)=>{G.d(Oe,{jO:()=>Ne,yG:()=>Ae,_6:()=>Re});var o=G(576),ee=G(3532);function H(be){return be[be.length-1]}function Ne(be){return(0,o.m)(H(be))?be.pop():void 0}function Ae(be){return(0,ee.K)(H(be))?be.pop():void 0}function Re(be,we){return"number"==typeof H(be)?be.pop():we}},8737:(wt,Oe,G)=>{function o(ee,H){if(ee){const Ne=ee.indexOf(H);0<=Ne&&ee.splice(Ne,1)}}G.d(Oe,{P:()=>o})},3888:(wt,Oe,G)=>{function o(ee){const Ne=ee(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return Ne.prototype=Object.create(Error.prototype),Ne.prototype.constructor=Ne,Ne}G.d(Oe,{d:()=>o})},2806:(wt,Oe,G)=>{G.d(Oe,{x:()=>H,O:()=>Ne});var o=G(2416);let ee=null;function H(Ae){if(o.v.useDeprecatedSynchronousErrorHandling){const Re=!ee;if(Re&&(ee={errorThrown:!1,error:null}),Ae(),Re){const{errorThrown:be,error:we}=ee;if(ee=null,be)throw we}}else Ae()}function Ne(Ae){o.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=Ae)}},9672:(wt,Oe,G)=>{function o(ee,H,Ne,Ae=0,Re=!1){const be=H.schedule(function(){Ne(),Re?ee.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(ee.add(be),!Re)return be}G.d(Oe,{f:()=>o})},4671:(wt,Oe,G)=>{function o(ee){return ee}G.d(Oe,{y:()=>o})},1144:(wt,Oe,G)=>{G.d(Oe,{z:()=>o});const o=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(wt,Oe,G)=>{G.d(Oe,{D:()=>ee});var o=G(576);function ee(H){return Symbol.asyncIterator&&(0,o.m)(null==H?void 0:H[Symbol.asyncIterator])}},576:(wt,Oe,G)=>{function o(ee){return"function"==typeof ee}G.d(Oe,{m:()=>o})},3670:(wt,Oe,G)=>{G.d(Oe,{c:()=>H});var o=G(8822),ee=G(576);function H(Ne){return(0,ee.m)(Ne[o.L])}},6495:(wt,Oe,G)=>{G.d(Oe,{T:()=>H});var o=G(2202),ee=G(576);function H(Ne){return(0,ee.m)(null==Ne?void 0:Ne[o.h])}},8239:(wt,Oe,G)=>{G.d(Oe,{t:()=>ee});var o=G(576);function ee(H){return(0,o.m)(null==H?void 0:H.then)}},3260:(wt,Oe,G)=>{G.d(Oe,{Q:()=>H,L:()=>Ne});var o=G(655),ee=G(576);function H(Ae){return(0,o.FC)(this,arguments,function*(){const be=Ae.getReader();try{for(;;){const{value:we,done:le}=yield(0,o.qq)(be.read());if(le)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(we)}}finally{be.releaseLock()}})}function Ne(Ae){return(0,ee.m)(null==Ae?void 0:Ae.getReader)}},3532:(wt,Oe,G)=>{G.d(Oe,{K:()=>ee});var o=G(576);function ee(H){return H&&(0,o.m)(H.schedule)}},4482:(wt,Oe,G)=>{G.d(Oe,{A:()=>ee,e:()=>H});var o=G(576);function ee(Ne){return(0,o.m)(null==Ne?void 0:Ne.lift)}function H(Ne){return Ae=>{if(ee(Ae))return Ae.lift(function(Re){try{return Ne(Re,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(wt,Oe,G)=>{function o(){}G.d(Oe,{Z:()=>o})},7849:(wt,Oe,G)=>{G.d(Oe,{h:()=>H});var o=G(2416),ee=G(3410);function H(Ne){ee.z.setTimeout(()=>{const{onUnhandledError:Ae}=o.v;if(!Ae)throw Ne;Ae(Ne)})}},4532:(wt,Oe,G)=>{function o(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(Oe,{z:()=>o})},655:(wt,Oe,G)=>{function Ne(se,ye){var Ee={};for(var Ce in se)Object.prototype.hasOwnProperty.call(se,Ce)&&ye.indexOf(Ce)<0&&(Ee[Ce]=se[Ce]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(Ce=Object.getOwnPropertySymbols(se);Ue<Ce.length;Ue++)ye.indexOf(Ce[Ue])<0&&Object.prototype.propertyIsEnumerable.call(se,Ce[Ue])&&(Ee[Ce[Ue]]=se[Ce[Ue]])}return Ee}function we(se,ye,Ee,Ce){return new(Ee||(Ee=Promise))(function(ve,Lt){function Jt(Pt){try{Mt(Ce.next(Pt))}catch(Zi){Lt(Zi)}}function Wn(Pt){try{Mt(Ce.throw(Pt))}catch(Zi){Lt(Zi)}}function Mt(Pt){Pt.done?ve(Pt.value):function Ue(ve){return ve instanceof Ee?ve:new Ee(function(Lt){Lt(ve)})}(Pt.value).then(Jt,Wn)}Mt((Ce=Ce.apply(se,ye||[])).next())})}function $e(se){return this instanceof $e?(this.v=se,this):new $e(se)}function qe(se,ye,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,Ce=Ee.apply(se,ye||[]),ve=[];return Ue={},Lt("next"),Lt("throw"),Lt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function Lt(Qn){Ce[Qn]&&(Ue[Qn]=function(oo){return new Promise(function(Mn,kn){ve.push([Qn,oo,Mn,kn])>1||Jt(Qn,oo)})})}function Jt(Qn,oo){try{!function Wn(Qn){Qn.value instanceof $e?Promise.resolve(Qn.value.v).then(Mt,Pt):Zi(ve[0][2],Qn)}(Ce[Qn](oo))}catch(Mn){Zi(ve[0][3],Mn)}}function Mt(Qn){Jt("next",Qn)}function Pt(Qn){Jt("throw",Qn)}function Zi(Qn,oo){Qn(oo),ve.shift(),ve.length&&Jt(ve[0][0],ve[0][1])}}function yt(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,ye=se[Symbol.asyncIterator];return ye?ye.call(se):(se=function Se(se){var ye="function"==typeof Symbol&&Symbol.iterator,Ee=ye&&se[ye],Ce=0;if(Ee)return Ee.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Ce>=se.length&&(se=void 0),{value:se&&se[Ce++],done:!se}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Ee={},Ce("next"),Ce("throw"),Ce("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Ce(ve){Ee[ve]=se[ve]&&function(Lt){return new Promise(function(Jt,Wn){!function Ue(ve,Lt,Jt,Wn){Promise.resolve(Wn).then(function(Mt){ve({value:Mt,done:Jt})},Lt)}(Jt,Wn,(Lt=se[ve](Lt)).done,Lt.value)})}}}G.d(Oe,{_T:()=>Ne,mG:()=>we,qq:()=>$e,FC:()=>qe,KL:()=>yt})},5e3:(wt,Oe,G)=>{G.d(Oe,{deG:()=>$m,tb:()=>dD,AFp:()=>oD,ip1:()=>sD,CZH:()=>Wb,hGG:()=>pm,z2F:()=>Xb,sBO:()=>Qk,Sil:()=>qb,_Vd:()=>vl,EJc:()=>Wk,SBq:()=>Xp,qLn:()=>lp,vpe:()=>ra,tBr:()=>Yo,XFs:()=>Rt,OlP:()=>bi,zs3:()=>Xo,ZZ4:()=>OC,aQg:()=>V_,soG:()=>cm,YKP:()=>HE,h0i:()=>gc,PXZ:()=>wD,R0b:()=>Na,FiY:()=>Jl,Lbi:()=>uD,g9A:()=>cD,n_E:()=>Nb,Qsj:()=>PS,FYo:()=>bl,JOm:()=>ka,q3G:()=>yn,tp0:()=>Qu,Rgc:()=>b_,dDg:()=>Yb,q4F:()=>NS,GfV:()=>dn,s_b:()=>Lb,ifc:()=>pn,eFA:()=>M_,G48:()=>IC,Gpc:()=>ne,f3M:()=>al,X6Q:()=>R_,_c5:()=>fm,VLi:()=>bD,c2e:()=>dC,zSh:()=>kw,wAp:()=>Gt,vHH:()=>Qe,EiD:()=>ad,mCW:()=>b,qzn:()=>Zr,JVY:()=>Ih,pB0:()=>Th,eBb:()=>Jf,L6k:()=>Qc,LAX:()=>id,cg1:()=>mc,kL8:()=>Od,yhl:()=>br,dqk:()=>hn,sIi:()=>Hh,CqO:()=>oE,QGY:()=>Jg,F4k:()=>Xg,RDi:()=>kt,AaK:()=>we,z3N:()=>bo,qOj:()=>jh,TTD:()=>Ms,_Bn:()=>cf,xp6:()=>Ev,uIk:()=>rb,Gre:()=>wE,ekj:()=>r_,Suo:()=>E_,Xpm:()=>Ct,lG2:()=>Lo,Yz7:()=>Mn,cJS:()=>Fn,oAB:()=>It,Yjl:()=>Va,Y36:()=>Kg,_UZ:()=>hb,GkF:()=>Kh,BQk:()=>Bp,ynx:()=>fb,qZA:()=>Yh,TgZ:()=>Qg,EpF:()=>sE,n5z:()=>qu,Ikx:()=>Zn,LFG:()=>Ti,$8M:()=>zi,$Z:()=>zT,NdJ:()=>e_,CRH:()=>jd,kcU:()=>Uf,O4$:()=>Vf,oxw:()=>lE,ALo:()=>hf,lcZ:()=>WS,Hsn:()=>uE,F$t:()=>mb,Q6J:()=>rE,s9C:()=>Up,MGl:()=>n_,VKq:()=>$E,WLB:()=>GE,iGM:()=>JS,MAs:()=>Di,CHM:()=>lh,LSH:()=>ld,Udp:()=>Qh,YNc:()=>$g,W1O:()=>jb,_uU:()=>Zt,Oqu:()=>Jh,hij:()=>En,AsE:()=>bE,Gf:()=>tC});var o=G(7579),ee=G(727),H=G(8306),Ne=G(6451),Ae=G(3099);function Re(a){for(let l in a)if(a[l]===Re)return l;throw Error("Could not find renamed property on target object.")}function be(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function we(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(we).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function le(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const de=Re({__forward_ref__:Re});function ne(a){return a.__forward_ref__=ne,a.toString=function(){return we(this())},a}function Se(a){return _t(a)?a():a}function _t(a){return"function"==typeof a&&a.hasOwnProperty(de)&&a.__forward_ref__===ne}class Qe extends Error{constructor(l,u){super(function mt(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,u)),this.code=l}}function $e(a){return"string"==typeof a?a:null==a?"":String(a)}function qe(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():$e(a)}function Ge(a,l){const u=l?` in ${l}`:"";throw new Qe(-201,`No provider for ${qe(a)} found${u}`)}function Mt(a,l){null==a&&function Pt(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function Mn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Fn(a){return{providers:a.providers||[],imports:a.imports||[]}}function hi(a){return Ro(a,qs)||Ro(a,Hr)}function Ro(a,l){return a.hasOwnProperty(l)?a[l]:null}function ma(a){return a&&(a.hasOwnProperty(No)||a.hasOwnProperty(Mu))?a[No]:null}const qs=Re({\u0275prov:Re}),No=Re({\u0275inj:Re}),Hr=Re({ngInjectableDef:Re}),Mu=Re({ngInjectorDef:Re});var Rt=(()=>((Rt=Rt||{})[Rt.Default=0]="Default",Rt[Rt.Host=1]="Host",Rt[Rt.Self=2]="Self",Rt[Rt.SkipSelf=4]="SkipSelf",Rt[Rt.Optional=8]="Optional",Rt))();let Ba;function xr(a){const l=Ba;return Ba=a,l}function Ar(a,l,u){const h=hi(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&Rt.Optional?null:void 0!==l?l:void Ge(we(a),"Injector")}function fr(a){return{toString:a}.toString()}var Ui=(()=>((Ui=Ui||{})[Ui.OnPush=0]="OnPush",Ui[Ui.Default=1]="Default",Ui))(),pn=(()=>{return(a=pn||(pn={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",pn;var a})();const Bt="undefined"!=typeof globalThis&&globalThis,zt="undefined"!=typeof window&&window,ga="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,hn=Bt||"undefined"!=typeof global&&global||zt||ga,os={},Ut=[],zr=Re({\u0275cmp:Re}),ie=Re({\u0275dir:Re}),te=Re({\u0275pipe:Re}),ue=Re({\u0275mod:Re}),Fe=Re({\u0275fac:Re}),ge=Re({__NG_ELEMENT_ID__:Re});let lt=0;function Ct(a){return fr(()=>{const u={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Ui.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Ut,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||pn.Emulated,id:"c",styles:a.styles||Ut,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.directives,y=a.features,E=a.pipes;return h.id+=lt++,h.inputs=$r(a.inputs,u),h.outputs=$r(a.outputs),y&&y.forEach(x=>x(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(ut):null,h.pipeDefs=E?()=>("function"==typeof E?E():E).map(Ln):null,h})}function ut(a){return ni(a)||function as(a){return a[ie]||null}(a)}function Ln(a){return function Mr(a){return a[te]||null}(a)}const ti={};function It(a){return fr(()=>{const l={type:a.type,bootstrap:a.bootstrap||Ut,declarations:a.declarations||Ut,imports:a.imports||Ut,exports:a.exports||Ut,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(ti[a.id]=a.type),l})}function $r(a,l){if(null==a)return os;const u={};for(const h in a)if(a.hasOwnProperty(h)){let m=a[h],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),u[m]=h,l&&(l[m]=y)}return u}const Lo=Ct;function Va(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function ni(a){return a[zr]||null}function Bn(a,l){const u=a[ue]||null;if(!u&&!0===l)throw new Error(`Type ${we(a)} does not have '\u0275mod' property.`);return u}function ci(a){return Array.isArray(a)&&"object"==typeof a[1]}function Pi(a){return Array.isArray(a)&&!0===a[1]}function _a(a){return 0!=(8&a.flags)}function cs(a){return 2==(2&a.flags)}function lo(a){return 1==(1&a.flags)}function gi(a){return null!==a.template}function Rl(a){return 0!=(512&a[2])}function Rr(a,l){return a.hasOwnProperty(Fe)?a[Fe]:null}class yr{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ms(){return jo}function jo(a){return a.type.prototype.ngOnChanges&&(a.setInput=Ru),Oc}function Oc(){const a=ja(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===os)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function Ru(a,l,u,h){const m=ja(a)||function Z(a,l){return a[Ii]=l}(a,{previous:os,current:null}),y=m.current||(m.current={}),E=m.previous,x=this.declaredInputs[u],k=E[x];y[x]=new yr(k&&k.currentValue,l,E===os),a[h]=l}Ms.ngInherit=!0;const Ii="__ngSimpleChanges__";function ja(a){return a[Ii]||null}const M="svg",z="math";let Ye;function kt(a){Ye=a}function $t(a){return!!a.listen}const Tt={createRenderer:(a,l)=>function St(){return void 0!==Ye?Ye:"undefined"!=typeof document?document:void 0}()};function gn(a){for(;Array.isArray(a);)a=a[0];return a}function Pc(a,l){return gn(l[a])}function Pr(a,l){return gn(l[a.index])}function ds(a,l){return a.data[l]}function fo(a,l){return a[l]}function tr(a,l){const u=l[a];return ci(u)?u:u[0]}function Ha(a){return 4==(4&a[2])}function po(a){return 128==(128&a[2])}function ks(a,l){return null==l?null:a[l]}function za(a){a[18]=0}function ya(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const jt={lFrame:Ga(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function oh(){return jt.bindingsEnabled}function je(){return jt.lFrame.lView}function mn(){return jt.lFrame.tView}function lh(a){return jt.lFrame.contextLView=a,a[8]}function zn(){let a=Ys();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ys(){return jt.lFrame.currentTNode}function hs(a,l){const u=jt.lFrame;u.currentTNode=a,u.isParent=l}function ch(){return jt.lFrame.isParent}function Bu(){jt.lFrame.isParent=!1}function Lc(){return jt.isInCheckNoChangesMode}function $a(a){jt.isInCheckNoChangesMode=a}function vr(){const a=jt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function mo(){return jt.lFrame.bindingIndex++}function Qs(a){const l=jt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function Bc(a,l){const u=jt.lFrame;u.bindingIndex=u.bindingRootIndex=a,Ho(l)}function Ho(a){jt.lFrame.currentDirectiveIndex=a}function Vc(){return jt.lFrame.currentQueryIndex}function Uc(a){jt.lFrame.currentQueryIndex=a}function Uy(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Lf(a,l,u){if(u&Rt.SkipSelf){let m=l,y=a;for(;!(m=m.parent,null!==m||u&Rt.Host||(m=Uy(y),null===m||(y=y[15],10&m.type))););if(null===m)return!1;l=m,a=y}const h=jt.lFrame=Uu();return h.currentTNode=l,h.lView=a,!0}function Ul(a){const l=Uu(),u=a[1];jt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Uu(){const a=jt.lFrame,l=null===a?null:a.child;return null===l?Ga(a):l}function Ga(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function ju(){const a=jt.lFrame;return jt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Bf=ju;function jl(){const a=ju();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function nr(){return jt.lFrame.selectedIndex}function zo(a){jt.lFrame.selectedIndex=a}function ri(){const a=jt.lFrame;return ds(a.tView,a.selectedIndex)}function Vf(){jt.lFrame.currentNamespace=M}function Uf(){!function Hm(){jt.lFrame.currentNamespace=null}()}function Hl(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const y=a.data[u].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:x,ngAfterViewInit:k,ngAfterViewChecked:N,ngOnDestroy:U}=y;E&&(a.contentHooks||(a.contentHooks=[])).push(-u,E),x&&((a.contentHooks||(a.contentHooks=[])).push(u,x),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,x)),k&&(a.viewHooks||(a.viewHooks=[])).push(-u,k),N&&((a.viewHooks||(a.viewHooks=[])).push(u,N),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,N)),null!=U&&(a.destroyHooks||(a.destroyHooks=[])).push(u,U)}}function $o(a,l,u){zm(a,l,3,u)}function jc(a,l,u,h){(3&a[2])===u&&zm(a,l,u,h)}function dh(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function zm(a,l,u,h){const y=null!=h?h:-1,E=l.length-1;let x=0;for(let k=void 0!==h?65535&a[18]:0;k<E;k++)if("number"==typeof l[k+1]){if(x=l[k],null!=h&&x>=h)break}else l[k]<0&&(a[18]+=65536),(x<y||-1==y)&&(jy(a,u,l,k),a[18]=(4294901760&a[18])+k+2),k++}function jy(a,l,u,h){const m=u[h]<0,y=u[h+1],x=a[m?-u[h]:u[h]];if(m){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{y.call(x)}finally{}}}else try{y.call(x)}finally{}}class zl{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Dt(a,l,u){const h=$t(a);let m=0;for(;m<u.length;){const y=u[m];if("number"==typeof y){if(0!==y)break;m++;const E=u[m++],x=u[m++],k=u[m++];h?a.setAttribute(l,x,k,E):l.setAttributeNS(E,x,k)}else{const E=y,x=u[++m];ir(E)?h&&a.setProperty(l,E,x):h?a.setAttribute(l,E,x):l.setAttribute(E,x),m++}}return m}function Xt(a){return 3===a||4===a||6===a}function ir(a){return 64===a.charCodeAt(0)}function si(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const m=l[h];"number"==typeof m?u=m:0===u||hh(a,u,m,null,-1===u||2===u?l[++h]:null)}}return a}function hh(a,l,u,h,m){let y=0,E=a.length;if(-1===l)E=-1;else for(;y<a.length;){const x=a[y++];if("number"==typeof x){if(x===l){E=-1;break}if(x>l){E=y-1;break}}}for(;y<a.length;){const x=a[y];if("number"==typeof x)break;if(x===u){if(null===h)return void(null!==m&&(a[y+1]=m));if(h===a[y+1])return void(a[y+2]=m)}y++,null!==h&&y++,null!==m&&y++}-1!==E&&(a.splice(E,0,l),y=E+1),a.splice(y++,0,u),null!==h&&a.splice(y++,0,h),null!==m&&a.splice(y++,0,m)}function $l(a){return-1!==a}function Gl(a){return 32767&a}function qa(a,l){let u=function ji(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let Za=!0;function go(a){const l=Za;return Za=a,l}let rr=0;function Pn(a,l){const u=Wo(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,Gu(h.data,a),Gu(l,null),Gu(h.blueprint,null));const m=Ya(a,l),y=a.injectorIndex;if($l(m)){const E=Gl(m),x=qa(m,l),k=x[1].data;for(let N=0;N<8;N++)l[y+N]=x[E+N]|k[E+N]}return l[y+8]=m,y}function Gu(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Wo(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Ya(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,m=l;for(;null!==m;){const y=m[1],E=y.type;if(h=2===E?y.declTNode:1===E?m[6]:null,null===h)return-1;if(u++,m=m[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Ka(a,l,u){!function zf(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(ge)&&(h=u[ge]),null==h&&(h=u[ge]=rr++);const m=255&h;l.data[a+(m>>5)]|=1<<m}(a,l,u)}function Qa(a,l,u){if(u&Rt.Optional)return a;Ge(l,"NodeInjector")}function Wl(a,l,u,h){if(u&Rt.Optional&&void 0===h&&(h=null),0==(u&(Rt.Self|Rt.Host))){const m=a[9],y=xr(void 0);try{return m?m.get(l,h,u&Rt.Optional):Ar(l,h,u&Rt.Optional)}finally{xr(y)}}return Qa(h,l,u)}function Hc(a,l,u,h=Rt.Default,m){if(null!==a){const y=function Ea(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(ge)?a[ge]:void 0;return"number"==typeof l?l>=0?255&l:Wu:l}(u);if("function"==typeof y){if(!Lf(l,a,h))return h&Rt.Host?Qa(m,u,h):Wl(l,u,h,m);try{const E=y(h);if(null!=E||h&Rt.Optional)return E;Ge(u)}finally{Bf()}}else if("number"==typeof y){let E=null,x=Wo(a,l),k=-1,N=h&Rt.Host?l[16][6]:null;for((-1===x||h&Rt.SkipSelf)&&(k=-1===x?Ya(a,l):l[x+8],-1!==k&&Hi(h,!1)?(E=l[1],x=Gl(k),l=qa(k,l)):x=-1);-1!==x;){const U=l[1];if(_i(y,x,U.data)){const Y=ph(x,l,u,E,h,N);if(Y!==Ja)return Y}k=l[x+8],-1!==k&&Hi(h,l[1].data[x+8]===N)&&_i(y,x,l)?(E=U,x=Gl(k),l=qa(k,l)):x=-1}}}return Wl(l,u,h,m)}const Ja={};function Wu(){return new Xa(zn(),je())}function ph(a,l,u,h,m,y){const E=l[1],x=E.data[a+8],U=_o(x,E,u,null==h?cs(x)&&Za:h!=E&&0!=(3&x.type),m&Rt.Host&&y===x);return null!==U?zc(l,E,U,x):Ja}function _o(a,l,u,h,m){const y=a.providerIndexes,E=l.data,x=1048575&y,k=a.directiveStart,U=y>>20,re=m?x+U:a.directiveEnd;for(let fe=h?x:x+U;fe<re;fe++){const Le=E[fe];if(fe<k&&u===Le||fe>=k&&Le.type===u)return fe}if(m){const fe=E[k];if(fe&&gi(fe)&&fe.type===u)return k}return null}function zc(a,l,u,h){let m=a[u];const y=l.data;if(function Hu(a){return a instanceof zl}(m)){const E=m;E.resolving&&function Et(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${a}${u}`)}(qe(y[u]));const x=go(E.canSeeViewProviders);E.resolving=!0;const k=E.injectImpl?xr(E.injectImpl):null;Lf(a,h,Rt.Default);try{m=a[u]=E.factory(void 0,y,a,h),l.firstCreatePass&&u>=h.directiveStart&&function jf(a,l,u){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:y}=l.type.prototype;if(h){const E=jo(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,E),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,E)}m&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,m),y&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,y))}(u,y[u],l)}finally{null!==k&&xr(k),go(x),E.resolving=!1,Bf()}}return m}function _i(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function Hi(a,l){return!(a&Rt.Self||a&Rt.Host&&l)}class Xa{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return Hc(this._tNode,this._lView,l,h,u)}}function qu(a){return fr(()=>{const l=a.prototype.constructor,u=l[Fe]||yi(l),h=Object.prototype;let m=Object.getPrototypeOf(a.prototype).constructor;for(;m&&m!==h;){const y=m[Fe]||yi(m);if(y&&y!==u)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function yi(a){return _t(a)?()=>{const l=yi(Se(a));return l&&l()}:Rr(a)}function zi(a){return function fs(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let m=0;for(;m<h;){const y=u[m];if(Xt(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<h&&"string"==typeof u[m];)m++;else{if(y===l)return u[m+1];m+=2}}}return null}(zn(),a)}const ql="__parameters__";function vi(a,l,u){return fr(()=>{const h=function Js(a){return function(...u){if(a){const h=a(...u);for(const m in h)this[m]=h[m]}}}(l);function m(...y){if(this instanceof m)return h.apply(this,y),this;const E=new m(...y);return x.annotation=E,x;function x(k,N,U){const Y=k.hasOwnProperty(ql)?k[ql]:Object.defineProperty(k,ql,{value:[]})[ql];for(;Y.length<=U;)Y.push(null);return(Y[U]=Y[U]||[]).push(E),k}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class bi{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Mn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $m=new bi("AnalyzeForEntryComponents");function Nr(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),Nr(h,l)):l!==a&&l.push(h)}return l}function ps(a,l){a.forEach(u=>Array.isArray(u)?ps(u,l):l(u))}function Yl(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Kl(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Ql(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function Fi(a,l,u){let h=nl(a,l);return h>=0?a[1|h]=u:(h=~h,function _h(a,l,u,h){let m=a.length;if(m==l)a.push(u,h);else if(1===m)a.push(h,a[0]),a[0]=u;else{for(m--,a.push(a[m-1],a[m]);m>l;)a[m]=a[m-2],m--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function Zu(a,l){const u=nl(a,l);if(u>=0)return a[1|u]}function nl(a,l){return function yh(a,l,u){let h=0,m=a.length>>u;for(;m!==h;){const y=h+(m-h>>1),E=a[y<<u];if(l===E)return y<<u;E>l?m=y:h=y+1}return~(m<<u)}(a,l,1)}const qo={},il="__NG_DI_FLAG__",rl="ngTempTokenPath",Ku=/\n/gm,sl="__source",Jm=Re({provide:String,useValue:Re});let ol;function Zo(a){const l=ol;return ol=a,l}function _n(a,l=Rt.Default){if(void 0===ol)throw new Qe(203,"");return null===ol?Ar(a,void 0,l):ol.get(a,l&Rt.Optional?null:void 0,l)}function Ti(a,l=Rt.Default){return(function Ci(){return Ba}()||_n)(Se(a),l)}const al=Ti;function $f(a){const l=[];for(let u=0;u<a.length;u++){const h=Se(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Qe(900,"");let m,y=Rt.Default;for(let E=0;E<h.length;E++){const x=h[E],k=wh(x);"number"==typeof k?-1===k?m=x.token:y|=k:m=x}l.push(Ti(m,y))}else l.push(Ti(h))}return l}function Ta(a,l){return a[il]=l,a.prototype[il]=l,a}function wh(a){return a[il]}const Yo=Ta(vi("Inject",a=>({token:a})),-1),Jl=Ta(vi("Optional"),8),Qu=Ta(vi("SkipSelf"),4);let xa;function tc(a){var l;return(null===(l=function ed(){if(void 0===xa&&(xa=null,hn.trustedTypes))try{xa=hn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return xa}())||void 0===l?void 0:l.createHTML(a))||a}class vo{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class nd extends vo{getTypeName(){return"HTML"}}class Qf extends vo{getTypeName(){return"Style"}}class Kc extends vo{getTypeName(){return"Script"}}class ng extends vo{getTypeName(){return"URL"}}class ig extends vo{getTypeName(){return"ResourceURL"}}function bo(a){return a instanceof vo?a.changingThisBreaksApplicationSecurity:a}function Zr(a,l){const u=br(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function br(a){return a instanceof vo&&a.getTypeName()||null}function Ih(a){return new nd(a)}function Qc(a){return new Qf(a)}function Jf(a){return new Kc(a)}function id(a){return new ng(a)}function Th(a){return new ig(a)}class Xf{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(tc(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class rg{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=tc(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=tc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let m=u.length-1;0<m;m--){const E=u.item(m).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&l.removeAttribute(E)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const wo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,D=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function b(a){return(a=String(a)).match(wo)||a.match(D)?a:"unsafe:"+a}function A(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function V(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const W=A("area,br,col,hr,img,wbr"),pe=A("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Be=A("rp,rt"),Un=V(W,V(pe,A("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),V(Be,A("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),V(Be,pe)),Fs=A("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ls=A("srcset"),Eo=V(Fs,Ls,A("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),A("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sd=A("script,style,template");class Aa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let m=this.checkClobberedElement(u,u.nextSibling);if(m){u=m;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Un.hasOwnProperty(u))return this.sanitizedSomething=!0,!sd.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let m=0;m<h.length;m++){const y=h.item(m),E=y.name,x=E.toLowerCase();if(!Eo.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let k=y.value;Fs[x]&&(k=b(k)),Ls[x]&&(a=k,k=(a=String(a)).split(",").map(l=>b(l.trim())).join(", ")),this.buf.push(" ",E,'="',od(k),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Un.hasOwnProperty(u)&&!W.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(od(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const rc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tp=/([^\#-~ |!])/g;function od(a){return a.replace(/&/g,"&amp;").replace(rc,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(tp,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ko;function ad(a,l){let u=null;try{Ko=Ko||function Jc(a){const l=new rg(a);return function ep(){try{return!!(new window.DOMParser).parseFromString(tc(""),"text/html")}catch(a){return!1}}()?new Xf(l):l}(a);let h=l?String(l):"";u=Ko.getInertBodyElement(h);let m=5,y=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=y,y=u.innerHTML,u=Ko.getInertBodyElement(h)}while(h!==y);return tc((new Aa).sanitizeChildren(Xc(u)||u))}finally{if(u){const h=Xc(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Xc(a){return"content"in a&&function eu(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var yn=(()=>((yn=yn||{})[yn.NONE=0]="NONE",yn[yn.HTML=1]="HTML",yn[yn.STYLE=2]="STYLE",yn[yn.SCRIPT=3]="SCRIPT",yn[yn.URL=4]="URL",yn[yn.RESOURCE_URL=5]="RESOURCE_URL",yn))();function ld(a){const l=function sc(){const a=je();return a&&a[12]}();return l?l.sanitize(yn.URL,a)||"":Zr(a,"URL")?bo(a):b($e(a))}const sp="__ngContext__";function Yr(a,l){a[sp]=l}function ag(a){const l=function iu(a){return a[sp]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function su(a){return a.ngOriginalError}function cg(a,...l){a.error(...l)}class lp{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),h=function tv(a){return a&&a.ngErrorLogger||cg}(l);h(this._console,"ERROR",l),u&&h(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&su(l);for(;u&&su(u);)u=su(u);return u||null}}const nw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(hn))();function Ma(a){return a instanceof Function?a():a}var ka=(()=>((ka=ka||{})[ka.Important=1]="Important",ka[ka.DashCase=2]="DashCase",ka))();function up(a,l){return undefined(a,l)}function dp(a){const l=a[3];return Pi(l)?l[3]:l}function Dh(a){return xh(a[13])}function mg(a){return xh(a[4])}function xh(a){for(;null!==a&&!Pi(a);)a=a[4];return a}function dd(a,l,u,h,m){if(null!=h){let y,E=!1;Pi(h)?y=h:ci(h)&&(E=!0,h=h[0]);const x=gn(h);0===a&&null!==u?null==m?pd(l,u,x):Co(l,u,x,m||null,!0):1===a&&null!==u?Co(l,u,x,m||null,!0):2===a?function gv(a,l,u){const h=pp(a,l);h&&function cT(a,l,u,h){$t(a)?a.removeChild(l,u,h):l.removeChild(u)}(a,h,l,u)}(l,x,E):3===a&&l.destroyNode(x),null!=y&&function dT(a,l,u,h,m){const y=u[7];y!==gn(u)&&dd(l,a,h,y,m);for(let x=10;x<u.length;x++){const k=u[x];vg(k[1],k,a,l,h,y)}}(l,a,y,u,m)}}function lv(a,l,u){if($t(a))return a.createElement(l,u);{const h=null!==u?function xe(a){const l=a.toLowerCase();return l===M?"http://www.w3.org/2000/svg":l===z?"http://www.w3.org/1998/MathML/":null}(u):null;return null===h?a.createElement(l):a.createElementNS(h,l)}}function gg(a,l){const u=a[9],h=u.indexOf(l),m=l[3];1024&l[2]&&(l[2]&=-1025,ya(m,-1)),u.splice(h,1)}function cv(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const m=h[17];null!==m&&m!==a&&gg(m,h),l>0&&(a[u-1][4]=h[4]);const y=Kl(a,10+l);!function ms(a,l){vg(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const E=y[19];null!==E&&E.detachView(y[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function _g(a,l){if(!(256&l[2])){const u=l[11];$t(u)&&u.destroyNode&&vg(a,l,u,3,null,null),function hd(a){let l=a[13];if(!l)return fd(a[1],a);for(;l;){let u=null;if(ci(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)ci(l)&&fd(l[1],l),l=l[3];null===l&&(l=a),ci(l)&&fd(l[1],l),u=l&&l[4]}l=u}}(l)}}function fd(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function uv(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const m=l[u[h]];if(!(m instanceof zl)){const y=u[h+1];if(Array.isArray(y))for(let E=0;E<y.length;E+=2){const x=m[y[E]],k=y[E+1];try{k.call(x)}finally{}}else try{y.call(m)}finally{}}}}(a,l),function yg(a,l){const u=a.cleanup,h=l[7];let m=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const E=u[y+1],x="function"==typeof E?E(l):gn(l[E]),k=h[m=u[y+2]],N=u[y+3];"boolean"==typeof N?x.removeEventListener(u[y],k,N):N>=0?h[m=N]():h[m=-N].unsubscribe(),y+=2}else{const E=h[m=u[y+1]];u[y].call(E)}if(null!==h){for(let y=m+1;y<h.length;y++)h[y]();l[7]=null}}(a,l),1===l[1].type&&$t(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&Pi(l[3])){u!==l[3]&&gg(u,l);const h=l[19];null!==h&&h.detachView(a)}}}function fp(a,l,u){return function dv(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const m=a.data[h.directiveStart].encapsulation;if(m===pn.None||m===pn.Emulated)return null}return Pr(h,u)}(a,l.parent,u)}function Co(a,l,u,h,m){$t(a)?a.insertBefore(l,u,h,m):l.insertBefore(u,h,m)}function pd(a,l,u){$t(a)?a.appendChild(l,u):l.appendChild(u)}function aw(a,l,u,h,m){null!==h?Co(a,l,u,h,m):pd(a,l,u)}function pp(a,l){return $t(a)?a.parentNode(l):l.parentNode}function lw(a,l,u){return hv(a,l,u)}let hv=function cw(a,l,u){return 40&a.type?Pr(a,u):null};function Mh(a,l,u,h){const m=fp(a,h,l),y=l[11],x=lw(h.parent||l[6],h,l);if(null!=m)if(Array.isArray(u))for(let k=0;k<u.length;k++)aw(y,m,u[k],x,!1);else aw(y,m,u,x,!1)}function kh(a,l){if(null!==l){const u=l.type;if(3&u)return Pr(l,a);if(4&u)return mv(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return kh(a,h);{const m=a[l.index];return Pi(m)?mv(-1,m):gn(m)}}if(32&u)return up(l,a)()||gn(a[l.index]);{const h=uw(a,l);return null!==h?Array.isArray(h)?h[0]:kh(dp(a[16]),h):kh(a,l.next)}}return null}function uw(a,l){return null!==l?a[16][6].projection[l.projection]:null}function mv(a,l){const u=10+a+1;if(u<l.length){const h=l[u],m=h[1].firstChild;if(null!==m)return kh(h,m)}return l[7]}function _v(a,l,u,h,m,y,E){for(;null!=u;){const x=h[u.index],k=u.type;if(E&&0===l&&(x&&Yr(gn(x),h),u.flags|=4),64!=(64&u.flags))if(8&k)_v(a,l,u.child,h,m,y,!1),dd(l,a,m,x,y);else if(32&k){const N=up(u,h);let U;for(;U=N();)dd(l,a,m,U,y);dd(l,a,m,x,y)}else 16&k?hw(a,l,h,u,m,y):dd(l,a,m,x,y);u=E?u.projectionNext:u.next}}function vg(a,l,u,h,m,y){_v(u,h,a.firstChild,l,m,y,!1)}function hw(a,l,u,h,m,y){const E=u[16],k=E[6].projection[h.projection];if(Array.isArray(k))for(let N=0;N<k.length;N++)dd(l,a,m,k[N],y);else _v(a,l,k,E[3],m,y,!0)}function hT(a,l,u){$t(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function mp(a,l,u){$t(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function Oh(a,l,u){let h=a.length;for(;;){const m=a.indexOf(l,u);if(-1===m)return m;if(0===m||a.charCodeAt(m-1)<=32){const y=l.length;if(m+y===h||a.charCodeAt(m+y)<=32)return m}u=m+1}}const bg="ng-template";function Rh(a,l,u){let h=0;for(;h<a.length;){let m=a[h++];if(u&&"class"===m){if(m=a[h],-1!==Oh(m.toLowerCase(),l,0))return!0}else if(1===m){for(;h<a.length&&"string"==typeof(m=a[h++]);)if(m.toLowerCase()===l)return!0;return!1}}return!1}function fw(a){return 4===a.type&&a.value!==bg}function Er(a,l,u){return l===(4!==a.type||u?a.value:bg)}function fT(a,l,u){let h=4;const m=a.attrs||[],y=function pT(a){for(let l=0;l<a.length;l++)if(Xt(a[l]))return l;return a.length}(m);let E=!1;for(let x=0;x<l.length;x++){const k=l[x];if("number"!=typeof k){if(!E)if(4&h){if(h=2|1&h,""!==k&&!Er(a,k,u)||""===k&&1===l.length){if(to(h))return!1;E=!0}}else{const N=8&h?k:l[++x];if(8&h&&null!==a.attrs){if(!Rh(a.attrs,N,u)){if(to(h))return!1;E=!0}continue}const Y=Me(8&h?"class":k,m,fw(a),u);if(-1===Y){if(to(h))return!1;E=!0;continue}if(""!==N){let re;re=Y>y?"":m[Y+1].toLowerCase();const fe=8&h?re:null;if(fe&&-1!==Oh(fe,N,0)||2&h&&N!==re){if(to(h))return!1;E=!0}}}}else{if(!E&&!to(h)&&!to(k))return!1;if(E&&to(k))continue;E=!1,h=k|1&h}}return to(h)||E}function to(a){return 0==(1&a)}function Me(a,l,u,h){if(null===l)return-1;let m=0;if(h||!u){let y=!1;for(;m<l.length;){const E=l[m];if(E===a)return m;if(3===E||6===E)y=!0;else{if(1===E||2===E){let x=l[++m];for(;"string"==typeof x;)x=l[++m];continue}if(4===E)break;if(0===E){m+=4;continue}}m+=y?1:2}return-1}return function vv(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function gp(a,l,u=!1){for(let h=0;h<l.length;h++)if(fT(a,l[h],u))return!0;return!1}function pw(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let m=0;m<a.length;m++)if(a[m]!==h[m])continue e;return!0}}return!1}function _p(a,l){return a?":not("+l.trim()+")":l}function au(a){let l=a[0],u=1,h=2,m="",y=!1;for(;u<a.length;){let E=a[u];if("string"==typeof E)if(2&h){const x=a[++u];m+="["+E+(x.length>0?'="'+x+'"':"")+"]"}else 8&h?m+="."+E:4&h&&(m+=" "+E);else""!==m&&!to(E)&&(l+=_p(y,m),m=""),h=E,y=y||!to(h);u++}return""!==m&&(l+=_p(y,m)),l}const sn={};function Ev(a){Ph(mn(),je(),nr()+a,Lc())}function Ph(a,l,u,h){if(!h)if(3==(3&l[2])){const y=a.preOrderCheckHooks;null!==y&&$o(l,y,u)}else{const y=a.preOrderHooks;null!==y&&jc(l,y,0,u)}zo(u)}function yp(a,l){return a<<17|l<<2}function Lr(a){return a>>17&32767}function Cr(a){return 2|a}function Oa(a){return(131068&a)>>2}function wg(a,l){return-131069&a|l<<2}function Eg(a){return 1|a}function Lh(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const m=u[h],y=u[h+1];if(-1!==y){const E=a.data[y];Uc(m),E.contentQueries(2,l[y],y)}}}function Io(a,l,u,h,m,y,E,x,k,N){const U=l.blueprint.slice();return U[0]=m,U[2]=140|h,za(U),U[3]=U[15]=a,U[8]=u,U[10]=E||a&&a[10],U[11]=x||a&&a[11],U[12]=k||a&&a[12]||null,U[9]=N||a&&a[9]||null,U[6]=y,U[16]=2==l.type?a[16]:U,U}function lu(a,l,u,h,m){let y=a.data[l];if(null===y)y=function Bv(a,l,u,h,m){const y=Ys(),E=ch(),k=a.data[l]=function bT(a,l,u,h,m,y){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?y:y&&y.parent,u,l,h,m);return null===a.firstChild&&(a.firstChild=k),null!==y&&(E?null==y.child&&null!==k.parent&&(y.child=k):null===y.next&&(y.next=k)),k}(a,l,u,h,m),function Bl(){return jt.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=u,y.value=h,y.attrs=m;const E=function Ll(){const a=jt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();y.injectorIndex=null===E?-1:E.injectorIndex}return hs(y,!0),y}function Si(a,l,u,h){if(0===u)return-1;const m=l.length;for(let y=0;y<u;y++)l.push(h),a.blueprint.push(h),a.data.push(null);return m}function Bh(a,l,u){Ul(l);try{const h=a.viewQuery;null!==h&&Pe(1,h,u);const m=a.template;null!==m&&Vv(a,l,m,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Lh(a,l),a.staticViewQueries&&Pe(2,a.viewQuery,u);const y=a.components;null!==y&&function Lv(a,l){for(let u=0;u<l.length;u++)Zv(a,l[u])}(l,y)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,jl()}}function Qo(a,l,u,h){const m=l[2];if(256==(256&m))return;Ul(l);const y=Lc();try{za(l),function ba(a){return jt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&Vv(a,l,u,2,h);const E=3==(3&m);if(!y)if(E){const N=a.preOrderCheckHooks;null!==N&&$o(l,N,null)}else{const N=a.preOrderHooks;null!==N&&jc(l,N,0,null),dh(l,0)}if(function qv(a){for(let l=Dh(a);null!==l;l=mg(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const m=u[h],y=m[3];0==(1024&m[2])&&ya(y,1),m[2]|=1024}}}(l),function Wv(a){for(let l=Dh(a);null!==l;l=mg(l))for(let u=10;u<l.length;u++){const h=l[u],m=h[1];po(h)&&Qo(m,h,m.template,h[8])}}(l),null!==a.contentQueries&&Lh(a,l),!y)if(E){const N=a.contentCheckHooks;null!==N&&$o(l,N)}else{const N=a.contentHooks;null!==N&&jc(l,N,1),dh(l,1)}!function Nv(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const m=u[h];if(m<0)zo(~m);else{const y=m,E=u[++h],x=u[++h];Bc(E,y),x(2,l[y])}}}finally{zo(-1)}}(a,l);const x=a.components;null!==x&&function Fv(a,l){for(let u=0;u<l.length;u++)Ng(a,l[u])}(l,x);const k=a.viewQuery;if(null!==k&&Pe(2,k,h),!y)if(E){const N=a.viewCheckHooks;null!==N&&$o(l,N)}else{const N=a.viewHooks;null!==N&&jc(l,N,2),dh(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),y||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,ya(l[3],-1))}finally{jl()}}function Tw(a,l,u,h){const m=l[10],y=!Lc(),E=Ha(l);try{y&&!E&&m.begin&&m.begin(),E&&Bh(a,l,h),Qo(a,l,u,h)}finally{y&&!E&&m.end&&m.end()}}function Vv(a,l,u,h,m){const y=nr(),E=2&h;try{zo(-1),E&&l.length>20&&Ph(a,l,20,Lc()),u(h,m)}finally{zo(y)}}function Cp(a,l,u){if(_a(l)){const m=l.directiveEnd;for(let y=l.directiveStart;y<m;y++){const E=a.data[y];E.contentQueries&&E.contentQueries(1,u[y],y)}}}function Sw(a,l,u){!oh()||(function md(a,l,u,h){const m=u.directiveStart,y=u.directiveEnd;a.firstCreatePass||Pn(u,l),Yr(h,l);const E=u.initialInputs;for(let x=m;x<y;x++){const k=a.data[x],N=gi(k);N&&cc(l,u,k);const U=zc(l,a,x,u);Yr(U,l),null!==E&&ys(0,x-m,U,k,0,E),N&&(tr(u.index,l)[8]=U)}}(a,l,u,Pr(u,l)),128==(128&u.flags)&&function ar(a,l,u){const h=u.directiveStart,m=u.directiveEnd,E=u.index,x=function uh(){return jt.lFrame.currentDirectiveIndex}();try{zo(E);for(let k=h;k<m;k++){const N=a.data[k],U=l[k];Ho(k),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&Jo(N,U)}}finally{zo(-1),Ho(x)}}(a,l,u))}function Ip(a,l,u=Pr){const h=l.localNames;if(null!==h){let m=l.index+1;for(let y=0;y<h.length;y+=2){const E=h[y+1],x=-1===E?u(l,a):a[E];a[m++]=x}}}function xn(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Tp(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Tp(a,l,u,h,m,y,E,x,k,N){const U=20+h,Y=U+m,re=function vT(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:sn);return u}(U,Y),fe="function"==typeof N?N():N;return re[1]={type:a,blueprint:re,template:u,queries:null,viewQuery:x,declTNode:l,data:re.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:k,consts:fe,incompleteFirstPass:!1}}function jv(a,l,u,h){const m=me(l);null===u?m.push(h):(m.push(u),a.firstCreatePass&&Vt(a).push(h,m.length-1))}function Hv(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const m=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,m):u[h]=[l,m]}return u}function _s(a,l,u,h,m,y,E,x){const k=Pr(l,u);let U,N=l.inputs;!x&&null!=N&&(U=N[h])?(cu(a,u,U,h,m),cs(l)&&function en(a,l){const u=tr(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(h=function xt(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),m=null!=E?E(m,l.value||"",h):m,$t(y)?y.setProperty(k,h,m):ir(h)||(k.setProperty?k.setProperty(h,m):k[h]=m))}function Vh(a,l,u,h){let m=!1;if(oh()){const y=function Rg(a,l,u){const h=a.directiveRegistry;let m=null;if(h)for(let y=0;y<h.length;y++){const E=h[y];gp(u,E.selectors,!1)&&(m||(m=[]),Ka(Pn(u,l),a,E.type),gi(E)?(xw(a,u),m.unshift(E)):m.push(E))}return m}(a,l,u),E=null===h?null:{"":-1};if(null!==y){m=!0,Gv(u,a.data.length,y.length);for(let U=0;U<y.length;U++){const Y=y[U];Y.providersResolver&&Y.providersResolver(Y)}let x=!1,k=!1,N=Si(a,l,y.length,null);for(let U=0;U<y.length;U++){const Y=y[U];u.mergedAttrs=si(u.mergedAttrs,Y.hostAttrs),Pg(a,u,l,N,Y),Mw(N,Y,E),null!==Y.contentQueries&&(u.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(u.flags|=128);const re=Y.type.prototype;!x&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),x=!0),!k&&(re.ngOnChanges||re.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),k=!0),N++}!function dl(a,l){const h=l.directiveEnd,m=a.data,y=l.attrs,E=[];let x=null,k=null;for(let N=l.directiveStart;N<h;N++){const U=m[N],Y=U.inputs,re=null===y||fw(l)?null:hl(Y,y);E.push(re),x=Hv(Y,N,x),k=Hv(U.outputs,N,k)}null!==x&&(x.hasOwnProperty("class")&&(l.flags|=16),x.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=E,l.inputs=x,l.outputs=k}(a,u)}E&&function Aw(a,l,u){if(l){const h=a.localNames=[];for(let m=0;m<l.length;m+=2){const y=u[l[m+1]];if(null==y)throw new Qe(-301,!1);h.push(l[m],y)}}}(u,h,E)}return u.mergedAttrs=si(u.mergedAttrs,u.attrs),m}function Dp(a,l,u,h,m,y){const E=y.hostBindings;if(E){let x=a.hostBindingOpCodes;null===x&&(x=a.hostBindingOpCodes=[]);const k=~l.index;(function or(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(x)!=k&&x.push(k),x.push(h,m,E)}}function Jo(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function xw(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Mw(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;gi(l)&&(u[""]=a)}}function Gv(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function Pg(a,l,u,h,m){a.data[h]=m;const y=m.factory||(m.factory=Rr(m.type)),E=new zl(y,gi(m),null);a.blueprint[h]=E,u[h]=E,Dp(a,l,0,h,Si(a,u,m.hostVars,sn),m)}function cc(a,l,u){const h=Pr(l,a),m=xn(u),y=a[10],E=g(a,Io(a,m,null,u.onPush?64:16,h,l,y,y.createRenderer(h,u),null,null));a[l.index]=E}function Bs(a,l,u,h,m,y){const E=Pr(a,l);!function xp(a,l,u,h,m,y,E){if(null==y)$t(a)?a.removeAttribute(l,m,u):l.removeAttribute(m);else{const x=null==E?$e(y):E(y,h||"",m);$t(a)?a.setAttribute(l,m,x,u):u?l.setAttributeNS(u,m,x):l.setAttribute(m,x)}}(l[11],E,y,a.value,u,h,m)}function ys(a,l,u,h,m,y){const E=y[l];if(null!==E){const x=h.setInput;for(let k=0;k<E.length;){const N=E[k++],U=E[k++],Y=E[k++];null!==x?h.setInput(u,Y,N,U):u[U]=Y}}}function hl(a,l){let u=null,h=0;for(;h<l.length;){const m=l[h];if(0!==m)if(5!==m){if("number"==typeof m)break;a.hasOwnProperty(m)&&(null===u&&(u=[]),u.push(m,a[m],l[h+1])),h+=2}else h+=2;else h+=4}return u}function fl(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function Ng(a,l){const u=tr(l,a);if(po(u)){const h=u[1];80&u[2]?Qo(h,u,h.template,u[8]):u[5]>0&&Ap(u)}}function Ap(a){for(let h=Dh(a);null!==h;h=mg(h))for(let m=10;m<h.length;m++){const y=h[m];if(1024&y[2]){const E=y[1];Qo(E,y,E.template,y[8])}else y[5]>0&&Ap(y)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const m=tr(u[h],a);po(m)&&m[5]>0&&Ap(m)}}function Zv(a,l){const u=tr(l,a),h=u[1];(function Yv(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),Bh(h,u,u[8])}function g(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function f(a){for(;a;){a[2]|=64;const l=dp(a);if(Rl(a)&&!l)return a;a=l}return null}function C(a,l,u){const h=l[10];h.begin&&h.begin();try{Qo(a,l,a.template,u)}catch(m){throw vs(l,m),m}finally{h.end&&h.end()}}function F(a){!function I(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],h=ag(u),m=h[1];Tw(m,h,m.template,u)}}(a[8])}function Pe(a,l,u){Uc(0),l(a,u)}const pt=(()=>Promise.resolve(null))();function me(a){return a[7]||(a[7]=[])}function Vt(a){return a.cleanup||(a.cleanup=[])}function vs(a,l){const u=a[9],h=u?u.get(lp,null):null;h&&h.handleError(l)}function cu(a,l,u,h,m){for(let y=0;y<u.length;){const E=u[y++],x=u[y++],k=l[E],N=a.data[E];null!==N.setInput?N.setInput(k,m,h,x):k[x]=m}}function Us(a,l,u){const h=Pc(l,a);!function hp(a,l,u){$t(a)?a.setValue(l,u):l.textContent=u}(a[11],h,u)}function Mp(a,l,u){let h=u?a.styles:null,m=u?a.classes:null,y=0;if(null!==l)for(let E=0;E<l.length;E++){const x=l[E];"number"==typeof x?y=x:1==y?m=le(m,x):2==y&&(h=le(h,x+": "+l[++E]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=m:a.classesWithoutHost=m}const To=new bi("INJECTOR",-1);class Fg{get(l,u=qo){if(u===qo){const h=new Error(`NullInjectorError: No provider for ${we(l)}!`);throw h.name="NullInjectorError",h}return u}}const kw=new bi("Set Injector scope."),_d={},Kv={};let Lg;function Qv(){return void 0===Lg&&(Lg=new Fg),Lg}function Jv(a,l=null,u=null,h){const m=Xv(a,l,u,h);return m._resolveInjectorDefTypes(),m}function Xv(a,l=null,u=null,h){return new wT(a,u,l||Qv(),h)}class wT{constructor(l,u,h,m=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];u&&ps(u,x=>this.processProvider(x,l,u)),ps([l],x=>this.processInjectorType(x,[],y)),this.records.set(To,yd(void 0,this));const E=this.records.get(kw);this.scope=null!=E?E.value:null,this.source=m||("object"==typeof l?null:we(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=qo,h=Rt.Default){this.assertNotDestroyed();const m=Zo(this),y=xr(void 0);try{if(!(h&Rt.SkipSelf)){let x=this.records.get(l);if(void 0===x){const k=function tb(a){return"function"==typeof a||"object"==typeof a&&a instanceof bi}(l)&&hi(l);x=k&&this.injectableDefInScope(k)?yd(eb(l),_d):null,this.records.set(l,x)}if(null!=x)return this.hydrate(l,x)}return(h&Rt.Self?Qv():this.parent).get(l,u=h&Rt.Optional&&u===qo?null:u)}catch(E){if("NullInjectorError"===E.name){if((E[rl]=E[rl]||[]).unshift(we(l)),m)throw E;return function Gf(a,l,u,h){const m=a[rl];throw l[sl]&&m.unshift(l[sl]),a.message=function Wc(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let m=we(l);if(Array.isArray(l))m=l.map(we).join(" -> ");else if("object"==typeof l){let y=[];for(let E in l)if(l.hasOwnProperty(E)){let x=l[E];y.push(E+":"+("string"==typeof x?JSON.stringify(x):we(x)))}m=`{${y.join(", ")}}`}return`${u}${h?"("+h+")":""}[${m}]: ${a.replace(Ku,"\n  ")}`}("\n"+a.message,m,u,h),a.ngTokenPath=m,a[rl]=null,a}(E,l,"R3InjectorError",this.source)}throw E}finally{xr(y),Zo(m)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((h,m)=>l.push(we(m))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processInjectorType(l,u,h){if(!(l=Se(l)))return!1;let m=ma(l);const y=null==m&&l.ngModule||void 0,E=void 0===y?l:y,x=-1!==h.indexOf(E);if(void 0!==y&&(m=ma(y)),null==m)return!1;if(null!=m.imports&&!x){let U;h.push(E);try{ps(m.imports,Y=>{this.processInjectorType(Y,u,h)&&(void 0===U&&(U=[]),U.push(Y))})}finally{}if(void 0!==U)for(let Y=0;Y<U.length;Y++){const{ngModule:re,providers:fe}=U[Y];ps(fe,Le=>this.processProvider(Le,re,fe||Ut))}}this.injectorDefTypes.add(E);const k=Rr(E)||(()=>new E);this.records.set(E,yd(k,_d));const N=m.providers;if(null!=N&&!x){const U=l;ps(N,Y=>this.processProvider(Y,U,N))}return void 0!==y&&void 0!==l.providers}processProvider(l,u,h){let m=vd(l=Se(l))?l:Se(l&&l.provide);const y=function ET(a,l,u){return Rw(a)?yd(void 0,a.useValue):yd(Ow(a),_d)}(l);if(vd(l)||!0!==l.multi)this.records.get(m);else{let E=this.records.get(m);E||(E=yd(void 0,_d,!0),E.factory=()=>$f(E.multi),this.records.set(m,E)),m=l,E.multi.push(l)}this.records.set(m,y)}hydrate(l,u){return u.value===_d&&(u.value=Kv,u.value=u.factory()),"object"==typeof u.value&&u.value&&function bs(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=Se(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function eb(a){const l=hi(a),u=null!==l?l.factory:Rr(a);if(null!==u)return u;if(a instanceof bi)throw new Qe(204,!1);if(a instanceof Function)return function IM(a){const l=a.length;if(l>0)throw Ql(l,"?"),new Qe(204,!1);const u=function Po(a){const l=a&&(a[qs]||a[Hr]);if(l){const u=function ki(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Qe(204,!1)}function Ow(a,l,u){let h;if(vd(a)){const m=Se(a);return Rr(m)||eb(m)}if(Rw(a))h=()=>Se(a.useValue);else if(function Pw(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...$f(a.deps||[]));else if(function TM(a){return!(!a||!a.useExisting)}(a))h=()=>Ti(Se(a.useExisting));else{const m=Se(a&&(a.useClass||a.provide));if(!function Kr(a){return!!a.deps}(a))return Rr(m)||eb(m);h=()=>new m(...$f(a.deps))}return h}function yd(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function Rw(a){return null!==a&&"object"==typeof a&&Jm in a}function vd(a){return"function"==typeof a}let Xo=(()=>{class a{static create(u,h){var m;if(Array.isArray(u))return Jv({name:""},h,u,"");{const y=null!==(m=u.name)&&void 0!==m?m:"";return Jv({name:y},u.parent,u.providers,y)}}}return a.THROW_IF_NOT_FOUND=qo,a.NULL=new Fg,a.\u0275prov=Mn({token:a,providedIn:"any",factory:()=>Ti(To)}),a.__NG_ELEMENT_ID__=-1,a})();function AT(a,l){Hl(ag(a)[1],zn())}function jh(a){let l=function Zw(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let m;if(gi(a))m=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Qe(903,"");m=l.\u0275dir}if(m){if(u){h.push(m);const E=a;E.inputs=ws(a.inputs),E.declaredInputs=ws(a.declaredInputs),E.outputs=ws(a.outputs);const x=m.hostBindings;x&&nb(a,x);const k=m.viewQuery,N=m.contentQueries;if(k&&kT(a,k),N&&Ug(a,N),be(a.inputs,m.inputs),be(a.declaredInputs,m.declaredInputs),be(a.outputs,m.outputs),gi(m)&&m.data.animation){const U=a.data;U.animation=(U.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let E=0;E<y.length;E++){const x=y[E];x&&x.ngInherit&&x(a),x===jh&&(u=!1)}}l=Object.getPrototypeOf(l)}!function MT(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const m=a[h];m.hostVars=l+=m.hostVars,m.hostAttrs=si(m.hostAttrs,u=si(u,m.hostAttrs))}}(h)}function ws(a){return a===os?{}:a===Ut?[]:a}function kT(a,l){const u=a.viewQuery;a.viewQuery=u?(h,m)=>{l(h,m),u(h,m)}:l}function Ug(a,l){const u=a.contentQueries;a.contentQueries=u?(h,m,y)=>{l(h,m,y),u(h,m,y)}:l}function nb(a,l){const u=a.hostBindings;a.hostBindings=u?(h,m)=>{l(h,m),u(h,m)}:l}let jg=null;function uc(){if(!jg){const a=hn.Symbol;if(a&&a.iterator)jg=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(jg=h)}}}return jg}function Hh(a){return!!zh(a)&&(Array.isArray(a)||!(a instanceof Map)&&uc()in a)}function zh(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function gl(a,l,u){return a[l]=u}function Qr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function dc(a,l,u,h){const m=Qr(a,l,u);return Qr(a,l+1,h)||m}function rb(a,l,u,h){const m=je();return Qr(m,mo(),l)&&(mn(),Bs(ri(),m,a,l,u,h)),rb}function Op(a,l,u,h){return Qr(a,mo(),u)?l+$e(u)+h:sn}function hc(a,l,u,h,m,y){const x=dc(a,function Ks(){return jt.lFrame.bindingIndex}(),u,m);return Qs(2),x?l+$e(u)+h+$e(m)+y:sn}function $g(a,l,u,h,m,y,E,x){const k=je(),N=mn(),U=a+20,Y=N.firstCreatePass?function ab(a,l,u,h,m,y,E,x,k){const N=l.consts,U=lu(l,a,4,E||null,ks(N,x));Vh(l,u,U,ks(N,k)),Hl(l,U);const Y=U.tViews=Tp(2,U,h,m,y,l.directiveRegistry,l.pipeRegistry,null,l.schemas,N);return null!==l.queries&&(l.queries.template(l,U),Y.queries=l.queries.embeddedTView(U)),U}(U,N,k,l,u,h,m,y,E):N.data[U];hs(Y,!1);const re=k[11].createComment("");Mh(N,k,re,Y),Yr(re,k),g(k,k[U]=fl(re,k,re,Y)),lo(Y)&&Sw(N,k,Y),null!=E&&Ip(k,Y,x)}function Di(a){return fo(function va(){return jt.lFrame.contextLView}(),20+a)}function Kg(a,l=Rt.Default){const u=je();return null===u?Ti(a,l):Hc(zn(),u,Se(a),l)}function zT(){throw new Error("invalid")}function rE(a,l,u){const h=je();return Qr(h,mo(),l)&&_s(mn(),ri(),h,a,l,h[11],u,!1),rE}function db(a,l,u,h,m){const E=m?"class":"style";cu(a,u,l.inputs[E],E,h)}function Qg(a,l,u,h){const m=je(),y=mn(),E=20+a,x=m[11],k=m[E]=lv(x,l,function z0(){return jt.lFrame.currentNamespace}()),N=y.firstCreatePass?function $T(a,l,u,h,m,y,E){const x=l.consts,N=lu(l,a,2,m,ks(x,y));return Vh(l,u,N,ks(x,E)),null!==N.attrs&&Mp(N,N.attrs,!1),null!==N.mergedAttrs&&Mp(N,N.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,N),N}(E,y,m,0,l,u,h):y.data[E];hs(N,!0);const U=N.mergedAttrs;null!==U&&Dt(x,k,U);const Y=N.classes;null!==Y&&mp(x,k,Y);const re=N.styles;return null!==re&&hT(x,k,re),64!=(64&N.flags)&&Mh(y,m,k,N),0===function Nc(){return jt.lFrame.elementDepthCount}()&&Yr(k,m),function Nf(){jt.lFrame.elementDepthCount++}(),lo(N)&&(Sw(y,m,N),Cp(y,N,m)),null!==h&&Ip(m,N),Qg}function Yh(){let a=zn();ch()?Bu():(a=a.parent,hs(a,!1));const l=a;!function Fc(){jt.lFrame.elementDepthCount--}();const u=mn();return u.firstCreatePass&&(Hl(u,a),_a(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function $u(a){return 0!=(16&a.flags)}(l)&&db(u,l,je(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function zy(a){return 0!=(32&a.flags)}(l)&&db(u,l,je(),l.stylesWithoutHost,!1),Yh}function hb(a,l,u,h){return Qg(a,l,u,h),Yh(),hb}function fb(a,l,u){const h=je(),m=mn(),y=a+20,E=m.firstCreatePass?function GT(a,l,u,h,m){const y=l.consts,E=ks(y,h),x=lu(l,a,8,"ng-container",E);return null!==E&&Mp(x,E,!0),Vh(l,u,x,ks(y,m)),null!==l.queries&&l.queries.elementStart(l,x),x}(y,m,h,l,u):m.data[y];hs(E,!0);const x=h[y]=h[11].createComment("");return Mh(m,h,x,E),Yr(x,h),lo(E)&&(Sw(m,h,E),Cp(m,E,h)),null!=u&&Ip(h,E),fb}function Bp(){let a=zn();const l=mn();return ch()?Bu():(a=a.parent,hs(a,!1)),l.firstCreatePass&&(Hl(l,a),_a(a)&&l.queries.elementEnd(a)),Bp}function Kh(a,l,u){return fb(a,l,u),Bp(),Kh}function sE(){return je()}function Jg(a){return!!a&&"function"==typeof a.then}function Xg(a){return!!a&&"function"==typeof a.subscribe}const oE=Xg;function e_(a,l,u,h){const m=je(),y=mn(),E=zn();return function aE(a,l,u,h,m,y,E,x){const k=lo(h),U=a.firstCreatePass&&Vt(a),Y=l[8],re=me(l);let fe=!0;if(3&h.type||x){const ht=Pr(h,l),At=x?x(ht):ht,ze=re.length,Ht=x?vn=>x(gn(vn[h.index])):h.index;if($t(u)){let vn=null;if(!x&&k&&(vn=function BM(a,l,u,h){const m=a.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const E=m[y];if(E===u&&m[y+1]===h){const x=l[7],k=m[y+2];return x.length>k?x[k]:null}"string"==typeof E&&(y+=2)}return null}(a,l,m,h.index)),null!==vn)(vn.__ngLastListenerFn__||vn).__ngNextListenerFn__=y,vn.__ngLastListenerFn__=y,fe=!1;else{y=pb(h,l,Y,y,!1);const Hn=u.listen(At,m,y);re.push(y,Hn),U&&U.push(m,Ht,ze,ze+1)}}else y=pb(h,l,Y,y,!0),At.addEventListener(m,y,E),re.push(y),U&&U.push(m,Ht,ze,E)}else y=pb(h,l,Y,y,!1);const Le=h.outputs;let et;if(fe&&null!==Le&&(et=Le[m])){const ht=et.length;if(ht)for(let At=0;At<ht;At+=2){const Ao=l[et[At]][et[At+1]].subscribe(y),vf=re.length;re.push(y,Ao),U&&U.push(m,h.index,vf,-(vf+1))}}}(y,m,m[11],E,a,l,!!u,h),e_}function Vp(a,l,u,h){try{return!1!==u(h)}catch(m){return vs(a,m),!1}}function pb(a,l,u,h,m){return function y(E){if(E===Function)return h;const x=2&a.flags?tr(a.index,l):l;0==(32&l[2])&&f(x);let k=Vp(l,0,h,E),N=y.__ngNextListenerFn__;for(;N;)k=Vp(l,0,N,E)&&k,N=N.__ngNextListenerFn__;return m&&!1===k&&(E.preventDefault(),E.returnValue=!1),k}}function lE(a=1){return function wa(a){return(jt.lFrame.contextLView=function jm(a,l){for(;a>0;)l=l[15],a--;return l}(a,jt.lFrame.contextLView))[8]}(a)}function cE(a,l){let u=null;const h=function yv(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let m=0;m<l.length;m++){const y=l[m];if("*"!==y){if(null===h?gp(a,y,!0):pw(h,y))return m}else u=m}return u}function mb(a){const l=je()[16][6];if(!l.projection){const h=l.projection=Ql(a?a.length:1,null),m=h.slice();let y=l.child;for(;null!==y;){const E=a?cE(y,a):0;null!==E&&(m[E]?m[E].projectionNext=y:h[E]=y,m[E]=y),y=y.next}}}function uE(a,l=0,u){const h=je(),m=mn(),y=lu(m,20+a,16,null,u||null);null===y.projection&&(y.projection=l),Bu(),64!=(64&y.flags)&&function dw(a,l,u){hw(l[11],0,l,u,fp(a,u,l),lw(u.parent||l[6],u,l))}(m,h,y)}function Up(a,l,u){return n_(a,"",l,"",u),Up}function n_(a,l,u,h,m){const y=je(),E=Op(y,l,u,h);return E!==sn&&_s(mn(),ri(),y,a,E,y[11],m,!1),n_}function qT(a,l,u,h,m){const y=a[u+1],E=null===l;let x=h?Lr(y):Oa(y),k=!1;for(;0!==x&&(!1===k||E);){const U=a[x+1];UM(a[x],l)&&(k=!0,a[x+1]=h?Eg(U):Cr(U)),x=h?Lr(U):Oa(U)}k&&(a[u+1]=h?Cr(y):Eg(y))}function UM(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&nl(a,l)>=0}const lr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZT(a){return a.substring(lr.key,lr.keyEnd)}function KT(a,l){const u=lr.textEnd;return u===l?-1:(l=lr.keyEnd=function Hp(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,lr.key=l,u),$i(a,l,u))}function $i(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function Qh(a,l,u){return Ie(a,l,u,!1),Qh}function r_(a,l){return Ie(a,l,null,!0),r_}function at(a,l){for(let u=function YT(a){return function gE(a){lr.key=0,lr.keyEnd=0,lr.value=0,lr.valueEnd=0,lr.textEnd=a.length}(a),KT(a,$i(a,0,lr.textEnd))}(l);u>=0;u=KT(l,u))Fi(a,ZT(l),!0)}function Ie(a,l,u,h){const m=je(),y=mn(),E=Qs(2);y.firstUpdatePass&&_E(y,a,E,h),l!==sn&&Qr(m,E,l)&&vE(y,y.data[nr()],m,m[11],a,m[E+1]=function JT(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=we(bo(a)))),a}(l,u),h,E)}function Vr(a,l){return l>=a.expandoStartIndex}function _E(a,l,u,h){const m=a.data;if(null===m[u+1]){const y=m[nr()],E=Vr(a,u);xi(y,h)&&null===l&&!E&&(l=!1),l=function $M(a,l,u,h){const m=function Vl(a){const l=jt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let y=h?l.residualClasses:l.residualStyles;if(null===m)0===(h?l.classBindings:l.styleBindings)&&(u=zp(u=yE(null,a,l,u,h),l.attrs,h),y=null);else{const E=l.directiveStylingLast;if(-1===E||a[E]!==m)if(u=yE(m,a,l,u,h),null===y){let k=function GM(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Oa(h))return a[Lr(h)]}(a,l,h);void 0!==k&&Array.isArray(k)&&(k=yE(null,a,l,k[1],h),k=zp(k,l.attrs,h),function WM(a,l,u,h){a[Lr(u?l.classBindings:l.styleBindings)]=h}(a,l,h,k))}else y=function qM(a,l,u){let h;const m=l.directiveEnd;for(let y=1+l.directiveStylingLast;y<m;y++)h=zp(h,a[y].hostAttrs,u);return zp(h,l.attrs,u)}(a,l,h)}return void 0!==y&&(h?l.residualClasses=y:l.residualStyles=y),u}(m,y,l,h),function WT(a,l,u,h,m,y){let E=y?l.classBindings:l.styleBindings,x=Lr(E),k=Oa(E);a[h]=u;let U,N=!1;if(Array.isArray(u)){const Y=u;U=Y[1],(null===U||nl(Y,U)>0)&&(N=!0)}else U=u;if(m)if(0!==k){const re=Lr(a[x+1]);a[h+1]=yp(re,x),0!==re&&(a[re+1]=wg(a[re+1],h)),a[x+1]=function Tv(a,l){return 131071&a|l<<17}(a[x+1],h)}else a[h+1]=yp(x,0),0!==x&&(a[x+1]=wg(a[x+1],h)),x=h;else a[h+1]=yp(k,0),0===x?x=h:a[k+1]=wg(a[k+1],h),k=h;N&&(a[h+1]=Cr(a[h+1])),qT(a,U,h,!0),qT(a,U,h,!1),function jp(a,l,u,h,m){const y=m?a.residualClasses:a.residualStyles;null!=y&&"string"==typeof l&&nl(y,l)>=0&&(u[h+1]=Eg(u[h+1]))}(l,U,a,h,y),E=yp(x,k),y?l.classBindings=E:l.styleBindings=E}(m,y,l,u,E,h)}}function yE(a,l,u,h,m){let y=null;const E=u.directiveEnd;let x=u.directiveStylingLast;for(-1===x?x=u.directiveStart:x++;x<E&&(y=l[x],h=zp(h,y.hostAttrs,m),y!==a);)x++;return null!==a&&(u.directiveStylingLast=x),h}function zp(a,l,u){const h=u?1:2;let m=-1;if(null!==l)for(let y=0;y<l.length;y++){const E=l[y];"number"==typeof E?m=E:m===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Fi(a,E,!!u||l[++y]))}return void 0===a?null:a}function vE(a,l,u,h,m,y,E,x){if(!(3&l.type))return;const k=a.data,N=k[x+1];du(function Sv(a){return 1==(1&a)}(N)?ln(k,l,u,m,Oa(N),E):void 0)||(du(y)||function Iv(a){return 2==(2&a)}(N)&&(y=ln(k,null,u,m,x,E)),function Fr(a,l,u,h,m){const y=$t(a);if(l)m?y?a.addClass(u,h):u.classList.add(h):y?a.removeClass(u,h):u.classList.remove(h);else{let E=-1===h.indexOf("-")?void 0:ka.DashCase;if(null==m)y?a.removeStyle(u,h,E):u.style.removeProperty(h);else{const x="string"==typeof m&&m.endsWith("!important");x&&(m=m.slice(0,-10),E|=ka.Important),y?a.setStyle(u,h,m,E):u.style.setProperty(h,m,x?"important":"")}}}(h,E,Pc(nr(),u),m,y))}function ln(a,l,u,h,m,y){const E=null===l;let x;for(;m>0;){const k=a[m],N=Array.isArray(k),U=N?k[1]:k,Y=null===U;let re=u[m+1];re===sn&&(re=Y?Ut:void 0);let fe=Y?Zu(re,h):U===h?re:void 0;if(N&&!du(fe)&&(fe=Zu(k,h)),du(fe)&&(x=fe,E))return x;const Le=a[m+1];m=E?Lr(Le):Oa(Le)}if(null!==l){let k=y?l.residualClasses:l.residualStyles;null!=k&&(x=Zu(k,h))}return x}function du(a){return void 0!==a}function xi(a,l){return 0!=(a.flags&(l?16:32))}function Zt(a,l=""){const u=je(),h=mn(),m=a+20,y=h.firstCreatePass?lu(h,m,1,l,null):h.data[m],E=u[m]=function av(a,l){return $t(a)?a.createText(l):a.createTextNode(l)}(u[11],l);Mh(h,u,E,y),hs(y,!1)}function Jh(a){return En("",a,""),Jh}function En(a,l,u){const h=je(),m=Op(h,a,l,u);return m!==sn&&Us(h,nr(),m),En}function bE(a,l,u,h,m){const y=je(),E=hc(y,a,l,u,h,m);return E!==sn&&Us(y,nr(),E),bE}function wE(a,l,u){!function He(a,l,u,h){const m=mn(),y=Qs(2);m.firstUpdatePass&&_E(m,null,y,h);const E=je();if(u!==sn&&Qr(E,y,u)){const x=m.data[nr()];if(xi(x,h)&&!Vr(m,y)){let k=h?x.classesWithoutHost:x.stylesWithoutHost;null!==k&&(u=le(k,u||"")),db(m,x,E,u,h)}else!function KM(a,l,u,h,m,y,E,x){m===sn&&(m=Ut);let k=0,N=0,U=0<m.length?m[0]:null,Y=0<y.length?y[0]:null;for(;null!==U||null!==Y;){const re=k<m.length?m[k+1]:void 0,fe=N<y.length?y[N+1]:void 0;let et,Le=null;U===Y?(k+=2,N+=2,re!==fe&&(Le=Y,et=fe)):null===Y||null!==U&&U<Y?(k+=2,Le=U):(N+=2,Le=Y,et=fe),null!==Le&&vE(a,l,u,h,Le,et,E,x),U=k<m.length?m[k]:null,Y=N<y.length?y[N]:null}}(m,x,E,E[11],E[y+1],E[y+1]=function ZM(a,l,u){if(null==u||""===u)return Ut;const h=[],m=bo(u);if(Array.isArray(m))for(let y=0;y<m.length;y++)a(h,m[y],!0);else if("object"==typeof m)for(const y in m)m.hasOwnProperty(y)&&a(h,y,m[y]);else"string"==typeof m&&l(h,m);return h}(a,l,u),h,y)}}(Fi,at,Op(je(),a,l,u),!0)}function Zn(a,l,u){const h=je();return Qr(h,mo(),l)&&_s(mn(),ri(),h,a,l,h[11],u,!0),Zn}const Pa=void 0;var XM=["en",[["a","p"],["AM","PM"],Pa],[["AM","PM"],Pa,Pa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pa,"{1} 'at' {0}",Pa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function na(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Li={};function mc(a){const l=function tk(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=bb(l);if(u)return u;const h=l.split("-")[0];if(u=bb(h),u)return u;if("en"===h)return XM;throw new Error(`Missing locale data for the locale "${a}".`)}function Od(a){return mc(a)[Gt.PluralCase]}function bb(a){return a in Li||(Li[a]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[a]),Li[a]}var Gt=(()=>((Gt=Gt||{})[Gt.LocaleId=0]="LocaleId",Gt[Gt.DayPeriodsFormat=1]="DayPeriodsFormat",Gt[Gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Gt[Gt.DaysFormat=3]="DaysFormat",Gt[Gt.DaysStandalone=4]="DaysStandalone",Gt[Gt.MonthsFormat=5]="MonthsFormat",Gt[Gt.MonthsStandalone=6]="MonthsStandalone",Gt[Gt.Eras=7]="Eras",Gt[Gt.FirstDayOfWeek=8]="FirstDayOfWeek",Gt[Gt.WeekendRange=9]="WeekendRange",Gt[Gt.DateFormat=10]="DateFormat",Gt[Gt.TimeFormat=11]="TimeFormat",Gt[Gt.DateTimeFormat=12]="DateTimeFormat",Gt[Gt.NumberSymbols=13]="NumberSymbols",Gt[Gt.NumberFormats=14]="NumberFormats",Gt[Gt.CurrencyCode=15]="CurrencyCode",Gt[Gt.CurrencySymbol=16]="CurrencySymbol",Gt[Gt.CurrencyName=17]="CurrencyName",Gt[Gt.Currencies=18]="Currencies",Gt[Gt.Directionality=19]="Directionality",Gt[Gt.PluralCase=20]="PluralCase",Gt[Gt.ExtraData=21]="ExtraData",Gt))();const Rd="en-US";let Gp=Rd;function lf(a,l,u,h,m){if(a=Se(a),Array.isArray(a))for(let y=0;y<a.length;y++)lf(a[y],l,u,h,m);else{const y=mn(),E=je();let x=vd(a)?a:Se(a.provide),k=Ow(a);const N=zn(),U=1048575&N.providerIndexes,Y=N.directiveStart,re=N.providerIndexes>>20;if(vd(a)||!a.multi){const fe=new zl(k,m,Kg),Le=Vd(x,l,m?U:U+re,Y);-1===Le?(Ka(Pn(N,E),y,x),LE(y,a,l.length),l.push(x),N.directiveStart++,N.directiveEnd++,m&&(N.providerIndexes+=1048576),u.push(fe),E.push(fe)):(u[Le]=fe,E[Le]=fe)}else{const fe=Vd(x,l,U+re,Y),Le=Vd(x,l,U,U+re),et=fe>=0&&u[fe],ht=Le>=0&&u[Le];if(m&&!ht||!m&&!et){Ka(Pn(N,E),y,x);const At=function kS(a,l,u,h,m){const y=new zl(a,u,Kg);return y.multi=[],y.index=l,y.componentProviders=0,BE(y,m,h&&!u),y}(m?MS:mu,u.length,m,h,k);!m&&ht&&(u[Le].providerFactory=At),LE(y,a,l.length,0),l.push(x),N.directiveStart++,N.directiveEnd++,m&&(N.providerIndexes+=1048576),u.push(At),E.push(At)}else LE(y,a,fe>-1?fe:Le,BE(u[m?Le:fe],k,!m&&h));!m&&h&&ht&&u[Le].componentProviders++}}}function LE(a,l,u,h){const m=vd(l),y=function Nw(a){return!!a.useClass}(l);if(m||y){const k=(y?Se(l.useClass):l).prototype.ngOnDestroy;if(k){const N=a.destroyHooks||(a.destroyHooks=[]);if(!m&&l.multi){const U=N.indexOf(u);-1===U?N.push(u,[h,k]):N[U+1].push(h,k)}else N.push(u,k)}}}function BE(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function Vd(a,l,u,h){for(let m=u;m<h;m++)if(l[m]===a)return m;return-1}function mu(a,l,u,h){return Ab(this.multi,[])}function MS(a,l,u,h){const m=this.multi;let y;if(this.providerFactory){const E=this.providerFactory.componentProviders,x=zc(u,u[1],this.providerFactory.index,h);y=x.slice(0,E),Ab(m,y);for(let k=E;k<x.length;k++)y.push(x[k])}else y=[],Ab(m,y);return y}function Ab(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function cf(a,l=[]){return u=>{u.providersResolver=(h,m)=>function ck(a,l,u){const h=mn();if(h.firstCreatePass){const m=gi(a);lf(u,h.data,h.blueprint,m,!0),lf(l,h.data,h.blueprint,m,!1)}}(h,m?m(a):a,l)}}class OS{}class RS{resolveComponentFactory(l){throw function Tr(a){const l=Error(`No component factory found for ${we(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let vl=(()=>{class a{}return a.NULL=new RS,a})();function dk(){return Ur(zn(),je())}function Ur(a,l){return new Xp(Pr(a,l))}let Xp=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=dk,a})();function __(a){return a instanceof Xp?a.nativeElement:a}class bl{}let PS=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function fk(){const a=je(),u=tr(zn().index,a);return function y_(a){return a[11]}(ci(u)?u:a)}(),a})(),pk=(()=>{class a{}return a.\u0275prov=Mn({token:a,providedIn:"root",factory:()=>null}),a})();class dn{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const NS=new dn("13.2.7"),em={};function Ud(a,l,u,h,m=!1){for(;null!==u;){const y=l[u.index];if(null!==y&&h.push(gn(y)),Pi(y))for(let x=10;x<y.length;x++){const k=y[x],N=k[1].firstChild;null!==N&&Ud(k[1],k,N,h)}const E=u.type;if(8&E)Ud(a,l,u.child,h);else if(32&E){const x=up(u,l);let k;for(;k=x();)h.push(k)}else if(16&E){const x=uw(l,u);if(Array.isArray(x))h.push(...x);else{const k=dp(l[16]);Ud(k[1],k,x,h,!0)}}u=m?u.projectionNext:u.next}return h}class gu{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Ud(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Pi(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(cv(l,h),Kl(u,h))}this._attachedToViewContainer=!1}_g(this._lView[1],this._lView)}onDestroy(l){jv(this._lView[1],this._lView,null,l)}markForCheck(){f(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){C(this._lView[1],this._lView,this.context)}checkNoChanges(){!function q(a,l,u){$a(!0);try{C(a,l,u)}finally{$a(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ow(a,l){vg(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Qe(902,"");this._appRef=l}}class Mb extends gu{constructor(l){super(l),this._view=l}detectChanges(){F(this._view)}checkNoChanges(){!function he(a){$a(!0);try{F(a)}finally{$a(!1)}}(this._view)}get context(){return null}}class UE extends vl{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=ni(l);return new kb(u,this.ngModule)}}function jE(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class kb extends OS{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function bv(a){return a.map(au).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return jE(this.componentDef.inputs)}get outputs(){return jE(this.componentDef.outputs)}create(l,u,h,m){const y=(m=m||this.ngModule)?function mk(a,l){return{get:(u,h,m)=>{const y=a.get(u,em,m);return y!==em||h===em?y:l.get(u,h,m)}}}(l,m.injector):l,E=y.get(bl,Tt),x=y.get(pk,null),k=E.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",U=h?function Mg(a,l,u){if($t(a))return a.selectRootElement(l,u===pn.ShadowDom);let h="string"==typeof l?a.querySelector(l):l;return h.textContent="",h}(k,h,this.componentDef.encapsulation):lv(E.createRenderer(null,this.componentDef),N,function FS(a){const l=a.toLowerCase();return"svg"===l?M:"math"===l?z:null}(N)),Y=this.componentDef.onPush?576:528,re=function bd(a,l){return{components:[],scheduler:a||nw,clean:pt,playerHandler:l||null,flags:0}}(),fe=Tp(0,null,null,1,0,null,null,null,null,null),Le=Io(null,fe,re,Y,null,null,E,k,x,y);let et,ht;Ul(Le);try{const At=function DT(a,l,u,h,m,y){const E=u[1];u[20]=a;const k=lu(E,20,2,"#host",null),N=k.mergedAttrs=l.hostAttrs;null!==N&&(Mp(k,N,!0),null!==a&&(Dt(m,a,N),null!==k.classes&&mp(m,a,k.classes),null!==k.styles&&hT(m,a,k.styles)));const U=h.createRenderer(a,l),Y=Io(u,xn(l),null,l.onPush?64:16,u[20],k,h,U,y||null,null);return E.firstCreatePass&&(Ka(Pn(k,u),E,l.type),xw(E,k),Gv(k,u.length,1)),g(u,Y),u[20]=Y}(U,this.componentDef,Le,E,k);if(U)if(h)Dt(k,U,["ng-version",NS.full]);else{const{attrs:ze,classes:Ht}=function wv(a){const l=[],u=[];let h=1,m=2;for(;h<a.length;){let y=a[h];if("string"==typeof y)2===m?""!==y&&l.push(y,a[++h]):8===m&&u.push(y);else{if(!to(m))break;m=y}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);ze&&Dt(k,U,ze),Ht&&Ht.length>0&&mp(k,U,Ht.join(" "))}if(ht=ds(fe,20),void 0!==u){const ze=ht.projection=[];for(let Ht=0;Ht<this.ngContentSelectors.length;Ht++){const vn=u[Ht];ze.push(null!=vn?Array.from(vn):null)}}et=function xT(a,l,u,h,m){const y=u[1],E=function Dw(a,l,u){const h=zn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Pg(a,h,l,Si(a,l,1,null),u));const m=zc(l,a,h.directiveStart,h);Yr(m,l);const y=Pr(h,l);return y&&Yr(y,l),m}(y,u,l);if(h.components.push(E),a[8]=E,m&&m.forEach(k=>k(E,l)),l.contentQueries){const k=zn();l.contentQueries(1,E,k.directiveStart)}const x=zn();return!y.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(zo(x.index),Dp(u[1],x,0,x.directiveStart,x.directiveEnd,l),Jo(l,E)),E}(At,this.componentDef,Le,re,[AT]),Bh(fe,Le,null)}finally{jl()}return new gk(this.componentType,et,Ur(ht,Le),Le,ht)}}class gk extends class VE{}{constructor(l,u,h,m,y){super(),this.location=h,this._rootLView=m,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new Mb(m),this.componentType=l}get injector(){return new Xa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class gc{}class HE{}const tm=new Map;class zE extends gc{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new UE(this);const h=Bn(l);this._bootstrapComponents=Ma(h.bootstrap),this._r3Injector=Xv(l,u,[{provide:gc,useValue:this},{provide:vl,useValue:this.componentFactoryResolver}],we(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=Xo.THROW_IF_NOT_FOUND,h=Rt.Default){return l===Xo||l===gc||l===To?this:this._r3Injector.get(l,u,h)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class uf extends HE{constructor(l){super(),this.moduleType=l,null!==Bn(l)&&function BS(a){const l=new Set;!function u(h){const m=Bn(h,!0),y=m.id;null!==y&&(function Ob(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${we(l)} vs ${we(l.name)}`)}(y,tm.get(y),h),tm.set(y,h));const E=Ma(m.imports);for(const x of E)l.has(x)||(l.add(x),u(x))}(a)}(l)}create(l){return new zE(this.moduleType,l)}}function $E(a,l,u,h){return zS(je(),vr(),a,l,u,h)}function GE(a,l,u,h,m){return function qE(a,l,u,h,m,y,E){const x=l+u;return dc(a,x,m,y)?gl(a,x+2,E?h.call(E,m,y):h(m,y)):nm(a,x+2)}(je(),vr(),a,l,u,h,m)}function nm(a,l){const u=a[l];return u===sn?void 0:u}function zS(a,l,u,h,m,y){const E=l+u;return Qr(a,E,m)?gl(a,E+1,y?h.call(y,m):h(m)):nm(a,E+1)}function hf(a,l){const u=mn();let h;const m=a+20;u.firstCreatePass?(h=function wk(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[m]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(m,h.onDestroy)):h=u.data[m];const y=h.factory||(h.factory=Rr(h.type)),E=xr(Kg);try{const x=go(!1),k=y();return go(x),function NT(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,je(),m,k),k}finally{xr(E)}}function WS(a,l,u){const h=a+20,m=je(),y=fo(m,h);return function im(a,l){return a[1].data[l].pure}(m,h)?zS(m,vr(),l,y.transform,u,y):y.transform(u)}function Pb(a){return l=>{setTimeout(a,void 0,l)}}const ra=class _c extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){var m,y,E;let x=l,k=u||(()=>null),N=h;if(l&&"object"==typeof l){const Y=l;x=null===(m=Y.next)||void 0===m?void 0:m.bind(Y),k=null===(y=Y.error)||void 0===y?void 0:y.bind(Y),N=null===(E=Y.complete)||void 0===E?void 0:E.bind(Y)}this.__isAsync&&(k=Pb(k),x&&(x=Pb(x)),N&&(N=Pb(N)));const U=super.subscribe({next:x,error:k,complete:N});return l instanceof ee.w0&&l.add(U),U}};function ZS(){return this._results[uc()]()}class Nb{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=uc(),h=Nb.prototype;h[u]||(h[u]=ZS)}get changes(){return this._changes||(this._changes=new ra)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const m=Nr(l);(this._changesDetected=!function Wm(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let m=a[h],y=l[h];if(u&&(m=u(m),y=u(y)),y!==m)return!1}return!0}(h._results,m,u))&&(h._results=m,h.length=m.length,h.last=m[this.length-1],h.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let b_=(()=>{class a{}return a.__NG_ELEMENT_ID__=Sk,a})();const Ik=b_,Tk=class extends Ik{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l){const u=this._declarationTContainer.tViews,h=Io(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(u)),Bh(u,h,l),new gu(h)}};function Sk(){return Fb(zn(),je())}function Fb(a,l){return 4&a.type?new Tk(l,a,Ur(a,l)):null}let Lb=(()=>{class a{}return a.__NG_ELEMENT_ID__=Dk,a})();function Dk(){return QS(zn(),je())}const xk=Lb,YS=class extends xk{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Ur(this._hostTNode,this._hostLView)}get injector(){return new Xa(this._hostTNode,this._hostLView)}get parentInjector(){const l=Ya(this._hostTNode,this._hostLView);if($l(l)){const u=qa(l,this._hostLView),h=Gl(l);return new Xa(u[1].data[h+8],u)}return new Xa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=KS(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){const m=l.createEmbeddedView(u||{});return this.insert(m,h),m}createComponent(l,u,h,m,y){const E=l&&!function Gc(a){return"function"==typeof a}(l);let x;if(E)x=u;else{const Y=u||{};x=Y.index,h=Y.injector,m=Y.projectableNodes,y=Y.ngModuleRef}const k=E?l:new kb(ni(l)),N=h||this.parentInjector;if(!y&&null==k.ngModule){const re=(E?N:this.parentInjector).get(gc,null);re&&(y=re)}const U=k.create(N,m,void 0,y);return this.insert(U.hostView,x),U}insert(l,u){const h=l._lView,m=h[1];if(function Fu(a){return Pi(a[3])}(h)){const U=this.indexOf(l);if(-1!==U)this.detach(U);else{const Y=h[3],re=new YS(Y,Y[6],Y[3]);re.detach(re.indexOf(l))}}const y=this._adjustIndex(u),E=this._lContainer;!function Ah(a,l,u,h){const m=10+h,y=u.length;h>0&&(u[m-1][4]=l),h<y-10?(l[4]=u[m],Yl(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const E=l[17];null!==E&&u!==E&&function ou(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(E,l);const x=l[19];null!==x&&x.insertView(a),l[2]|=128}(m,h,E,y);const x=mv(y,E),k=h[11],N=pp(k,E[7]);return null!==N&&function lT(a,l,u,h,m,y){h[0]=m,h[6]=l,vg(a,h,u,1,m,y)}(m,E[6],k,h,N,x),l.attachToViewContainerRef(),Yl(ZE(E),y,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=KS(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=cv(this._lContainer,u);h&&(Kl(ZE(this._lContainer),u),_g(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=cv(this._lContainer,u);return h&&null!=Kl(ZE(this._lContainer),u)?new gu(h):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function KS(a){return a[8]}function ZE(a){return a[8]||(a[8]=[])}function QS(a,l){let u;const h=l[a.index];if(Pi(h))u=h;else{let m;if(8&a.type)m=gn(h);else{const y=l[11];m=y.createComment("");const E=Pr(a,l);Co(y,pp(y,E),m,function uT(a,l){return $t(a)?a.nextSibling(l):l.nextSibling}(y,E),!1)}l[a.index]=u=fl(h,l,m,a),g(l,u)}return new YS(u,a,l)}class YE{constructor(l){this.queryList=l,this.matches=null}clone(){return new YE(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bb{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,m=[];for(let y=0;y<h;y++){const E=u.getByIndex(y);m.push(this.queries[E.indexInDeclarationView].clone())}return new Bb(m)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==Ub(l,u).matches&&this.queries[u].setDirty()}}class KE{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class QE{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const m=null!==u?u.length:0,y=this.getByIndex(h).embeddedTView(l,m);y&&(y.indexInDeclarationView=h,null!==u?u.push(y):u=[y])}return null!==u?new QE(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class w_{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new w_(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const y=h[m];this.matchTNodeWithReadOption(l,u,es(u,y)),this.matchTNodeWithReadOption(l,u,_o(u,l,y,!1,!1))}else h===b_?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,_o(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===Xp||m===Lb||m===b_&&4&u.type)this.addMatch(u.index,-2);else{const y=_o(u,l,m,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function es(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function XE(a,l,u,h){return-1===u?function JE(a,l){return 11&a.type?Ur(a,l):4&a.type?Fb(a,l):null}(l,a):-2===u?function eC(a,l,u){return u===Xp?Ur(l,a):u===b_?Fb(l,a):u===Lb?QS(l,a):void 0}(a,l,h):zc(a,a[1],u,l)}function _u(a,l,u,h){const m=l[19].queries[h];if(null===m.matches){const y=a.data,E=u.matches,x=[];for(let k=0;k<E.length;k+=2){const N=E[k];x.push(N<0?null:XE(l,y[N],E[k+1],u.metadata.read))}m.matches=x}return m.matches}function Vb(a,l,u,h){const m=a.queries.getByIndex(u),y=m.matches;if(null!==y){const E=_u(a,l,m,u);for(let x=0;x<y.length;x+=2){const k=y[x];if(k>0)h.push(E[x/2]);else{const N=y[x+1],U=l[-k];for(let Y=10;Y<U.length;Y++){const re=U[Y];re[17]===re[3]&&Vb(re[1],re,N,h)}if(null!==U[9]){const Y=U[9];for(let re=0;re<Y.length;re++){const fe=Y[re];Vb(fe[1],fe,N,h)}}}}}return h}function JS(a){const l=je(),u=mn(),h=Vc();Uc(h+1);const m=Ub(u,h);if(a.dirty&&Ha(l)===(2==(2&m.metadata.flags))){if(null===m.matches)a.reset([]);else{const y=m.crossesNgTemplate?Vb(u,l,h,[]):_u(u,l,m,h);a.reset(y,__),a.notifyOnChanges()}return!0}return!1}function tC(a,l,u){const h=mn();h.firstCreatePass&&(rm(h,new KE(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),Hd(h,je(),l)}function E_(a,l,u,h){const m=mn();if(m.firstCreatePass){const y=zn();rm(m,new KE(l,u,h),y.index),function XS(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(m,a),2==(2&u)&&(m.staticContentQueries=!0)}Hd(m,je(),u)}function jd(){return function ff(a,l){return a[19].queries[l].queryList}(je(),Vc())}function Hd(a,l,u){const h=new Nb(4==(4&u));jv(a,l,h,h.destroy),null===l[19]&&(l[19]=new Bb),l[19].queries.push(new YE(h))}function rm(a,l,u){null===a.queries&&(a.queries=new QE),a.queries.track(new w_(l,u))}function Ub(a,l){return a.queries.getByIndex(l)}function jb(a,l){return Fb(a,l)}function D_(...a){}const sD=new bi("Application Initializer");let Wb=(()=>{class a{constructor(u){this.appInits=u,this.resolve=D_,this.reject=D_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(Jg(y))u.push(y);else if(oE(y)){const E=new Promise((x,k)=>{y.subscribe({complete:x,error:k})});u.push(E)}}Promise.all(u).then(()=>{h()}).catch(m=>{this.reject(m)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Ti(sD,8))},a.\u0275prov=Mn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const oD=new bi("AppId",{providedIn:"root",factory:function aD(){return`${Sr()}${Sr()}${Sr()}`}});function Sr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cD=new bi("Platform Initializer"),uD=new bi("Platform ID"),dD=new bi("appBootstrapListener");let dC=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Mn({token:a,factory:a.\u0275fac}),a})();const cm=new bi("LocaleId",{providedIn:"root",factory:()=>al(cm,Rt.Optional|Rt.SkipSelf)||function Gk(){return"undefined"!=typeof $localize&&$localize.locale||Rd}()}),Wk=new bi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class x_{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let qb=(()=>{class a{compileModuleSync(u){return new uf(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),y=Ma(Bn(u).declarations).reduce((E,x)=>{const k=ni(x);return k&&E.push(new kb(k)),E},[]);return new x_(h,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Mn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const mD=(()=>Promise.resolve(0))();function fC(a){"undefined"==typeof Zone?mD.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Na{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ra(!1),this.onMicrotaskEmpty=new ra(!1),this.onStable=new ra(!1),this.onError=new ra(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&u,m.shouldCoalesceRunChangeDetection=h,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function gD(){let a=hn.requestAnimationFrame,l=hn.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Zk(a){const l=()=>{!function _D(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(hn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Zb(a),a.isCheckStableRunning=!0,mC(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Zb(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,m,y,E,x)=>{try{return yD(a),u.invokeTask(m,y,E,x)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||a.shouldCoalesceRunChangeDetection)&&l(),_f(a)}},onInvoke:(u,h,m,y,E,x,k)=>{try{return yD(a),u.invoke(m,y,E,x,k)}finally{a.shouldCoalesceRunChangeDetection&&l(),_f(a)}},onHasTask:(u,h,m,y)=>{u.hasTask(m,y),h===m&&("microTask"==y.change?(a._hasPendingMicrotasks=y.microTask,Zb(a),mC(a)):"macroTask"==y.change&&(a.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,h,m,y)=>(u.handleError(m,y),a.runOutsideAngular(()=>a.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Na.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Na.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,m){const y=this._inner,E=y.scheduleEventTask("NgZoneEvent: "+m,l,pC,D_,D_);try{return y.runTask(E,u,h)}finally{y.cancelTask(E)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const pC={};function mC(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Zb(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function yD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function _f(a){a._nesting--,mC(a)}class um{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ra,this.onMicrotaskEmpty=new ra,this.onStable=new ra,this.onError=new ra}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,m){return l.apply(u,h)}}let Yb=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Na.assertNotInAngularZone(),fC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fC(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,m){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:m})}whenStable(u,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,m){return[]}}return a.\u0275fac=function(u){return new(u||a)(Ti(Na))},a.\u0275prov=Mn({token:a,factory:a.\u0275fac}),a})(),A_=(()=>{class a{constructor(){this._applications=new Map,Kb.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Kb.findTestabilityInTree(this,u,h)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Mn({token:a,factory:a.\u0275fac}),a})();class vD{addToWindow(l){}findTestabilityInTree(l,u,h){return null}}function bD(a){Kb=a}let El,Kb=new vD;const yC=new bi("AllowMultipleToken");class wD{constructor(l,u){this.name=l,this.token=u}}function M_(a,l,u=[]){const h=`Platform: ${l}`,m=new bi(h);return(y=[])=>{let E=Qb();if(!E||E.injector.get(yC,!1))if(a)a(u.concat(y).concat({provide:m,useValue:!0}));else{const x=u.concat(y).concat({provide:m,useValue:!0},{provide:kw,useValue:"platform"});!function vC(a){if(El&&!El.destroyed&&!El.injector.get(yC,!1))throw new Qe(400,"");El=a.get(Jb);const l=a.get(cD,null);l&&l.forEach(u=>u())}(Xo.create({providers:x,name:h}))}return function k_(a){const l=Qb();if(!l)throw new Qe(401,"");return l}()}}function Qb(){return El&&!El.destroyed?El:null}let Jb=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const x=function wC(a,l){let u;return u="noop"===a?new um:("zone.js"===a?void 0:a)||new Na({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),k=[{provide:Na,useValue:x}];return x.run(()=>{const N=Xo.create({providers:k,parent:this.injector,name:u.moduleType.name}),U=u.create(N),Y=U.injector.get(lp,null);if(!Y)throw new Qe(402,"");return x.runOutsideAngular(()=>{const re=x.onError.subscribe({next:fe=>{Y.handleError(fe)}});U.onDestroy(()=>{EC(this._modules,U),re.unsubscribe()})}),function ED(a,l,u){try{const h=u();return Jg(h)?h.catch(m=>{throw l.runOutsideAngular(()=>a.handleError(m)),m}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(Y,x,()=>{const re=U.injector.get(Wb);return re.runInitializers(),re.donePromise.then(()=>(function Pd(a){Mt(a,"Expected localeId to be defined"),"string"==typeof a&&(Gp=a.toLowerCase().replace(/_/g,"-"))}(U.injector.get(cm,Rd)||Rd),this._moduleDoBootstrap(U),U))})})}bootstrapModule(u,h=[]){const m=CD({},h);return function gC(a,l,u){const h=new uf(u);return Promise.resolve(h)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(u){const h=u.injector.get(Xb);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new Qe(403,"");u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Ti(Xo))},a.\u0275prov=Mn({token:a,factory:a.\u0275fac}),a})();function CD(a,l){return Array.isArray(l)?l.reduce(CD,a):Object.assign(Object.assign({},a),l)}let Xb=(()=>{class a{constructor(u,h,m,y,E){this._zone=u,this._injector=h,this._exceptionHandler=m,this._componentFactoryResolver=y,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new H.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),k=new H.y(N=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Na.assertNotInAngularZone(),fC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{Na.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{U.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,Ne.T)(x,k.pipe((0,Ae.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new Qe(405,"");let m;m=u instanceof OS?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(m.componentType);const y=function _C(a){return a.isBoundToModule}(m)?void 0:this._injector.get(gc),x=m.create(Xo.NULL,[],h||m.selector,y),k=x.location.nativeElement,N=x.injector.get(Yb,null),U=N&&x.injector.get(A_);return N&&U&&U.registerApplication(k,N),x.onDestroy(()=>{this.detachView(x.hostView),EC(this.components,x),U&&U.unregisterApplication(k)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Qe(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;EC(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(dD,[]).concat(this._bootstrapListeners).forEach(m=>m(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(Ti(Na),Ti(Xo),Ti(lp),Ti(vl),Ti(Wb))},a.\u0275prov=Mn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function EC(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let CC=!0,O_=!1;function R_(){return O_=!0,CC}function IC(){if(O_)throw new Error("Cannot enable prod mode after platform setup.");CC=!1}let Qk=(()=>{class a{}return a.__NG_ELEMENT_ID__=Jk,a})();function Jk(a){return function Xk(a,l,u){if(cs(a)&&!u){const h=tr(a.index,l);return new gu(h,h)}return 47&a.type?new gu(l[16],l):null}(zn(),je(),16==(16&a))}class n0{constructor(){}supports(l){return Hh(l)}create(l){return new iO(l)}}const nO=(a,l)=>l;class iO{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||nO}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,m=0,y=null;for(;u||h;){const E=!h||u&&u.currentIndex<r0(h,m,y)?u:h,x=r0(E,m,y),k=E.currentIndex;if(E===h)m--,h=h._nextRemoved;else if(u=u._next,null==E.previousIndex)m++;else{y||(y=[]);const N=x-m,U=k-m;if(N!=U){for(let re=0;re<N;re++){const fe=re<y.length?y[re]:y[re]=0,Le=fe+re;U<=Le&&Le<N&&(y[re]=fe+1)}y[E.previousIndex]=U-N}}x!==k&&l(E,x,k)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Hh(l))throw new Qe(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let m,y,E,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let x=0;x<this.length;x++)y=l[x],E=this._trackByFn(x,y),null!==u&&Object.is(u.trackById,E)?(h&&(u=this._verifyReinsertion(u,y,E,x)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,E,x),h=!0),u=u._next}else m=0,function ib(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[uc()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,x=>{E=this._trackByFn(m,x),null!==u&&Object.is(u.trackById,E)?(h&&(u=this._verifyReinsertion(u,x,E,m)),Object.is(u.item,x)||this._addIdentityChange(u,x)):(u=this._mismatch(u,x,E,m),h=!0),u=u._next,m++}),this.length=m;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,m){let y;return null===l?y=this._itTail:(y=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,y,m)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,y,m)):l=this._addAfter(new MD(u,h),y,m),l}_verifyReinsertion(l,u,h,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?l=this._reinsertAfter(y,l._prev,m):l.currentIndex!=m&&(l.currentIndex=m,this._addToMoves(l,m)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const m=l._prevRemoved,y=l._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const m=null===u?this._itHead:u._next;return l._next=m,l._prev=u,null===m?this._itTail=l:m._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new OD),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OD),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class MD{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kD{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class OD{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new kD,this.map.set(u,h)),h.add(l)}get(l,u){const m=this.map.get(l);return m?m.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function r0(a,l,u){const h=a.previousIndex;if(null===h)return h;let m=0;return u&&h<u.length&&(m=u[h]),h+l+m}class RD{constructor(){}supports(l){return l instanceof Map||zh(l)}create(){return new kC}}class kC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||zh(l)))throw new Qe(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,m)=>{if(u&&u.key===m)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(m,h);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const m=this._records.get(l);this._maybeAddToChanges(m,u);const y=m._prev,E=m._next;return y&&(y._next=E),E&&(E._prev=y),m._next=null,m._prev=null,m}const h=new rO(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class rO{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function s0(){return new OC([new n0])}let OC=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const m=h.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||s0()),deps:[[a,new Qu,new Jl]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(null!=h)return h;throw new Qe(901,"")}}return a.\u0275prov=Mn({token:a,providedIn:"root",factory:s0}),a})();function RC(){return new V_([new RD])}let V_=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const m=h.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||RC()),deps:[[a,new Qu,new Jl]]}}find(u){const h=this.factories.find(y=>y.supports(u));if(h)return h;throw new Qe(901,"")}}return a.\u0275prov=Mn({token:a,providedIn:"root",factory:RC}),a})();const fm=M_(null,"core",[{provide:uD,useValue:"unknown"},{provide:Jb,deps:[Xo]},{provide:A_,deps:[]},{provide:dC,deps:[]}]);let pm=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Ti(Xb))},a.\u0275mod=It({type:a}),a.\u0275inj=Fn({}),a})()},8001:(wt,Oe,G)=>{G.d(Oe,{Z:()=>Bo});function ne(X,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===X&&(X={});break;case Array:X=[];break;default:return L}for(const Q in L)!L.hasOwnProperty(Q)||!Se(Q)||(X[Q]=ne(X[Q],L[Q]));return X}function Se(X){return"__proto__"!==X}class Ue extends Error{constructor(L,Q,ce){super(Q),this.code=L,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ve.prototype.create)}}class ve{constructor(L,Q,ce){this.service=L,this.serviceName=Q,this.errors=ce}create(L,...Q){const ce=Q[0]||{},ae=`${this.service}/${L}`,tt=this.errors[L],ft=tt?function Lt(X,L){return X.replace(Jt,(Q,ce)=>{const ae=L[ce];return null!=ae?String(ae):`<${ce}?>`})}(tt,ce):"Error";return new Ue(ae,`${this.serviceName}: ${ft} (${ae}).`,ce)}}const Jt=/\{\$([^}]+)}/g;function kn(X,L){return Object.prototype.hasOwnProperty.call(X,L)}function Rt(X,L){const Q=new Ba(X,L);return Q.subscribe.bind(Q)}class Ba{constructor(L,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{L(this)}).catch(ce=>{this.error(ce)})}next(L){this.forEachObserver(Q=>{Q.next(L)})}error(L){this.forEachObserver(Q=>{Q.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,Q,ce){let ae;if(void 0===L&&void 0===Q&&void 0===ce)throw new Error("Missing Observer.");ae=function xr(X,L){if("object"!=typeof X||null===X)return!1;for(const Q of L)if(Q in X&&"function"==typeof X[Q])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:Q,complete:ce},void 0===ae.next&&(ae.next=Ar),void 0===ae.error&&(ae.error=Ar),void 0===ae.complete&&(ae.complete=Ar);const tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch(ft){}}),this.observers.push(ae),tt}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,L)}sendOne(L,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{Q(this.observers[L])}catch(ce){"undefined"!=typeof console&&console.error&&console.error(ce)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ar(){}class ie{constructor(L,Q,ce){this.name=L,this.instanceFactory=Q,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}var Ct=G(9206);const wn=[];var ut=(()=>{return(X=ut||(ut={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",ut;var X})();const Ln={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},ti=ut.INFO,It={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},Ki=(X,L,...Q)=>{if(L<X.logLevel)return;const ce=(new Date).toISOString(),ae=It[L];if(!ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[ae](`[${ce}]  ${X.name}:`,...Q)};class ni{constructor(L,Q){this._delegate=L,this.firebase=Q,(0,Ct._addComponent)(L,new ie("app-compat",()=>this,"PUBLIC")),this.container=L.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(L){this._delegate.automaticDataCollectionEnabled=L}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(L=>{this._delegate.checkDestroyed(),L()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Ct.deleteApp)(this._delegate)))}_getService(L,Q=Ct._DEFAULT_ENTRY_NAME){var ce;this._delegate.checkDestroyed();const ae=this._delegate.container.getProvider(L);return!ae.isInitialized()&&"EXPLICIT"===(null===(ce=ae.getComponent())||void 0===ce?void 0:ce.instantiationMode)&&ae.initialize(),ae.getImmediate({identifier:Q})}_removeServiceInstance(L,Q=Ct._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(L).clearInstance(Q)}_addComponent(L){(0,Ct._addComponent)(this._delegate,L)}_addOrOverwriteComponent(L){(0,Ct._addOrOverwriteComponent)(this._delegate,L)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Mr=new ve("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ls=function pr(){const X=function Bn(X){const L={},Q={__esModule:!0,initializeApp:function tt(qt,Vn={}){const nt=Ct.initializeApp(qt,Vn);if(kn(L,nt.name))return L[nt.name];const Tn=new X(nt,Q);return L[nt.name]=Tn,Tn},app:ae,registerVersion:Ct.registerVersion,setLogLevel:Ct.setLogLevel,onLog:Ct.onLog,apps:null,SDK_VERSION:Ct.SDK_VERSION,INTERNAL:{registerComponent:function an(qt){const Vn=qt.name,nt=Vn.replace("-compat","");if(Ct._registerComponent(qt)&&"PUBLIC"===qt.type){const Tn=(pi=ae())=>{if("function"!=typeof pi[nt])throw Mr.create("invalid-app-argument",{appName:Vn});return pi[nt]()};void 0!==qt.serviceProps&&ne(Tn,qt.serviceProps),Q[nt]=Tn,X.prototype[nt]=function(...pi){return this._getService.bind(this,Vn).apply(this,qt.multipleInstances?pi:[])}}return"PUBLIC"===qt.type?Q[nt]:null},removeApp:function ce(qt){delete L[qt]},useAsService:function Nt(qt,Vn){return"serverAuth"===Vn?null:Vn},modularAPIs:Ct}};function ae(qt){if(!kn(L,qt=qt||Ct._DEFAULT_ENTRY_NAME))throw Mr.create("no-app",{appName:qt});return L[qt]}return Q.default=Q,Object.defineProperty(Q,"apps",{get:function ft(){return Object.keys(L).map(qt=>L[qt])}}),ae.App=X,Q}(ni);return X.INTERNAL=Object.assign(Object.assign({},X.INTERNAL),{createFirebaseNamespace:pr,extendNamespace:function L(Q){ne(X,Q)},createSubscribe:Rt,ErrorFactory:ve,deepExtend:ne}),X}(),Ds=new class $r{constructor(L){this.name=L,this._logLevel=ti,this._logHandler=Ki,this._userLogHandler=null,wn.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in ut))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?Ln[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...L),this._logHandler(this,ut.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...L),this._logHandler(this,ut.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...L),this._logHandler(this,ut.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...L),this._logHandler(this,ut.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...L),this._logHandler(this,ut.ERROR,...L)}}("@firebase/app-compat");if(function qe(){return"object"==typeof self&&self.self===self}()&&void 0!==self.firebase){Ds.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const X=self.firebase.SDK_VERSION;X&&X.indexOf("LITE")>=0&&Ds.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Bo=ls;!function fi(X){(0,Ct.registerVersion)("@firebase/app-compat","0.1.30",X)}()},9206:(wt,Oe,G)=>{G.r(Oe),G.d(Oe,{FirebaseError:()=>ve,SDK_VERSION:()=>Mc,_DEFAULT_ENTRY_NAME:()=>cn,_addComponent:()=>Pi,_addOrOverwriteComponent:()=>_a,_apps:()=>Ri,_clearComponents:()=>Rl,_components:()=>ci,_getProvider:()=>lo,_registerComponent:()=>cs,_removeServiceInstance:()=>gi,deleteApp:()=>Ua,getApp:()=>mr,getApps:()=>ku,initializeApp:()=>Or,onLog:()=>kc,registerVersion:()=>co,setLogLevel:()=>Nl});var o=G(5861);const Ae=function(Z){const B=[];let J=0;for(let O=0;O<Z.length;O++){let M=Z.charCodeAt(O);M<128?B[J++]=M:M<2048?(B[J++]=M>>6|192,B[J++]=63&M|128):55296==(64512&M)&&O+1<Z.length&&56320==(64512&Z.charCodeAt(O+1))?(M=65536+((1023&M)<<10)+(1023&Z.charCodeAt(++O)),B[J++]=M>>18|240,B[J++]=M>>12&63|128,B[J++]=M>>6&63|128,B[J++]=63&M|128):(B[J++]=M>>12|224,B[J++]=M>>6&63|128,B[J++]=63&M|128)}return B},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,B){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let M=0;M<Z.length;M+=3){const R=Z[M],z=M+1<Z.length,K=z?Z[M+1]:0,xe=M+2<Z.length,Ye=xe?Z[M+2]:0;let un=(15&K)<<2|Ye>>6,$t=63&Ye;xe||($t=64,z||(un=64)),O.push(J[R>>2],J[(3&R)<<4|K>>4],J[un],J[$t])}return O.join("")},encodeString(Z,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(Z):this.encodeByteArray(Ae(Z),B)},decodeString(Z,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(Z):function(Z){const B=[];let J=0,O=0;for(;J<Z.length;){const M=Z[J++];if(M<128)B[O++]=String.fromCharCode(M);else if(M>191&&M<224){const R=Z[J++];B[O++]=String.fromCharCode((31&M)<<6|63&R)}else if(M>239&&M<365){const xe=((7&M)<<18|(63&Z[J++])<<12|(63&Z[J++])<<6|63&Z[J++])-65536;B[O++]=String.fromCharCode(55296+(xe>>10)),B[O++]=String.fromCharCode(56320+(1023&xe))}else{const R=Z[J++],z=Z[J++];B[O++]=String.fromCharCode((15&M)<<12|(63&R)<<6|63&z)}}return B.join("")}(this.decodeStringToByteArray(Z,B))},decodeStringToByteArray(Z,B){this.init_();const J=B?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let M=0;M<Z.length;){const R=J[Z.charAt(M++)],K=M<Z.length?J[Z.charAt(M)]:0;++M;const Ye=M<Z.length?J[Z.charAt(M)]:64;++M;const St=M<Z.length?J[Z.charAt(M)]:64;if(++M,null==R||null==K||null==Ye||null==St)throw Error();O.push(R<<2|K>>4),64!==Ye&&(O.push(K<<4&240|Ye>>2),64!==St&&O.push(Ye<<6&192|St))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},le=function(Z){return function(Z){const B=Ae(Z);return be.encodeByteArray(B,!0)}(Z).replace(/\./g,"")};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,J)=>{this.resolve=B,this.reject=J})}wrapCallback(B){return(J,O)=>{J?this.reject(J):this.resolve(O),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(J):B(J,O))}}}class ve extends Error{constructor(B,J,O){super(J),this.code=B,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}}class Lt{constructor(B,J,O){this.service=B,this.serviceName=J,this.errors=O}create(B,...J){const O=J[0]||{},M=`${this.service}/${B}`,R=this.errors[B],z=R?function Jt(Z,B){return Z.replace(Wn,(J,O)=>{const M=B[O];return null!=M?String(M):`<${O}?>`})}(R,O):"Error";return new ve(M,`${this.serviceName}: ${z} (${M}).`,O)}}const Wn=/\{\$([^}]+)}/g;function ki(Z,B){if(Z===B)return!0;const J=Object.keys(Z),O=Object.keys(B);for(const M of J){if(!O.includes(M))return!1;const R=Z[M],z=B[M];if(ma(R)&&ma(z)){if(!ki(R,z))return!1}else if(R!==z)return!1}for(const M of O)if(!J.includes(M))return!1;return!0}function ma(Z){return null!==Z&&"object"==typeof Z}class te{constructor(B,J,O){this.name=B,this.instanceFactory=J,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const ue="[DEFAULT]";class Fe{constructor(B,J){this.name=B,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const J=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(J)){const O=new Ze;if(this.instancesDeferred.set(J,O),this.isInitialized(J)||this.shouldAutoInitialize())try{const M=this.getOrInitializeService({instanceIdentifier:J});M&&O.resolve(M)}catch(M){}}return this.instancesDeferred.get(J).promise}getImmediate(B){var J;const O=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),M=null!==(J=null==B?void 0:B.optional)&&void 0!==J&&J;if(!this.isInitialized(O)&&!this.shouldAutoInitialize()){if(M)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:O})}catch(R){if(M)return null;throw R}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function lt(Z){return"EAGER"===Z.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(J){}for(const[J,O]of this.instancesDeferred.entries()){const M=this.normalizeInstanceIdentifier(J);try{const R=this.getOrInitializeService({instanceIdentifier:M});O.resolve(R)}catch(R){}}}}clearInstance(B=ue){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,o.Z)(function*(){const J=Array.from(B.instances.values());yield Promise.all([...J.filter(O=>"INTERNAL"in O).map(O=>O.INTERNAL.delete()),...J.filter(O=>"_delete"in O).map(O=>O._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=ue){return this.instances.has(B)}getOptions(B=ue){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:J={}}=B,O=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(O))throw Error(`${this.name}(${O}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const M=this.getOrInitializeService({instanceIdentifier:O,options:J});for(const[R,z]of this.instancesDeferred.entries())O===this.normalizeInstanceIdentifier(R)&&z.resolve(M);return M}onInit(B,J){var O;const M=this.normalizeInstanceIdentifier(J),R=null!==(O=this.onInitCallbacks.get(M))&&void 0!==O?O:new Set;R.add(B),this.onInitCallbacks.set(M,R);const z=this.instances.get(M);return z&&B(z,M),()=>{R.delete(B)}}invokeOnInitCallbacks(B,J){const O=this.onInitCallbacks.get(J);if(O)for(const M of O)try{M(B,J)}catch(R){}}getOrInitializeService({instanceIdentifier:B,options:J={}}){let O=this.instances.get(B);if(!O&&this.component&&(O=this.component.instanceFactory(this.container,{instanceIdentifier:(Z=B,Z===ue?void 0:Z),options:J}),this.instances.set(B,O),this.instancesOptions.set(B,J),this.invokeOnInitCallbacks(O,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,O)}catch(M){}var Z;return O||null}normalizeInstanceIdentifier(B=ue){return this.component?this.component.multipleInstances?B:ue:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ct{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const J=this.getProvider(B.name);if(J.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);J.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const J=new Fe(B,this);return this.providers.set(B,J),J}getProviders(){return Array.from(this.providers.values())}}const wn=[];var ut=(()=>{return(Z=ut||(ut={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",ut;var Z})();const Ln={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},ti=ut.INFO,It={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},Ki=(Z,B,...J)=>{if(B<Z.logLevel)return;const O=(new Date).toISOString(),M=It[B];if(!M)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[M](`[${O}]  ${Z.name}:`,...J)};var ni=G(8766);class as{constructor(B){this.container=B}getPlatformInfoString(){return this.container.getProviders().map(J=>{if(function Mr(Z){const B=Z.getComponent();return"VERSION"===(null==B?void 0:B.type)}(J)){const O=J.getImmediate();return`${O.library}/${O.version}`}return null}).filter(J=>J).join(" ")}}const Bn="@firebase/app",ls=new class $r{constructor(B){this.name=B,this._logLevel=ti,this._logHandler=Ki,this._userLogHandler=null,wn.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in ut))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?Ln[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...B),this._logHandler(this,ut.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...B),this._logHandler(this,ut.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...B),this._logHandler(this,ut.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...B),this._logHandler(this,ut.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...B),this._logHandler(this,ut.ERROR,...B)}}("@firebase/app"),cn="[DEFAULT]",Ol={[Bn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ri=new Map,ci=new Map;function Pi(Z,B){try{Z.container.addComponent(B)}catch(J){ls.debug(`Component ${B.name} failed to register with FirebaseApp ${Z.name}`,J)}}function _a(Z,B){Z.container.addOrOverwriteComponent(B)}function cs(Z){const B=Z.name;if(ci.has(B))return ls.debug(`There were multiple attempts to register component ${B}.`),!1;ci.set(B,Z);for(const J of Ri.values())Pi(J,Z);return!0}function lo(Z,B){const J=Z.container.getProvider("heartbeat").getImmediate({optional:!0});return J&&J.triggerHeartbeat(),Z.container.getProvider(B)}function gi(Z,B,J=cn){lo(Z,B).clearInstance(J)}function Rl(){ci.clear()}const Wr=new Lt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ii{constructor(B,J,O){this._isDeleted=!1,this._options=Object.assign({},B),this._config=Object.assign({},J),this._name=J.name,this._automaticDataCollectionEnabled=J.automaticDataCollectionEnabled,this._container=O,this.container.addComponent(new te("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(B){this.checkDestroyed(),this._automaticDataCollectionEnabled=B}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(B){this._isDeleted=B}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}const Mc="9.9.1";function Or(Z,B={}){"object"!=typeof B&&(B={name:B});const J=Object.assign({name:cn,automaticDataCollectionEnabled:!1},B),O=J.name;if("string"!=typeof O||!O)throw Wr.create("bad-app-name",{appName:String(O)});const M=Ri.get(O);if(M){if(ki(Z,M.options)&&ki(J,M.config))return M;throw Wr.create("duplicate-app",{appName:O})}const R=new Ct(O);for(const K of ci.values())R.addComponent(K);const z=new ii(Z,J,R);return Ri.set(O,z),z}function mr(Z=cn){const B=Ri.get(Z);if(!B)throw Wr.create("no-app",{appName:Z});return B}function ku(){return Array.from(Ri.values())}function Ua(Z){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,o.Z)(function*(Z){const B=Z.name;Ri.has(B)&&(Ri.delete(B),yield Promise.all(Z.container.getProviders().map(J=>J.delete())),Z.isDeleted=!0)})).apply(this,arguments)}function co(Z,B,J){var O;let M=null!==(O=Ol[Z])&&void 0!==O?O:Z;J&&(M+=`-${J}`);const R=M.match(/\s|\//),z=B.match(/\s|\//);if(R||z){const K=[`Unable to register library "${M}" with version "${B}":`];return R&&K.push(`library name "${M}" contains illegal characters (whitespace or "/")`),R&&z&&K.push("and"),z&&K.push(`version name "${B}" contains illegal characters (whitespace or "/")`),void ls.warn(K.join(" "))}cs(new te(`${M}-version`,()=>({library:M,version:B}),"VERSION"))}function kc(Z,B){if(null!==Z&&"function"!=typeof Z)throw Wr.create("invalid-log-argument");!function Va(Z,B){for(const J of wn){let O=null;B&&B.level&&(O=Ln[B.level]),J.userLogHandler=null===Z?null:(M,R,...z)=>{const K=z.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch(Ye){return null}}).filter(xe=>xe).join(" ");R>=(null!=O?O:M.logLevel)&&Z({level:ut[R].toLowerCase(),message:K,args:z,type:M.name})}}}(Z,B)}function Nl(Z){!function Lo(Z){wn.forEach(B=>{B.setLogLevel(Z)})}(Z)}const ho="firebase-heartbeat-store";let As=null;function Ou(){return As||(As=(0,ni.X3)("firebase-heartbeat-database",1,{upgrade:(Z,B)=>{0===B&&Z.createObjectStore(ho)}}).catch(Z=>{throw Wr.create("storage-open",{originalErrorMessage:Z.message})})),As}function gr(){return(gr=(0,o.Z)(function*(Z){var B;try{return(yield Ou()).transaction(ho).objectStore(ho).get(qr(Z))}catch(J){throw Wr.create("storage-get",{originalErrorMessage:null===(B=J)||void 0===B?void 0:B.message})}})).apply(this,arguments)}function _r(Z,B){return us.apply(this,arguments)}function us(){return(us=(0,o.Z)(function*(Z,B){var J;try{const M=(yield Ou()).transaction(ho,"readwrite");return yield M.objectStore(ho).put(B,qr(Z)),M.done}catch(O){throw Wr.create("storage-set",{originalErrorMessage:null===(J=O)||void 0===J?void 0:J.message})}})).apply(this,arguments)}function qr(Z){return`${Z.name}!${Z.options.appId}`}class Ms{constructor(B){this.container=B,this._heartbeatsCache=null;const J=this.container.getProvider("app").getImmediate();this._storage=new Ru(J),this._heartbeatsCachePromise=this._storage.read().then(O=>(this._heartbeatsCache=O,O))}triggerHeartbeat(){var B=this;return(0,o.Z)(function*(){const O=B.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),M=jo();if(null===B._heartbeatsCache&&(B._heartbeatsCache=yield B._heartbeatsCachePromise),B._heartbeatsCache.lastSentHeartbeatDate!==M&&!B._heartbeatsCache.heartbeats.some(R=>R.date===M))return B._heartbeatsCache.heartbeats.push({date:M,agent:O}),B._heartbeatsCache.heartbeats=B._heartbeatsCache.heartbeats.filter(R=>{const z=new Date(R.date).valueOf();return Date.now()-z<=2592e6}),B._storage.overwrite(B._heartbeatsCache)})()}getHeartbeatsHeader(){var B=this;return(0,o.Z)(function*(){if(null===B._heartbeatsCache&&(yield B._heartbeatsCachePromise),null===B._heartbeatsCache||0===B._heartbeatsCache.heartbeats.length)return"";const J=jo(),{heartbeatsToSend:O,unsentEntries:M}=function Oc(Z,B=1024){const J=[];let O=Z.slice();for(const M of Z){const R=J.find(z=>z.agent===M.agent);if(R){if(R.dates.push(M.date),Ii(J)>B){R.dates.pop();break}}else if(J.push({agent:M.agent,dates:[M.date]}),Ii(J)>B){J.pop();break}O=O.slice(1)}return{heartbeatsToSend:J,unsentEntries:O}}(B._heartbeatsCache.heartbeats),R=le(JSON.stringify({version:2,heartbeats:O}));return B._heartbeatsCache.lastSentHeartbeatDate=J,M.length>0?(B._heartbeatsCache.heartbeats=M,yield B._storage.overwrite(B._heartbeatsCache)):(B._heartbeatsCache.heartbeats=[],B._storage.overwrite(B._heartbeatsCache)),R})()}}function jo(){return(new Date).toISOString().substring(0,10)}class Ru{constructor(B){this.app=B,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!function se(){return"object"==typeof indexedDB}()&&function ye(){return new Promise((Z,B)=>{try{let J=!0;const O="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(O);M.onsuccess=()=>{M.result.close(),J||self.indexedDB.deleteDatabase(O),Z(!0)},M.onupgradeneeded=()=>{J=!1},M.onerror=()=>{var R;B((null===(R=M.error)||void 0===R?void 0:R.message)||"")}}catch(J){B(J)}})}().then(()=>!0).catch(()=>!1)})()}read(){var B=this;return(0,o.Z)(function*(){return(yield B._canUseIndexedDBPromise)&&(yield function Fl(Z){return gr.apply(this,arguments)}(B.app))||{heartbeats:[]}})()}overwrite(B){var J=this;return(0,o.Z)(function*(){var O;if(yield J._canUseIndexedDBPromise){const R=yield J.read();return _r(J.app,{lastSentHeartbeatDate:null!==(O=B.lastSentHeartbeatDate)&&void 0!==O?O:R.lastSentHeartbeatDate,heartbeats:B.heartbeats})}})()}add(B){var J=this;return(0,o.Z)(function*(){var O;if(yield J._canUseIndexedDBPromise){const R=yield J.read();return _r(J.app,{lastSentHeartbeatDate:null!==(O=B.lastSentHeartbeatDate)&&void 0!==O?O:R.lastSentHeartbeatDate,heartbeats:[...R.heartbeats,...B.heartbeats]})}})()}}function Ii(Z){return le(JSON.stringify({version:2,heartbeats:Z})).length}!function ja(Z){cs(new te("platform-logger",B=>new as(B),"PRIVATE")),cs(new te("heartbeat",B=>new Ms(B),"PRIVATE")),co(Bn,"0.7.29",Z),co(Bn,"0.7.29","esm2017"),co("fire-js","")}("")},7172:(wt,Oe,G)=>{G.d(Oe,{wA:()=>ee}),G(1683);class ee{constructor(le,de,ne){this.name=le,this.instanceFactory=de,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(le){return this.instantiationMode=le,this}setMultipleInstances(le){return this.multipleInstances=le,this}setServiceProps(le){return this.serviceProps=le,this}setInstanceCreatedCallback(le){return this.onInstanceCreated=le,this}}},1791:(wt,Oe,G)=>{G.d(Oe,{in:()=>ee,Yd:()=>be});const o=[];var ee=(()=>{return(de=ee||(ee={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",ee;var de})();const H={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},Ne=ee.INFO,Ae={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},Re=(de,ne,...Se)=>{if(ne<de.logLevel)return;const _t=(new Date).toISOString(),Ze=Ae[ne];if(!Ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Ze](`[${_t}]  ${de.name}:`,...Se)};class be{constructor(ne){this.name=ne,this._logLevel=Ne,this._logHandler=Re,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in ee))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?H[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...ne),this._logHandler(this,ee.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...ne),this._logHandler(this,ee.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...ne),this._logHandler(this,ee.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...ne),this._logHandler(this,ee.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...ne),this._logHandler(this,ee.ERROR,...ne)}}},8766:(wt,Oe,G)=>{G.d(Oe,{Lj:()=>We,X3:()=>yt});var o=G(5861);let H,Ne;const be=new WeakMap,we=new WeakMap,le=new WeakMap,de=new WeakMap,ne=new WeakMap;let Ze={get(ke,se,ye){if(ke instanceof IDBTransaction){if("done"===se)return we.get(ke);if("objectStoreNames"===se)return ke.objectStoreNames||le.get(ke);if("store"===se)return ye.objectStoreNames[1]?void 0:ye.objectStore(ye.objectStoreNames[0])}return qe(ke[se])},set:(ke,se,ye)=>(ke[se]=ye,!0),has:(ke,se)=>ke instanceof IDBTransaction&&("done"===se||"store"===se)||se in ke};function $e(ke){return"function"==typeof ke?function mt(ke){return ke!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Re(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ke)?function(...se){return ke.apply(Et(this),se),qe(be.get(this))}:function(...se){return qe(ke.apply(Et(this),se))}:function(se,...ye){const Ee=ke.call(Et(this),se,...ye);return le.set(Ee,se.sort?se.sort():[se]),qe(Ee)}}(ke):(ke instanceof IDBTransaction&&function _t(ke){if(we.has(ke))return;const se=new Promise((ye,Ee)=>{const Ce=()=>{ke.removeEventListener("complete",Ue),ke.removeEventListener("error",ve),ke.removeEventListener("abort",ve)},Ue=()=>{ye(),Ce()},ve=()=>{Ee(ke.error||new DOMException("AbortError","AbortError")),Ce()};ke.addEventListener("complete",Ue),ke.addEventListener("error",ve),ke.addEventListener("abort",ve)});we.set(ke,se)}(ke),((ke,se)=>se.some(ye=>ke instanceof ye))(ke,function Ae(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ke,Ze):ke)}function qe(ke){if(ke instanceof IDBRequest)return function Se(ke){const se=new Promise((ye,Ee)=>{const Ce=()=>{ke.removeEventListener("success",Ue),ke.removeEventListener("error",ve)},Ue=()=>{ye(qe(ke.result)),Ce()},ve=()=>{Ee(ke.error),Ce()};ke.addEventListener("success",Ue),ke.addEventListener("error",ve)});return se.then(ye=>{ye instanceof IDBCursor&&be.set(ye,ke)}).catch(()=>{}),ne.set(se,ke),se}(ke);if(de.has(ke))return de.get(ke);const se=$e(ke);return se!==ke&&(de.set(ke,se),ne.set(se,ke)),se}const Et=ke=>ne.get(ke);function yt(ke,se,{blocked:ye,upgrade:Ee,blocking:Ce,terminated:Ue}={}){const ve=indexedDB.open(ke,se),Lt=qe(ve);return Ee&&ve.addEventListener("upgradeneeded",Jt=>{Ee(qe(ve.result),Jt.oldVersion,Jt.newVersion,qe(ve.transaction))}),ye&&ve.addEventListener("blocked",()=>ye()),Lt.then(Jt=>{Ue&&Jt.addEventListener("close",()=>Ue()),Ce&&Jt.addEventListener("versionchange",()=>Ce())}).catch(()=>{}),Lt}function We(ke,{blocked:se}={}){const ye=indexedDB.deleteDatabase(ke);return se&&ye.addEventListener("blocked",()=>se()),qe(ye).then(()=>{})}const Ge=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],gt=new Map;function De(ke,se){if(!(ke instanceof IDBDatabase)||se in ke||"string"!=typeof se)return;if(gt.get(se))return gt.get(se);const ye=se.replace(/FromIndex$/,""),Ee=se!==ye,Ce=Ve.includes(ye);if(!(ye in(Ee?IDBIndex:IDBObjectStore).prototype)||!Ce&&!Ge.includes(ye))return;const Ue=function(){var ve=(0,o.Z)(function*(Lt,...Jt){const Wn=this.transaction(Lt,Ce?"readwrite":"readonly");let Mt=Wn.store;return Ee&&(Mt=Mt.index(Jt.shift())),(yield Promise.all([Mt[ye](...Jt),Ce&&Wn.done]))[0]});return function(Jt){return ve.apply(this,arguments)}}();return gt.set(se,Ue),Ue}!function Qe(ke){Ze=ke(Ze)}(ke=>XH(JH({},ke),{get:(se,ye,Ee)=>De(se,ye)||ke.get(se,ye,Ee),has:(se,ye)=>!!De(se,ye)||ke.has(se,ye)}))},5861:(wt,Oe,G)=>{function o(H,Ne,Ae,Re,be,we,le){try{var de=H[we](le),ne=de.value}catch(Se){return void Ae(Se)}de.done?Ne(ne):Promise.resolve(ne).then(Re,be)}function ee(H){return function(){var Ne=this,Ae=arguments;return new Promise(function(Re,be){var we=H.apply(Ne,Ae);function le(ne){o(we,Re,be,le,de,"next",ne)}function de(ne){o(we,Re,be,le,de,"throw",ne)}le(void 0)})}}G.d(Oe,{Z:()=>ee})}},wt=>{wt(wt.s=5828)}]);